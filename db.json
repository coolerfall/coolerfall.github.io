{"meta":{"version":1,"warehouse":"4.0.2"},"models":{"Asset":[{"_id":"source/CNAME","path":"CNAME","modified":0,"renderable":0},{"_id":"source/README.md","path":"README.md","modified":0,"renderable":0},{"_id":"source/images/alipay.png","path":"images/alipay.png","modified":0,"renderable":0},{"_id":"source/images/avatar.png","path":"images/avatar.png","modified":0,"renderable":0},{"_id":"source/images/wechatpay.png","path":"images/wechatpay.png","modified":0,"renderable":0},{"_id":"source/images/gradle-maven/comments1.jpg","path":"images/gradle-maven/comments1.jpg","modified":0,"renderable":0},{"_id":"source/images/gradle-maven/comments2.jpg","path":"images/gradle-maven/comments2.jpg","modified":0,"renderable":0},{"_id":"source/images/gradle-maven/create_issue1.jpg","path":"images/gradle-maven/create_issue1.jpg","modified":0,"renderable":0},{"_id":"source/images/gradle-maven/create_issue2.jpg","path":"images/gradle-maven/create_issue2.jpg","modified":0,"renderable":0},{"_id":"source/images/gradle-maven/new-issue.jpg","path":"images/gradle-maven/new-issue.jpg","modified":0,"renderable":0},{"_id":"source/images/gradle-maven/release.jpg","path":"images/gradle-maven/release.jpg","modified":0,"renderable":0},{"_id":"source/images/work-on-linux/font-config-effects1.png","path":"images/work-on-linux/font-config-effects1.png","modified":0,"renderable":0},{"_id":"source/images/work-on-linux/font-config-effects2.png","path":"images/work-on-linux/font-config-effects2.png","modified":0,"renderable":0},{"_id":"source/images/work-on-linux/font-config.png","path":"images/work-on-linux/font-config.png","modified":0,"renderable":0},{"_id":"node_modules/hexo-theme-next/source/css/main.styl","path":"css/main.styl","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/css/noscript.styl","path":"css/noscript.styl","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/images/apple-touch-icon-next.png","path":"images/apple-touch-icon-next.png","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/images/avatar.gif","path":"images/avatar.gif","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/images/favicon-16x16-next.png","path":"images/favicon-16x16-next.png","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/images/favicon-32x32-next.png","path":"images/favicon-32x32-next.png","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/images/logo-algolia-nebula-blue-full.svg","path":"images/logo-algolia-nebula-blue-full.svg","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/images/logo.svg","path":"images/logo.svg","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/bookmark.js","path":"js/bookmark.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/comments-buttons.js","path":"js/comments-buttons.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/comments.js","path":"js/comments.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/config.js","path":"js/config.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/motion.js","path":"js/motion.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/next-boot.js","path":"js/next-boot.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/pjax.js","path":"js/pjax.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/schedule.js","path":"js/schedule.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/utils.js","path":"js/utils.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/schemes/muse.js","path":"js/schemes/muse.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/addtoany.js","path":"js/third-party/addtoany.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/fancybox.js","path":"js/third-party/fancybox.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/pace.js","path":"js/third-party/pace.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/quicklink.js","path":"js/third-party/quicklink.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/analytics/baidu-analytics.js","path":"js/third-party/analytics/baidu-analytics.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/analytics/google-analytics.js","path":"js/third-party/analytics/google-analytics.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/analytics/growingio.js","path":"js/third-party/analytics/growingio.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/analytics/matomo.js","path":"js/third-party/analytics/matomo.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/math/mathjax.js","path":"js/third-party/math/mathjax.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/math/katex.js","path":"js/third-party/math/katex.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/chat/gitter.js","path":"js/third-party/chat/gitter.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/chat/chatra.js","path":"js/third-party/chat/chatra.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/chat/tidio.js","path":"js/third-party/chat/tidio.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/changyan.js","path":"js/third-party/comments/changyan.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/disqus.js","path":"js/third-party/comments/disqus.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/disqusjs.js","path":"js/third-party/comments/disqusjs.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/gitalk.js","path":"js/third-party/comments/gitalk.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/isso.js","path":"js/third-party/comments/isso.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/livere.js","path":"js/third-party/comments/livere.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/utterances.js","path":"js/third-party/comments/utterances.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/search/local-search.js","path":"js/third-party/search/local-search.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/search/algolia-search.js","path":"js/third-party/search/algolia-search.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/statistics/lean-analytics.js","path":"js/third-party/statistics/lean-analytics.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/statistics/firestore.js","path":"js/third-party/statistics/firestore.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/tags/mermaid.js","path":"js/third-party/tags/mermaid.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/tags/pdf.js","path":"js/third-party/tags/pdf.js","modified":0,"renderable":1}],"Cache":[{"_id":"source/CNAME","hash":"9b4489655b1ef5a8a62dbb844ac72a53edbffdfb","modified":1684811275025},{"_id":"source/_posts/2015-02-03-github-pages-with-jekyll.md","hash":"157e726b89e813ec0c77a34ea5d3424659f903f0","modified":1684822275083},{"_id":"source/README.md","hash":"1c4b1a59fcbe980d2bb7070fb056101dc98d7aac","modified":1684811275025},{"_id":"source/404.html","hash":"0905e426789258bc7e8b93e6c485cef4dbf3a0c6","modified":1684811275025},{"_id":"source/_posts/2015-02-14-andoird-studio-update.md","hash":"b338dba66819e887805e1f4ba31ee2b6728c0738","modified":1684811275015},{"_id":"source/_posts/2015-02-08-use-ndk-in-android-studio.md","hash":"e0d3dd08e4e3604bdc4dd4e02fdee3ccd7df9525","modified":1684822279443},{"_id":"source/_posts/2015-02-14-multiple-channel-packing.md","hash":"acca4525f0528b24f1c1e80522ca21aa64b58d4a","modified":1684811275015},{"_id":"source/_posts/2015-03-19-golang-hash.md","hash":"7d34955abd458fbb04fdc293ba005585f03d9a27","modified":1684811275015},{"_id":"source/_posts/2015-03-16-listen-home-key.md","hash":"816beea961fffc12deded25a2c41434bc0160635","modified":1684811275015},{"_id":"source/_posts/2015-03-23-android-app-daemon.md","hash":"1dad7d71124a5b4d711962d5079e8502e369b7cc","modified":1684811275015},{"_id":"source/_posts/2015-03-28-gradle-push-to-maven.md","hash":"9cae20aa5c9ade11f6f6a4b13bfa202611a8ea4e","modified":1684822334672},{"_id":"source/_posts/2015-03-25-android-app-uninstall-watcher.md","hash":"bb405769e5340e4d383cbc91a8ebddf7bc0618f4","modified":1684811275015},{"_id":"source/_posts/2015-04-03-android-task-affinity.md","hash":"296ecfb37dd5281dbc632da6ee5a43038ba1231f","modified":1684811275015},{"_id":"source/_posts/2015-05-14-git-problems.md","hash":"d9072742afaddf73656469d2bf1569104d70fa78","modified":1684811275015},{"_id":"source/_posts/2015-06-03-android-launch-mode.md","hash":"ff3effb67f095167b561a39d32131d57b0326f24","modified":1684822451810},{"_id":"source/_posts/2015-07-10-jni_register.md","hash":"0cfd7cb0ef01ffd6c35d5815c17fd1b5254cee8f","modified":1684822459364},{"_id":"source/_posts/2015-07-21-android-marquee.md","hash":"eafacdeec580216e7486aa787a8a0b365aff4e70","modified":1684822462424},{"_id":"source/_posts/2015-07-04-jni-signature.md","hash":"64d777a56c765473e79c0bc2b7b5e468915e443c","modified":1684822456010},{"_id":"source/_posts/2015-07-22-linux-c-string-operation.md","hash":"02bab84de6fd48f55f5548bc09f2859276980b35","modified":1684811275015},{"_id":"source/_posts/2015-06-24-bad-interpreter.md","hash":"de5a0ccbe132d364d8465514a5dd9f4810cdb966","modified":1684811275015},{"_id":"source/_posts/2015-07-27-app-widget-animation.md","hash":"9d02d078b8b866ba3e1bfebbe57fd3412741f464","modified":1684822481857},{"_id":"source/_posts/2015-07-24-java-hash.md","hash":"e7c0a041e407b9a0bb877f195796218bb2aa1cbb","modified":1684822479000},{"_id":"source/_posts/2015-11-20-proguard-shrink-error.md","hash":"eb813ae695753e78c72d8044bab1d42e0faa63ae","modified":1684822485100},{"_id":"source/_posts/2016-01-06-media-session-compat.md","hash":"84a5ea9c7f65ac32d2b8c878c9754acee55dc9d7","modified":1684822488363},{"_id":"source/_posts/2016-03-30-url-query-sanitizer.md","hash":"b94e7274f3f79e0981bad13e5272e853efd6600b","modified":1684822492093},{"_id":"source/_posts/2018-10-16-jekyll-to-hexo.md","hash":"b8ccc87cdd08910cdc01d3e2d36cc94e83520488","modified":1684811275015},{"_id":"source/_posts/2018-10-17-work-on-linux-part-one.md","hash":"481aa55f555eb498befc73807cacf736b66c16f4","modified":1684821525346},{"_id":"source/_posts/2018-10-22-work-on-linux-part-three.md","hash":"88556287a3f3fd770b94d7b14556cf58edb6368d","modified":1684822357285},{"_id":"source/_posts/2018-10-18-work-on-linux-part-two.md","hash":"09dce324de77b7ef36aa2c4e2ea4474fb73d757a","modified":1684821632378},{"_id":"source/_posts/2019-02-19-migrate-disqus-to-colina.md","hash":"b2e28b0ae766bce09b4e3edc1aeda287b06117b7","modified":1684811275015},{"_id":"source/categories/index.md","hash":"679b5caa332d7a1eb0f3dceb36c51e2c5f9d17b4","modified":1684811275025},{"_id":"source/tags/index.md","hash":"0f9ac295928a2afea7f8907033507a139523132f","modified":1684811275025},{"_id":"source/about/index.md","hash":"59cd7a023d0f3d535f0f4fbb5e5f1bc8fedf4c10","modified":1684811275025},{"_id":"source/images/avatar.png","hash":"b69aec231b881359c97247f63bbc25462d481c11","modified":1684811275021},{"_id":"source/images/alipay.png","hash":"c8443414f9b2590d9a630b278c854198c1761e8f","modified":1684811275018},{"_id":"source/images/gradle-maven/comments2.jpg","hash":"95a5831572ff51fc60a4f563269d3219c93ab331","modified":1684811275021},{"_id":"source/images/gradle-maven/comments1.jpg","hash":"6ea4f3d15753162c707d33609705ca59768de51b","modified":1684811275021},{"_id":"source/images/gradle-maven/create_issue1.jpg","hash":"020e68f315291e73d532cdf951ccaab32666914d","modified":1684811275025},{"_id":"source/images/gradle-maven/create_issue2.jpg","hash":"569521df1f50986cc0a9cf00b096f9f7ccb51af6","modified":1684811275025},{"_id":"source/images/gradle-maven/new-issue.jpg","hash":"b7f17e54afeca6ad9e75fdefa358d8ea440a923a","modified":1684811275025},{"_id":"source/images/gradle-maven/release.jpg","hash":"6581e3076e8ea3d6ca4136c22851c082a42ac29e","modified":1684811275025},{"_id":"source/images/wechatpay.png","hash":"2af6b90efcea76f509ef60456b9603d136267a60","modified":1684811275015},{"_id":"source/images/work-on-linux/font-config.png","hash":"2c9e9bb309cb78ccab4be097d7fdb4e1f50500c1","modified":1684811275018},{"_id":"source/images/work-on-linux/font-config-effects2.png","hash":"af5e42b0ab4bcc4ab4de3a777c0c53fd3df5eef7","modified":1684811275018},{"_id":"source/images/work-on-linux/font-config-effects1.png","hash":"83a80717a3ccd61f5a95ec19215332f1231bb0a4","modified":1684811275018},{"_id":"node_modules/hexo-theme-next/_vendors.yml","hash":"418a7887d4aa96422956d3c992f4e788082cd8a1","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/package.json","hash":"3eed20f67ef9c107e3c952b7b05d2a2714c6a7c9","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/LICENSE.md","hash":"68fc9a03d50fd4b5ea97092b05967d1819dea2c4","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/docs/AGPL3.md","hash":"0d2b8c5fa8a614723be0767cc3bca39c49578036","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/_config.yml","hash":"c0b057baab99a49fb2640029276479442e5f3ccb","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/README.md","hash":"36c4b25587ca494102323dab5a38de5490451a64","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/languages/ar.yml","hash":"7d0f39e8684284a04bb9808521c87fecda8bd131","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/docs/LICENSE.txt","hash":"f5b14f791b7cfa1d16da981d929152e088a5d1b8","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/docs/AUTHORS.md","hash":"a648823121563c34a177ae91f5a774b5e29f01a0","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/languages/bn.yml","hash":"9f791494afa263c3e31f14b8a5fa2996dfc834c0","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/languages/de.yml","hash":"79b37df731c29665dee6cd7c90d278e1edfb6e24","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/languages/README.md","hash":"b2567e32805dda79601157351a07e5ca9fe01315","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/languages/en.yml","hash":"ba0fd79a2b1d8db01a034180556061745965ff05","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/languages/es.yml","hash":"dffc63ef42e1266b88e0acf08994fd17a9908d53","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/languages/fa.yml","hash":"f3ffc444599f4ac92d62e9ed00a1490ebc277d70","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/languages/fr.yml","hash":"44cd26479f503751329f6da2ed80cce1bbf18117","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/languages/id.yml","hash":"929df147f4f17d638b07de5fe52ca13e2549ab1c","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/languages/it.yml","hash":"16d716ecfd748def2f6486ef5a82d0ab7ceb4890","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/languages/ko.yml","hash":"d345a303310c8a5f4836c3683f3580f861ebd1b4","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/languages/ja.yml","hash":"543222bfc516aab6c33e8534f807972ecb8943a9","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/languages/ru.yml","hash":"c6d8de0ff7d8148d09993257cfd3b7aca755696c","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/languages/pt.yml","hash":"70de366e10ea584ba039d40d6b35ac97f93454ad","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/languages/nl.yml","hash":"3cb3687696635ec71b4ca40c5fc43b56acc8843e","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/languages/pt-BR.yml","hash":"76b8576ce228d540a16b1f0af5af2cce20923194","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/languages/si.yml","hash":"2d712eedf3f60d04d36c3108cf5a12e2a52e875c","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/languages/tk.yml","hash":"511726054873f6f8d7ce0d2e803f6731de0ddbe7","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/languages/th.yml","hash":"6829e998b39f8f143e20b276bb1f62d95a29de58","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/languages/tr.yml","hash":"a57e4ed089b893a95f5e1ecff17ce625165f4d46","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/languages/zh-CN.yml","hash":"741d7efe0262c9cdc2c648014b55599665d90f6b","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/languages/uk.yml","hash":"ff537047b4b4c3ca9a7b64fa7f428a9942751eeb","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/languages/zh-HK.yml","hash":"88ea50eeb9097ab4a87a44981a102d8594feb064","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/languages/vi.yml","hash":"7ebcba5e1128784195e4681dffc9d34c4e873fec","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_layout.njk","hash":"fc0a45112f2dcfc2642404e8934ea32a793c3bd7","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/index.njk","hash":"dd63e488ae8cc144335a5958acedf6a16edd7a92","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/languages/zh-TW.yml","hash":"4695c87d6b81b3a23d16ad6513d9eaa925f8d8ad","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/archive.njk","hash":"d759f4d2cf5ddc6875ea250113a00662c1caf6d1","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/page.njk","hash":"b0660b2af0ac7d3fda14ca4d9f2c9e79ef06c6f9","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/category.njk","hash":"c68b7343d0f8145010f93351908cc36ef6212ec1","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/post.njk","hash":"0bfce9f133f501a9a4837257e3b862b3bbca15be","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/tag.njk","hash":"9e16ba20c28a7f2c6bc75aa427f48122301a30aa","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/docs/zh-CN/CODE_OF_CONDUCT.md","hash":"7a06d443f374bd1e84294067a0ac796afd9fbe60","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/docs/ru/README.md","hash":"ac3c4a7616ea80f0d32d68d6e53233952ba756dc","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/docs/zh-CN/CONTRIBUTING.md","hash":"a089f7a8368ab0b7d7b9b7ec0ac3767a453435df","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_macro/sidebar.njk","hash":"547c62ab14d9e05d2d9116db9048a677fbe1fb6d","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/docs/zh-CN/README.md","hash":"9bbdbb0656505acceef9b9895a576164175fe888","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_macro/post-collapse.njk","hash":"1a30d751871dabfa80940042ddb1f77d07d830b9","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_partials/comments.njk","hash":"d0c470b0f6690aa217e9ada848c5e2e73fb27c6f","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_partials/footer.njk","hash":"c40760b559c516677c8b11a00ba50c011f2079fd","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_partials/languages.njk","hash":"e43f22198cccb5f6e306b1ce0d28d12a4fb891f8","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_macro/post.njk","hash":"95822069cce2c4702e035c770b3089bc12a3404c","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_partials/pagination.njk","hash":"bc719473ed5948ab6859449d60b8d36cfc1542b4","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_third-party/addtoany.njk","hash":"ef64c6bfb8540cd874701236b9be47db2496e98e","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_partials/widgets.njk","hash":"e7f988ecddb2159313699a00827a45eca5622bd4","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_third-party/index.njk","hash":"3f5b48ad3a34cce8bb35f2346b4fbf94078af2e4","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_scripts/index.njk","hash":"6668878a0f9a1166c6a879755f54a08d942da870","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/scripts/events/index.js","hash":"bd9ea82376cd87df611ea3ae077875c7c595a3df","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_scripts/vendors.njk","hash":"be80b9fe415a9a09d74c28e230995fd292dfc123","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/scripts/filters/locals.js","hash":"9eb5310664759931287dd28ea39165dfb67f12ed","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/scripts/filters/default-injects.js","hash":"872f01cb10e422a648ea505436532e776e92926b","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/scripts/filters/post.js","hash":"fdc8a0af90035e89c3fcb754a0eb189b8951a2bc","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/scripts/filters/minify.js","hash":"ce8477e7fb226525bae5872cd68a1c2c23ad50c8","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/scripts/helpers/navigation.js","hash":"78107021101553c3d23e89290f7530b60cf4aa86","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/scripts/helpers/engine.js","hash":"d292b78485e8e8055712b0ed6de7cf559c5fbdcd","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/scripts/helpers/next-config.js","hash":"226fccbe9c93265e65a300e3cb4bf6f9065cfdd7","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/scripts/helpers/font.js","hash":"3394185a7f0393c16ce52c8028f90da3e9239c55","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/scripts/helpers/next-url.js","hash":"fd24abfaba4d91923ddb6aecf0268b216678c8bd","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/scripts/helpers/next-paginator.js","hash":"e86c764b546e4fbb87970cabc4135a56f9ef9fe1","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/scripts/helpers/next-vendors.js","hash":"afdd6a188a74c188f0dd154fac70efd4080ca262","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/scripts/tags/button.js","hash":"c6ad2ed544fbb25ecb5d820c36e76302504271b7","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/scripts/tags/caniuse.js","hash":"935a311142a409c1896b3ae3f01fe7a9e2db1134","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/scripts/tags/center-quote.js","hash":"92c19d796bdb3320df9caea59bf52df7a95d9da9","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/scripts/tags/group-pictures.js","hash":"9ed799c329abf830f623689d7e136991256a24ca","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/scripts/tags/index.js","hash":"17f9451ce1f10f78437f52218757d38d4e1591b0","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/scripts/tags/label.js","hash":"8a73348186113bae0a51ea2f891c1bb882fab05a","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/scripts/tags/note.js","hash":"7b94ddb46b7d4b0fe815f2fbe4bd375f07f55363","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/scripts/tags/pdf.js","hash":"344636b6fd7e27e8831c1e194039afc0d61931cd","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/scripts/tags/tabs.js","hash":"0eabe51da40b4b13e16419c8fe02452d9a4fef73","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/scripts/tags/video.js","hash":"2ee926448583be8f95af1f2884ae2c9c4830151d","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_third-party/pace.njk","hash":"d7ad5714079f7f65446f880baf14722435ca9061","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_third-party/fancybox.njk","hash":"844559f46e2ff1c8be234d5763703106e2072a7b","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_third-party/quicklink.njk","hash":"0efed71ed530447718c4ea5bbd5fc8695b0b0d5f","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_colors.styl","hash":"3c6798c10cc220d83481cb3f3782e78558cee789","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_mixins.styl","hash":"83647a6207333b9609ba90b0946b3fa9548e6381","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/main.styl","hash":"921a58577f411cf4eb5cfd66db0a241f8f88578c","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/scripts/tags/link-grid.js","hash":"18a483c2d5afd701f6080ffdddf2d1321370336c","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/noscript.styl","hash":"dadc81256afb127b77eac6763d5ee0ec9c77f0a3","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/js/bookmark.js","hash":"0f563ffbf05fad30e854e413ab17ff7164ab5a53","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/images/avatar.gif","hash":"2dbc3e2f2d624b2ca1afe6edc2ca17307f1950c8","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/js/comments.js","hash":"66ae2e26ea36a41b72c638ea8b220296638ae952","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/images/logo.svg","hash":"099e11ab995a2c8981427a85476d082609848c77","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/images/logo-algolia-nebula-blue-full.svg","hash":"b85e274207b1392782476a0430feac98db1e7da0","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/js/comments-buttons.js","hash":"1a7344440321713426a0b2ab17e276b5bdf85ade","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/js/next-boot.js","hash":"da0f07f9eaaa83de70128b0feaea3fdadb90457a","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/js/config.js","hash":"4c4ebbe3b3f3841a26f9d5af6d0ba8bc6da01c54","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/js/pjax.js","hash":"b03ba78c6916ad2f390d55bc1bc18fafb64b0ebf","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/js/motion.js","hash":"770d63c26f22705311028a36b52e999cc8a2da82","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/js/schedule.js","hash":"a1333258726caf84f368a8f8454639c7dc1626bb","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/js/utils.js","hash":"5e1cf39de050964e97fb3ba0825aeec7f4bc36dd","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_partials/head/head.njk","hash":"5388b157bba4a40b9312f4a45c6678974ccf0837","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_partials/head/head-unique.njk","hash":"8da52a144060db1a0a088ccb2e6cc8376d1fce70","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_partials/header/brand.njk","hash":"dd9c4c03e99dfde0dfb8edefcb2c933f2f560efc","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_partials/header/index.njk","hash":"650de421a8ce4cf685428ffbe0087ff84cbd1356","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_partials/header/menu-item.njk","hash":"41a8b0cc16f60fa085cb719d07216d86b6bc4bf8","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_partials/header/menu.njk","hash":"ee6fc2f111572d3eeab0a2fecbb2d6b3e37ab26b","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_partials/header/sub-menu.njk","hash":"06480d8ec5f0b87eafd47f082f07968d7282dd5c","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_partials/page/breadcrumb.njk","hash":"89825e75cc45e9709fa6ba89883669eedaff6f46","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_partials/page/tags.njk","hash":"a18d1598e36cc72f2b0b24c3cc3c5990dfaa3254","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_partials/page/categories.njk","hash":"17156d99941f28a225951ffdcfa9a115e20dc2d2","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_partials/page/page-header.njk","hash":"7ed4f102a1825195cff8d7995bf9219f323a9034","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_partials/post/post-copyright.njk","hash":"79667fd0be85ee0e0c69e542e4f870b114c96c33","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_partials/page/schedule.njk","hash":"0f4bc8e257da60f77c0c1738607b2bde55810684","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_partials/post/post-followme.njk","hash":"c1e33b4889f75acc490af3c8bde0ec56c518ff41","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_partials/post/post-related.njk","hash":"e0986db00a0201dd3c60570f964829c84ba5bc68","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_partials/search/algolia-search.njk","hash":"efb2b6f19df02ba5ae623a1f274fff52aed21e6f","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_partials/post/post-meta.njk","hash":"9fa47e4fb342811da590ee4adc91cf81118c0a39","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/scripts/tags/mermaid.js","hash":"4fb01ca650fa8b256b8d48f50dc1b18350bd3d6d","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_partials/post/post-share.njk","hash":"ce90c97f222d9c751a08392e9b14d2bdf0f3df1a","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_partials/post/post-reward.njk","hash":"e8b8a7c41e9ec612d0c0c73419529d55d1c16256","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_partials/search/index.njk","hash":"8f6f256ab3b351ffc80f1f3f1d9834e9a7cfac31","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_partials/sidebar/site-overview.njk","hash":"70342218473a6e6aa9148de06bfffe121afb8548","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_third-party/analytics/google-analytics.njk","hash":"d89066ff53879693f023e540d59c86137172c529","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_third-party/analytics/cloudflare.njk","hash":"a5b8297c2c383124dd6a56e256ecc0c0dcf489be","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_third-party/analytics/baidu-analytics.njk","hash":"6215309aee028dcb734452beec448c5afb6c63fc","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_third-party/analytics/index.njk","hash":"f900306497b133e8b098bd9f4b96b93d1d96c185","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_third-party/analytics/microsoft-clarity.njk","hash":"9dc00fcb0a05899f048eace9f9160b78956655d5","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_partials/search/localsearch.njk","hash":"661f7acae43f0be694266323320f977d84119abe","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_third-party/analytics/matomo.njk","hash":"4e89648a8ec8194c5823064cbca39c938a799006","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_third-party/analytics/umami.njk","hash":"3343750682fbd8535e50f8129be3003ad26015b4","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_third-party/analytics/plausible.njk","hash":"ef9f2bb7110507f1c4336800af9157d5fa9765bd","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_third-party/chat/tidio.njk","hash":"02aab857c27fc103216029be991688b12a73a525","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_third-party/comments/changyan.njk","hash":"d1c950f8fbdf85e7a3eae5463767a89e858e8220","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_third-party/chat/chatra.njk","hash":"d7263fca16d0278ccf1f6aa1c6df6902a6344a09","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_third-party/chat/gitter.njk","hash":"f8cc14b7aa949999a1faaeb7855e2f20b59a386d","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_third-party/comments/gitalk.njk","hash":"b63b7e2ede0d3e66e732fa1a06bda9b19e1e85d4","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_third-party/comments/disqus.njk","hash":"9375b19a89b7fa9474e558d085af5448d4c5c50c","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_third-party/comments/isso.njk","hash":"64cc3bdaf644fd32c0d0a247f29f5b6904da9af3","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_third-party/comments/livere.njk","hash":"3b13b09fba84ec6000886890a6710736a2b8fafe","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_third-party/comments/disqusjs.njk","hash":"0749cb6902baecdfd01f779a2a2513f6d2f6a823","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_third-party/math/katex.njk","hash":"1ebf658690468ea197bdd0416eb7cfa4bd0b083a","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_third-party/search/algolia-search.njk","hash":"24ed76e0c72a25ac152820c750a05826a706b6f4","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_third-party/math/mathjax.njk","hash":"3677017fd4572b158311f5f5d870590ab25184e0","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_third-party/comments/utterances.njk","hash":"5a94032bc3512a10ad4328fc19ec07b819a1d687","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_third-party/math/index.njk","hash":"abf37fc55aa86702118e8fdf5bf2d389dd589aa0","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_third-party/analytics/growingio.njk","hash":"8afaa772c390bd9d53a5cff9645ac3168334eb98","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_third-party/search/localsearch.njk","hash":"e45ea3542cdc9ed7ec8447b5e6f35df4c5e82758","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_third-party/statistics/lean-analytics.njk","hash":"2446e748cdc102c78492216319ac02148db7daf6","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_third-party/statistics/busuanzi-counter.njk","hash":"a4bc501da0f22f7e420f0ca47e83988ce90b1368","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/scripts/events/lib/highlight.js","hash":"6aec7b2c38c50989a23bfaa0d560e75c7f553e12","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/scripts/events/lib/config.js","hash":"9ec51eb61f7fee612ffc5252f489003a0fa301fc","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_third-party/statistics/firestore.njk","hash":"d32ebe94560fa95824478ebbff531bffc47b194d","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/scripts/events/lib/navigation.js","hash":"dd3562686d95a50375e6fd32e717ccb0d99c1e3d","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/scripts/events/lib/injects.js","hash":"d987709267a1bc6e5014411e9983d7c49c102c16","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/scripts/events/lib/utils.js","hash":"a7390286c6b547a782f828e315fbe2fc60601504","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/scripts/events/lib/vendors.js","hash":"64e4024376b51fe81be7ad80235abdf0a83853bd","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/scripts/filters/comment/changyan.js","hash":"5798cfc8f63665031dd3e01debed051628cec319","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/scripts/filters/comment/common.js","hash":"19a402a225c31edffc50f202a14e0d582d3db23e","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/scripts/filters/comment/default-config.js","hash":"93ee5f9109dad885dc38c49bcee630c10f9dce6e","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/scripts/filters/comment/disqusjs.js","hash":"a600a98e7436edeb31e291abca359885567df3c9","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/scripts/filters/comment/disqus.js","hash":"7f71d6b271ba65ff333d5682e7575711d368c0d2","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/scripts/filters/comment/gitalk.js","hash":"7bb7dafdd7f6bca8464b54e17e552ce7f1714195","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/scripts/filters/comment/livere.js","hash":"5a07d8bb52bc1d51a624ca8db54be144566c306b","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/scripts/filters/comment/isso.js","hash":"ff8b5b5145220a17d0ecd9508ba9bd2d3b2da47d","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/scripts/filters/comment/utterances.js","hash":"d3bded697bc32dace689d2a6dfb6eb7514169d15","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_third-party/tags/pdf.njk","hash":"2c81984cc4f5123103460442f6e046f5b6c97127","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_third-party/tags/mermaid.njk","hash":"099e031f52fb8e47b3af5b2684737efc9e643ee7","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/layout/_third-party/statistics/index.njk","hash":"568ddf7955d11d93fb5e842b403a7ac8b1b7fdb1","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_variables/Mist.styl","hash":"a1418c9dc8c0f1a0ad4ded0f4627c45bf0db1a10","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_variables/Gemini.styl","hash":"96e0a7c2a65ce68215e17e369085b2ea2f1334f2","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_variables/Muse.styl","hash":"e3be898f5ebcf435a26542653a9297ff2c71aeb0","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_variables/base.styl","hash":"c4fc4e862d09221265ab1466085f057be2ad2e4d","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_variables/Pisces.styl","hash":"48f4f277946a168d0db1ea02804e85c22ca2c7db","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/js/schemes/muse.js","hash":"ba7ba2c129d1f240c6a22cec3e53f3f22af64b6b","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/js/third-party/fancybox.js","hash":"c098d14e65dd170537134358d4b8359ad0539c2c","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/js/third-party/addtoany.js","hash":"5276c8f78ee562a8965216dc67d762e59cb4a9f2","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/js/third-party/pace.js","hash":"0ef04218b93561ba4d0ff420d556c3d90a756d32","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/js/third-party/quicklink.js","hash":"eed02e6fced8e5a653077205d4d4d7834ca71472","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/back-to-top.styl","hash":"7664491542046df9a3887cf40a06e00c0b4086a9","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/index.styl","hash":"2298e521253b3bf376a2412271bc2a7d305051f3","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Gemini/index.styl","hash":"9dfe853c901bdc52fc950bacdf15484dbb9bf140","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/reading-progress.styl","hash":"90a86045a33c1bae49fc2f6fa1e1b53170c7f77b","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/base.styl","hash":"d0a7c99095f490b0d2ed6b1be43d435960798cec","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/index.styl","hash":"523fb7b653b87ae37fc91fc8813e4ffad87b0d7e","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/comments.styl","hash":"e4fecc889ba3317a64e9abba5842c79dff9b7827","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/buttons.styl","hash":"a042571d85ff7265f799004239a45f36b716b8a6","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/normalize.styl","hash":"b56367ea676ea8e8783ea89cd4ab150c7da7a060","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tables.styl","hash":"e840b23d33023e6d45e018f6e84b683dd56efd8d","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/pagination.styl","hash":"f4228c759db4a650c8d38745c2edd1dc83c45687","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/toggles.styl","hash":"782ee1fc5e669d3ddbfeb82b73ad7fe561f1a4fb","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Mist/_header.styl","hash":"dafc6d23c80d6fe3e55a7711e94210d2479b629a","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Mist/_layout.styl","hash":"fa4fd8f76464e214fb7318f325b13c2b62f4b478","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Mist/_menu.styl","hash":"fb550935d374e0bdf1097fce187337dc05cad3e1","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Mist/index.styl","hash":"ab16a3dcdc0393b9b582ef59dcc13db9320e917c","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Mist/_posts-expand.styl","hash":"485d23ccb42c0d0c8ead7ea8930dd3e06d79a285","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Muse/_header.styl","hash":"3fbfab591f280e2e7f3b0265901c93bc4bd137ed","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Muse/_layout.styl","hash":"6569a6640f79d247a8235b3914772c0e2f99ead2","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Muse/_menu.styl","hash":"b7f48be3c43bfa393d62142544a5487a67871713","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Muse/_sidebar.styl","hash":"547c0b5cd5e7ea10d21863d13a6b16579a49396c","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Muse/_sub-menu.styl","hash":"c48ccd8d6651fe1a01faff8f01179456d39ba9b1","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Muse/index.styl","hash":"6ad168288b213cec357e9b5a97674ff2ef3a910c","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Pisces/_layout.styl","hash":"26a0cba1eee5de45a45a5e14e17707f905390512","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Pisces/_header.styl","hash":"ac2dc0ce9c775a83ef7132ae957b54539366ac9c","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Pisces/_sidebar.styl","hash":"91dbf3ca5c3a613d4e30618c120da535bf2d0336","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Pisces/_menu.styl","hash":"72dc825c50357402c342d62ab60fc0c478ab6bc1","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/js/third-party/math/mathjax.js","hash":"5c749b9c1c3bb738122d0516211ecff6496d4907","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/js/third-party/math/katex.js","hash":"83c54ee536e487a1031783443fe0cb63b1b4767e","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/js/third-party/analytics/google-analytics.js","hash":"59684383385059dc4f8a1ff85dbbeb703bcdbcb5","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/js/third-party/analytics/growingio.js","hash":"78dd3cf04082b7dbe6246e404b2aa8e726922402","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/js/third-party/analytics/matomo.js","hash":"c6a25b26a1443caa70b47fd3dfa282271574deb5","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/js/third-party/chat/gitter.js","hash":"cc38c94125f90dadde11b5ebac7d8bf99a1a08a2","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/js/third-party/chat/tidio.js","hash":"b0079f6a4601e06ca6fe46e83a2f5af553e9bc3c","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/js/third-party/chat/chatra.js","hash":"c32180522788c10e51df1803aa6842ef0432ddc9","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/changyan.js","hash":"260d1a77d6a3bb33a579d3e4cca1997003e799b5","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/disqus.js","hash":"da361917d65e5dca8362f8cdeb6c8cc0e8316cec","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/disqusjs.js","hash":"1e826dea3f684c0515f362dc1352447a1f0eae71","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/isso.js","hash":"753a873b6f566aff5ba77ca23f91b78eb880ca64","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/gitalk.js","hash":"0ec038cf83e8ec067534f16a54041e47a3c1e59a","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/livere.js","hash":"2247d88c934c765c43013337860774aaa99f0b31","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/utterances.js","hash":"f67f90eb03e284c82da2b8cf2f1e31801813c16d","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/js/third-party/search/local-search.js","hash":"4536cb6d0a9bbaaa86fab3fa0101f6a3a3ec5a76","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/js/third-party/search/algolia-search.js","hash":"fdb7b7cef1a147d897e7f7cd8903b58368ec2062","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/js/third-party/statistics/lean-analytics.js","hash":"835cbf54c49ef1327f47df70ff2636ad36b6f57d","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/js/third-party/statistics/firestore.js","hash":"6e0682bb42170d61b13b786295f45f9c785f8b73","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/js/third-party/tags/mermaid.js","hash":"f27d817b0c2138dd3215b1f46af0753f60a008f3","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/js/third-party/tags/pdf.js","hash":"af78c22f0e61c8c8aa8794e585e0d632c6d4fcb8","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/index.styl","hash":"8e34df131830d4fa3725e4590a672ba1cf1903e5","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/mobile.styl","hash":"580aa86ed2ec05a7382338a6eea02e9c740b02a5","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Pisces/index.styl","hash":"8000075b227749a7495eaf417cac6ccfbe441580","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/pages/breadcrumb.styl","hash":"8afdc311c6b8db121758371f95cf1c5e77354f42","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/js/third-party/analytics/baidu-analytics.js","hash":"f629acc46ff40c071ffd31b77d5c7616f0fdd778","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/pages/index.styl","hash":"7504dbc5c70262b048143b2c37d2b5aa2809afa2","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/pages/schedule.styl","hash":"6b816c2511242ee503fb5f34cd3e4dcdafc06b85","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/pages/tag-cloud.styl","hash":"1a81d1a71fcf0699629ce6e72dfd0a15f3a2dd0a","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/pages/categories.styl","hash":"b6e2eb1550a7845cb2adf86081a4ab6c7bde1e68","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/post-body.styl","hash":"d757768a58743601d0d84158ba955eb15d4c3c01","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/index.styl","hash":"098d4bd034e986fcf7e443eac4fc2193935461b7","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/post-followme.styl","hash":"1ecfd64507954810b07a9d21fb5305b5378feda0","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/post-collapse.styl","hash":"ec37a36e94ba791663607a5022f763915778578f","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/post-footer.styl","hash":"11497388f124bfbb4001495a67d3629a9f618405","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/post-gallery.styl","hash":"aa366d37389760c8595529b850f461569577a1c5","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/post-header.styl","hash":"010c901e4ef49a606f8a350efbf09044e76d2ff3","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/post-reward.styl","hash":"04cf4a69537fc14d3b8904f965d283356853847f","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/third-party/disqusjs.styl","hash":"877a537d5b95beb048142e4fdee6f17e6ef9c7bb","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Pisces/_sub-menu.styl","hash":"778ed2ad5643b93970c95626b325defeb586733f","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/third-party/gitalk.styl","hash":"8f094c4ac17e2ab45569b12d157747f9c7333c12","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/post-nav.styl","hash":"9ac6f477177264c26a46e8333b8456720a0444dc","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/post-widgets.styl","hash":"ebfba158a0a4af3d1dabcacbc58986664de52140","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/third-party/gitter.styl","hash":"35104dc6883a61c31e0e368dac8ac2f697be62fe","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/third-party/index.styl","hash":"77550e0d3e029b7458e35d8c5ae1fbd612c9673b","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/third-party/search.styl","hash":"e72799ce3f9b79753e365b2f8c8ef6c310668d4a","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/third-party/math.styl","hash":"9d995eb4871a6c273d9d51558676a1fdabf69e72","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/blockquote-center.styl","hash":"d6418fd2bbfba7b73ddf11ec62db9637fdf5d8af","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/highlight/index.styl","hash":"9056be572ec1cfa429abb22be4b45a662d5b0fb1","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/highlight/copy-code.styl","hash":"670fc109b56a010b166b86b616823a1aae97a738","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/third-party/utterances.styl","hash":"56d90ae0559caa55b75f3c300ff2711f9ed65fc4","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/group-pictures.styl","hash":"393ff96234e4196b569d4b11496774eb78e147de","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/label.styl","hash":"debee14539272fbe3835a7d3853af2230baa3501","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/index.styl","hash":"3f76c73a891bbc10679753e702feba9e8a5ffdd2","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/mermaid.styl","hash":"48d35dba575a7c9e8845b16652e76b7d4a4646de","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/link-grid.styl","hash":"7f8a7345e6537a62cd9e9a94c8f7065b541d9b04","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/note.styl","hash":"98d4c20aff0f0fcfe1824017fb06ab21ef0d218e","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/pdf.styl","hash":"b6654a1d7cf82577d8263faffee8af3ad4a5c0e8","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/tabs.styl","hash":"7a39bcce7274284e87388743db62afc847fe6897","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/footer/index.styl","hash":"4e967702cf4c637132346bc74ec8854426f1a68c","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/header/github-banner.styl","hash":"38c64c2d04e46848382bfa246a0e9c508294767b","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/header/index.styl","hash":"6e0d0796ef7fbbb62ffdfb448753a850de82c74f","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/header/site-nav.styl","hash":"bf3ad8b4268f763a1e26377681644887694bc009","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/header/site-meta.styl","hash":"a851e9d5aefcd027c95eeb323860b6da70f202d1","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/header/bookmark.styl","hash":"e74f4bb47a101b014ee2a1783c87f3b87323f9a0","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/header/menu.styl","hash":"b750af2fb833c10c4313b5a4258237161a7833d7","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/related-posts.styl","hash":"b05908f04ef95f2d91e6eba89b12411c378d050f","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/sidebar-author.styl","hash":"5b38ac4a0f1ade0e681aff0e3366c481d9cf3dcd","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/index.styl","hash":"da5e88f8debd5ac8d7af5c6ba6240df66104955f","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/sidebar-author-links.styl","hash":"52fc98b1435129eb3edb9293ced9e507741f1350","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/sidebar-blogroll.styl","hash":"c6a27beb3f741211a14576026f3b4cfc44cc6407","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/sidebar-button.styl","hash":"b926e368f702f8686aaa2eb98d3d2e533418958c","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/sidebar-nav.styl","hash":"24752d145c6fb8f5344dca9c7b9640839c02e009","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/sidebar-toc.styl","hash":"c2e354a565c8c1b32bd0ceacc972b17982758b67","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/site-state.styl","hash":"26dd0adfcb1db6df29c6090c8d7e9b5a43583fb0","modified":1684812205897},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/sidebar-toggle.styl","hash":"9a7c71560fbdc936ad4e736fe15063ea3e8a644b","modified":1684812205897}],"Category":[{"name":"misc","_id":"cli00ivld0004z0inckti7ffl"},{"name":"tools","_id":"cli00ivlh000bz0in06za3mbt"},{"name":"android","_id":"cli00ivlr000sz0in9fch5ha6"},{"name":"go","_id":"cli00ivlv0014z0in2y10h0bg"},{"name":"c","_id":"cli00ivm40024z0in6jzec91m"}],"Data":[],"Page":[{"title":"","date":"2018-10-16T07:14:28.000Z","_content":"\n    ARMAndroidJavaGolangIoT\n\n\n### \n* [Android-HttpDownloadManager][1]: Android\n* [Android-LunarView][2]: Android\n* [revival][3]: Typescript RESTful http\n* [sqlbrick][4]: Golang sql\n* [aria2go][5]: [libaria2][6]Go bindings\n* [Android-AppDaemon][7]: Android\n* [Android-AppUninstallWatcher][8]: Android\n\n### \n* \n\n\n[1]: https://github.com/Coolerfall/Android-HttpDownloadManager\n[2]: https://github.com/Coolerfall/Android-LunarView\n[3]: https://github.com/Coolerfall/revival\n[4]: https://github.com/Tourbillon/sqlbrick\n[5]: https://github.com/Tourbillon/aria2go\n[6]: https://github.com/aria2/aria2\n[7]: https://github.com/Coolerfall/Android-AppDaemon\n[8]: https://github.com/Coolerfall/Android-AppUninstallWatcher","source":"about/index.md","raw":"---\ntitle: \ndate: 2018-10-16 15:14:28\n---\n\n    ARMAndroidJavaGolangIoT\n\n\n### \n* [Android-HttpDownloadManager][1]: Android\n* [Android-LunarView][2]: Android\n* [revival][3]: Typescript RESTful http\n* [sqlbrick][4]: Golang sql\n* [aria2go][5]: [libaria2][6]Go bindings\n* [Android-AppDaemon][7]: Android\n* [Android-AppUninstallWatcher][8]: Android\n\n### \n* \n\n\n[1]: https://github.com/Coolerfall/Android-HttpDownloadManager\n[2]: https://github.com/Coolerfall/Android-LunarView\n[3]: https://github.com/Coolerfall/revival\n[4]: https://github.com/Tourbillon/sqlbrick\n[5]: https://github.com/Tourbillon/aria2go\n[6]: https://github.com/aria2/aria2\n[7]: https://github.com/Coolerfall/Android-AppDaemon\n[8]: https://github.com/Coolerfall/Android-AppUninstallWatcher","updated":"2023-05-23T03:07:55.025Z","path":"about/index.html","comments":1,"layout":"page","_id":"cli00ivl30000z0in4w3d24v7","content":"<pre><code>ARMAndroidJavaGolangIoT\n</code></pre>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li><a href=\"https://github.com/Coolerfall/Android-HttpDownloadManager\">Android-HttpDownloadManager</a>: Android  </li>\n<li><a href=\"https://github.com/Coolerfall/Android-LunarView\">Android-LunarView</a>: Android  </li>\n<li><a href=\"https://github.com/Coolerfall/revival\">revival</a>: Typescript RESTful http  </li>\n<li><a href=\"https://github.com/Tourbillon/sqlbrick\">sqlbrick</a>: Golang sql  </li>\n<li><a href=\"https://github.com/Tourbillon/aria2go\">aria2go</a>: <a href=\"https://github.com/aria2/aria2\">libaria2</a>  Go bindings</li>\n<li><a href=\"https://github.com/Coolerfall/Android-AppDaemon\">Android-AppDaemon</a>: Android </li>\n<li><a href=\"https://github.com/Coolerfall/Android-AppUninstallWatcher\">Android-AppUninstallWatcher</a>: Android </li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li></li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<pre><code>ARMAndroidJavaGolangIoT\n</code></pre>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li><a href=\"https://github.com/Coolerfall/Android-HttpDownloadManager\">Android-HttpDownloadManager</a>: Android  </li>\n<li><a href=\"https://github.com/Coolerfall/Android-LunarView\">Android-LunarView</a>: Android  </li>\n<li><a href=\"https://github.com/Coolerfall/revival\">revival</a>: Typescript RESTful http  </li>\n<li><a href=\"https://github.com/Tourbillon/sqlbrick\">sqlbrick</a>: Golang sql  </li>\n<li><a href=\"https://github.com/Tourbillon/aria2go\">aria2go</a>: <a href=\"https://github.com/aria2/aria2\">libaria2</a>  Go bindings</li>\n<li><a href=\"https://github.com/Coolerfall/Android-AppDaemon\">Android-AppDaemon</a>: Android </li>\n<li><a href=\"https://github.com/Coolerfall/Android-AppUninstallWatcher\">Android-AppUninstallWatcher</a>: Android </li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li></li>\n</ul>\n"},{"_content":"Sorry this page does not exist :(","source":"404.html","raw":"Sorry this page does not exist :(","date":"2023-05-23T03:50:52.496Z","updated":"2023-05-23T03:07:55.025Z","path":"404.html","title":"","comments":1,"layout":"page","_id":"cli00ivlb0002z0in9suab9vk","content":"Sorry this page does not exist :(","site":{"data":{}},"excerpt":"","more":"Sorry this page does not exist :("},{"title":"","type":"categories","date":"2018-10-16T06:04:32.000Z","_content":"","source":"categories/index.md","raw":"---\ntitle: \ntype: categories\ndate: 2018-10-16 14:04:32\n---\n","updated":"2023-05-23T03:07:55.025Z","path":"categories/index.html","comments":1,"layout":"page","_id":"cli00ivle0006z0inhr19fvlq","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"","type":"tags","date":"2018-10-16T06:02:18.000Z","_content":"","source":"tags/index.md","raw":"---\ntitle: \ntype: tags\ndate: 2018-10-16 14:02:18\n---\n","updated":"2023-05-23T03:07:55.025Z","path":"tags/index.html","comments":1,"layout":"page","_id":"cli00ivlg0008z0ind4r03h0s","content":"","site":{"data":{}},"excerpt":"","more":""}],"Post":[{"title":"Windows  Jekyll  github pages ","_content":"\ngithub pagesgithubJekyll\n<!-- more -->\n\n### Jekyll ###\n1.JekyllRuby[rubyinstallerDevKit][1]DevKitrubyinstallerrubyDevKitcmdDevKit`$ ruby dk.rb init`config.ymlconfig.ymlruby\n```text\n---\n- E:/Ruby200\n```\n\n*---**-*cmd`$ ruby dk.rb install`\n```text\n$ ruby dk.rb install\n[INFO] Updating convenience notice gem override for 'E:/Ruby200'\n[INFO] Installing 'E:/Ruby200/lib/ruby/site_ruby/devkit.rb'\n```\nruby\n\n2.cmdgemjekyll`$ gem list`liquid`$ gem install liquid``$ gem install jekyll`jekyllruby\n```\n$ gem sources --remove https://rubygems.org/\n$ gem sources -a https://ruby.taobao.org/\n$ gem sources -l\n*** CURRENT SOURCES ***\n\nhttps://ruby.taobao.org\n```\n`$ gem list`\n```text\nERROR:  Could not find a valid gem 'liquid' (>= 0), here is why:\n          Unable to download data from https://rubygems.org/ - SSL_connect returned=1 errno=0 state=SSLv3 read server certificate\nB: certificate verify failed (https://rubygems.org/latest_specs.4.8.gz)\n```\n[cacert.pem][3]`SSL_CERT_FILE``cacert.pem`\n<br>\n\n3.jekyllgithub[jekyll bootstrap][2]:\n```text\n$ git clone https://github.com/plusjade/jekyll-bootstrap.git jekyll\n$ cd jekyll\n$ jekyll server\n```\nlocalhost:4000demo\n\n[1]: http://rubyinstaller.org/downloads/\n[2]: https://github.com/plusjade/jekyll-bootstrap/\n[3]: http://curl.haxx.se/ca/cacert.pem","source":"_posts/2015-02-03-github-pages-with-jekyll.md","raw":"---\ntitle: WindowsJekyllgithub pages\ncategory: misc\ntags: [github pages, jekyll]\n---\n\ngithub pagesgithubJekyll\n<!-- more -->\n\n### Jekyll ###\n1.JekyllRuby[rubyinstallerDevKit][1]DevKitrubyinstallerrubyDevKitcmdDevKit`$ ruby dk.rb init`config.ymlconfig.ymlruby\n```text\n---\n- E:/Ruby200\n```\n\n*---**-*cmd`$ ruby dk.rb install`\n```text\n$ ruby dk.rb install\n[INFO] Updating convenience notice gem override for 'E:/Ruby200'\n[INFO] Installing 'E:/Ruby200/lib/ruby/site_ruby/devkit.rb'\n```\nruby\n\n2.cmdgemjekyll`$ gem list`liquid`$ gem install liquid``$ gem install jekyll`jekyllruby\n```\n$ gem sources --remove https://rubygems.org/\n$ gem sources -a https://ruby.taobao.org/\n$ gem sources -l\n*** CURRENT SOURCES ***\n\nhttps://ruby.taobao.org\n```\n`$ gem list`\n```text\nERROR:  Could not find a valid gem 'liquid' (>= 0), here is why:\n          Unable to download data from https://rubygems.org/ - SSL_connect returned=1 errno=0 state=SSLv3 read server certificate\nB: certificate verify failed (https://rubygems.org/latest_specs.4.8.gz)\n```\n[cacert.pem][3]`SSL_CERT_FILE``cacert.pem`\n<br>\n\n3.jekyllgithub[jekyll bootstrap][2]:\n```text\n$ git clone https://github.com/plusjade/jekyll-bootstrap.git jekyll\n$ cd jekyll\n$ jekyll server\n```\nlocalhost:4000demo\n\n[1]: http://rubyinstaller.org/downloads/\n[2]: https://github.com/plusjade/jekyll-bootstrap/\n[3]: http://curl.haxx.se/ca/cacert.pem","slug":"github-pages-with-jekyll","published":1,"date":"2015-02-02T16:00:00.000Z","updated":"2023-05-23T06:11:15.083Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cli00ivl70001z0infsw60net","content":"<p> github pages  github  Jekyll </p>\n<span id=\"more\"></span>\n\n<h3 id=\"Jekyll\"><a href=\"#Jekyll\" class=\"headerlink\" title=\"Jekyll\"></a>Jekyll </h3><p>1.Jekyll  Ruby  <a href=\"http://rubyinstaller.org/downloads/\">rubyinstaller  DevKit</a> DevKit  rubyinstaller  ruby  DevKit  cmd  DevKit  <code>$ ruby dk.rb init</code>  config.yml  config.yml  ruby </p>\n<figure class=\"highlight text\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">---</span><br><span class=\"line\">- E:/Ruby200</span><br></pre></td></tr></tbody></table></figure>\n\n<p> * <em></em> -*  cmd  <code>$ ruby dk.rb install</code></p>\n<figure class=\"highlight text\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ruby dk.rb install</span><br><span class=\"line\">[INFO] Updating convenience notice gem override for 'E:/Ruby200'</span><br><span class=\"line\">[INFO] Installing 'E:/Ruby200/lib/ruby/site_ruby/devkit.rb'</span><br></pre></td></tr></tbody></table></figure>\n<p> ruby </p>\n<p>2.  cmd  gem  jekyll <code>$ gem list</code>  liquid <code>$ gem install liquid</code> <code>$ gem install jekyll</code>  jekyll ruby </p>\n<figure class=\"highlight plaintext\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ gem sources --remove https://rubygems.org/</span><br><span class=\"line\">$ gem sources -a https://ruby.taobao.org/</span><br><span class=\"line\">$ gem sources -l</span><br><span class=\"line\">*** CURRENT SOURCES ***</span><br><span class=\"line\"></span><br><span class=\"line\">https://ruby.taobao.org</span><br></pre></td></tr></tbody></table></figure>\n<p> <code>$ gem list</code> </p>\n<figure class=\"highlight text\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ERROR:  Could not find a valid gem 'liquid' (&gt;= 0), here is why:</span><br><span class=\"line\">          Unable to download data from https://rubygems.org/ - SSL_connect returned=1 errno=0 state=SSLv3 read server certificate</span><br><span class=\"line\">B: certificate verify failed (https://rubygems.org/latest_specs.4.8.gz)</span><br></pre></td></tr></tbody></table></figure>\n<p> <a href=\"http://curl.haxx.se/ca/cacert.pem\">cacert.pem</a>  <code>SSL_CERT_FILE</code>  <code>cacert.pem</code> <br><br></p>\n<p>3.  jekyll  github  <a href=\"https://github.com/plusjade/jekyll-bootstrap/\">jekyll bootstrap</a> :</p>\n<figure class=\"highlight text\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ git clone https://github.com/plusjade/jekyll-bootstrap.git jekyll</span><br><span class=\"line\">$ cd jekyll</span><br><span class=\"line\">$ jekyll server</span><br></pre></td></tr></tbody></table></figure>\n<p> localhost:4000 demo </p>\n","site":{"data":{}},"excerpt":"<p> github pages  github  Jekyll </p>","more":"<h3 id=\"Jekyll\"><a href=\"#Jekyll\" class=\"headerlink\" title=\"Jekyll\"></a>Jekyll </h3><p>1.Jekyll  Ruby  <a href=\"http://rubyinstaller.org/downloads/\">rubyinstaller  DevKit</a> DevKit  rubyinstaller  ruby  DevKit  cmd  DevKit  <code>$ ruby dk.rb init</code>  config.yml  config.yml  ruby </p>\n<figure class=\"highlight text\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">---</span><br><span class=\"line\">- E:/Ruby200</span><br></pre></td></tr></tbody></table></figure>\n\n<p> * <em></em> -*  cmd  <code>$ ruby dk.rb install</code></p>\n<figure class=\"highlight text\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ruby dk.rb install</span><br><span class=\"line\">[INFO] Updating convenience notice gem override for 'E:/Ruby200'</span><br><span class=\"line\">[INFO] Installing 'E:/Ruby200/lib/ruby/site_ruby/devkit.rb'</span><br></pre></td></tr></tbody></table></figure>\n<p> ruby </p>\n<p>2.  cmd  gem  jekyll <code>$ gem list</code>  liquid <code>$ gem install liquid</code> <code>$ gem install jekyll</code>  jekyll ruby </p>\n<figure class=\"highlight plaintext\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ gem sources --remove https://rubygems.org/</span><br><span class=\"line\">$ gem sources -a https://ruby.taobao.org/</span><br><span class=\"line\">$ gem sources -l</span><br><span class=\"line\">*** CURRENT SOURCES ***</span><br><span class=\"line\"></span><br><span class=\"line\">https://ruby.taobao.org</span><br></pre></td></tr></tbody></table></figure>\n<p> <code>$ gem list</code> </p>\n<figure class=\"highlight text\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ERROR:  Could not find a valid gem 'liquid' (&gt;= 0), here is why:</span><br><span class=\"line\">          Unable to download data from https://rubygems.org/ - SSL_connect returned=1 errno=0 state=SSLv3 read server certificate</span><br><span class=\"line\">B: certificate verify failed (https://rubygems.org/latest_specs.4.8.gz)</span><br></pre></td></tr></tbody></table></figure>\n<p> <a href=\"http://curl.haxx.se/ca/cacert.pem\">cacert.pem</a>  <code>SSL_CERT_FILE</code>  <code>cacert.pem</code> <br><br></p>\n<p>3.  jekyll  github  <a href=\"https://github.com/plusjade/jekyll-bootstrap/\">jekyll bootstrap</a> :</p>\n<figure class=\"highlight text\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ git clone https://github.com/plusjade/jekyll-bootstrap.git jekyll</span><br><span class=\"line\">$ cd jekyll</span><br><span class=\"line\">$ jekyll server</span><br></pre></td></tr></tbody></table></figure>\n<p> localhost:4000 demo </p>"},{"title":"Android Studio ","_content":"\nAndroidAppASgradleandroid\n<!-- more -->\n\n###  ###\n\n1.manifestPlaceHolder\n```xml\n<meta-data\n\tandroid:name=\"aid\"\n\tandroid:value=\"${APP_AID}\" />\n\n<meta-data\n\tandroid:name=\"pid\"\n\tandroid:value=\"${APP_PID}\" />\n```\n\n2.build.gradleproductFlavors\n```groovy\nandroid {\n\tproductFlavors {\n\t\twandoujia {\n\t\t\tmanifestPlaceholders = [APP_AID : 80, APP_PID : 43]\n\t\t}\n\n\t\tyingyongbao {\n\t\t\tmanifestPlaceholders = [APP_AID : 60, APP_PID : 45]\n\t\t}\n\t}\n}\n```\nmanifestPlaceholders\n\n3.ASBuild->Generate Signed APKAPKASproductFlavors","source":"_posts/2015-02-14-multiple-channel-packing.md","raw":"---\ntitle: Android Studio\ncategory: tools\ntags: [android studio]\n---\n\nAndroidAppASgradleandroid\n<!-- more -->\n\n###  ###\n\n1.manifestPlaceHolder\n```xml\n<meta-data\n\tandroid:name=\"aid\"\n\tandroid:value=\"${APP_AID}\" />\n\n<meta-data\n\tandroid:name=\"pid\"\n\tandroid:value=\"${APP_PID}\" />\n```\n\n2.build.gradleproductFlavors\n```groovy\nandroid {\n\tproductFlavors {\n\t\twandoujia {\n\t\t\tmanifestPlaceholders = [APP_AID : 80, APP_PID : 43]\n\t\t}\n\n\t\tyingyongbao {\n\t\t\tmanifestPlaceholders = [APP_AID : 60, APP_PID : 45]\n\t\t}\n\t}\n}\n```\nmanifestPlaceholders\n\n3.ASBuild->Generate Signed APKAPKASproductFlavors","slug":"multiple-channel-packing","published":1,"date":"2015-02-13T16:00:00.000Z","updated":"2023-05-23T03:07:55.015Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cli00ivlb0003z0inda2043hb","content":"<p>Android  App AS  gradle  android </p>\n<span id=\"more\"></span>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>1.  manifest  PlaceHolder</p>\n<figure class=\"highlight xml\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta-data</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">android:name</span>=<span class=\"string\">\"aid\"</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">android:value</span>=<span class=\"string\">\"${APP_AID}\"</span> /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta-data</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">android:name</span>=<span class=\"string\">\"pid\"</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">android:value</span>=<span class=\"string\">\"${APP_PID}\"</span> /&gt;</span></span><br></pre></td></tr></tbody></table></figure>\n\n<p>2.  build.gradle  productFlavors</p>\n<figure class=\"highlight groovy\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">android {</span><br><span class=\"line\">\tproductFlavors {</span><br><span class=\"line\">\t\twandoujia {</span><br><span class=\"line\">\t\t\tmanifestPlaceholders = [<span class=\"attr\">APP_AID :</span> <span class=\"number\">80</span>, <span class=\"attr\">APP_PID :</span> <span class=\"number\">43</span>]</span><br><span class=\"line\">\t\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tyingyongbao {</span><br><span class=\"line\">\t\t\tmanifestPlaceholders = [<span class=\"attr\">APP_AID :</span> <span class=\"number\">60</span>, <span class=\"attr\">APP_PID :</span> <span class=\"number\">45</span>]</span><br><span class=\"line\">\t\t}</span><br><span class=\"line\">\t}</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<p>manifestPlaceholders </p>\n<p>3.  AS  Build-&gt;Generate Signed APK APKAS  productFlavors </p>\n","site":{"data":{}},"excerpt":"<p>Android  App AS  gradle  android </p>","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>1.  manifest  PlaceHolder</p>\n<figure class=\"highlight xml\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta-data</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">android:name</span>=<span class=\"string\">\"aid\"</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">android:value</span>=<span class=\"string\">\"${APP_AID}\"</span> /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta-data</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">android:name</span>=<span class=\"string\">\"pid\"</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">android:value</span>=<span class=\"string\">\"${APP_PID}\"</span> /&gt;</span></span><br></pre></td></tr></tbody></table></figure>\n\n<p>2.  build.gradle  productFlavors</p>\n<figure class=\"highlight groovy\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">android {</span><br><span class=\"line\">\tproductFlavors {</span><br><span class=\"line\">\t\twandoujia {</span><br><span class=\"line\">\t\t\tmanifestPlaceholders = [<span class=\"attr\">APP_AID :</span> <span class=\"number\">80</span>, <span class=\"attr\">APP_PID :</span> <span class=\"number\">43</span>]</span><br><span class=\"line\">\t\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tyingyongbao {</span><br><span class=\"line\">\t\t\tmanifestPlaceholders = [<span class=\"attr\">APP_AID :</span> <span class=\"number\">60</span>, <span class=\"attr\">APP_PID :</span> <span class=\"number\">45</span>]</span><br><span class=\"line\">\t\t}</span><br><span class=\"line\">\t}</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<p>manifestPlaceholders </p>\n<p>3.  AS  Build-&gt;Generate Signed APK APKAS  productFlavors </p>"},{"title":"Android Studio ","_content":"\nAS\n<!-- more -->\n\nASbin&nbsp;`studio64.exe.vmoptions`&nbsp;32&nbsp;`studio.exe.vmoptions`&nbsp;\n```text\n-Djava.net.preferIPv4Stack=true\n\n-Didea.updates.url=http://dl.google.com/android/studio/patches/updates.xml  \n-Didea.patches.url=http://dl.google.com/android/studio/patches/\n```\nAS","source":"_posts/2015-02-14-andoird-studio-update.md","raw":"---\ntitle: Android Studio\ncategory: tools\ntags: [android studio]\n---\n\nAS\n<!-- more -->\n\nASbin&nbsp;`studio64.exe.vmoptions`&nbsp;32&nbsp;`studio.exe.vmoptions`&nbsp;\n```text\n-Djava.net.preferIPv4Stack=true\n\n-Didea.updates.url=http://dl.google.com/android/studio/patches/updates.xml  \n-Didea.patches.url=http://dl.google.com/android/studio/patches/\n```\nAS","slug":"andoird-studio-update","published":1,"date":"2015-02-13T16:00:00.000Z","updated":"2023-05-23T03:07:55.015Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cli00ivlf0007z0in51169fu2","content":"<p> AS </p>\n<span id=\"more\"></span>\n\n<p> AS  bin  &amp; nbsp;<code>studio64.exe.vmoptions</code>&amp;nbsp;32  &amp; nbsp;<code>studio.exe.vmoptions</code>&amp;nbsp; </p>\n<figure class=\"highlight text\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-Djava.net.preferIPv4Stack=true</span><br><span class=\"line\"></span><br><span class=\"line\">-Didea.updates.url=http://dl.google.com/android/studio/patches/updates.xml  </span><br><span class=\"line\">-Didea.patches.url=http://dl.google.com/android/studio/patches/</span><br></pre></td></tr></tbody></table></figure>\n<p> AS</p>\n","site":{"data":{}},"excerpt":"<p> AS </p>","more":"<p> AS  bin  &amp; nbsp;<code>studio64.exe.vmoptions</code>&amp;nbsp;32  &amp; nbsp;<code>studio.exe.vmoptions</code>&amp;nbsp; </p>\n<figure class=\"highlight text\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-Djava.net.preferIPv4Stack=true</span><br><span class=\"line\"></span><br><span class=\"line\">-Didea.updates.url=http://dl.google.com/android/studio/patches/updates.xml  </span><br><span class=\"line\">-Didea.patches.url=http://dl.google.com/android/studio/patches/</span><br></pre></td></tr></tbody></table></figure>\n<p> AS</p>"},{"title":" Android Studio  gradle  jni","_content":"\nAndroidEclipseAndroid StudiogoogleAndroid Studiondkgradlejni\n<!-- more -->\n\n###  ###\n\n1.local.propertiesndk(ndkr9)\n```text\nndk.dir=E\\:\\\\Android\\\\ndk-r10d\n```\n\n2.app\\src\\mainjnic/c++Android.mk\n\n3.appbuild.gradletaskndkBuildcopyJniLibstaskndktasksocopyjniLibsAndroid Studioso\n```groovy\nandroid {\n    compileSdkVersion 21\n    buildToolsVersion \"21.1.2\"\n    defaultConfig {\n        applicationId \"com.xxx.yyy\"\n        versionCode 1\n        versionName '1.0'\n\t    minSdkVersion 10\n\t    targetSdkVersion 21\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles ('proguard-android.txt')\n        }\n    }\n\n    tasks.withType(JavaCompile) {\n        compileTask -> compileTask.dependsOn 'ndkBuild', 'copyJniLibs'\n    }\n\n    sourceSets {\n        main {\n\t        jni.srcDirs = []\n            jniLibs.srcDirs = ['src/main/jniLibs']\n        }\n    }\n}\n\ntask ndkBuild(type: Exec) {\n\tdef ndkDir = project.plugins.findPlugin('com.android.application').sdkHandler.getNdkFolder()\n    commandLine \"$ndkDir/ndk-build.cmd\", '-C', 'src/main/jni',\n\t\t    \"NDK_OUT=$buildDir/ndk/obj\",\n\t\t    \"NDK_APP_DST_DIR=$buildDir/ndk/libs/\\$(TARGET_ARCH_ABI)\"\n}\n\ntask copyJniLibs(type: Copy) {\n    from fileTree(dir: file(buildDir.absolutePath + '/ndk/libs'), include: '**/*.so')\n    into file('src/main/jniLibs')\n}\n```\n\ntaskandroid{}android{}*NDK_APP_DST_DIR*buildDirnkd\n\n4.Android StudondkBuildcopyJniLibstask\n\nps:task\n    \n    $ gradle ndkBuild copyJniLibs\ngradlebin","source":"_posts/2015-02-08-use-ndk-in-android-studio.md","raw":"---\ntitle: Android Studiogradlejni\ncategory: tools\ntags: [android studio, ndk]\n---\n\nAndroidEclipseAndroid StudiogoogleAndroid Studiondkgradlejni\n<!-- more -->\n\n###  ###\n\n1.local.propertiesndk(ndkr9)\n```text\nndk.dir=E\\:\\\\Android\\\\ndk-r10d\n```\n\n2.app\\src\\mainjnic/c++Android.mk\n\n3.appbuild.gradletaskndkBuildcopyJniLibstaskndktasksocopyjniLibsAndroid Studioso\n```groovy\nandroid {\n    compileSdkVersion 21\n    buildToolsVersion \"21.1.2\"\n    defaultConfig {\n        applicationId \"com.xxx.yyy\"\n        versionCode 1\n        versionName '1.0'\n\t    minSdkVersion 10\n\t    targetSdkVersion 21\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles ('proguard-android.txt')\n        }\n    }\n\n    tasks.withType(JavaCompile) {\n        compileTask -> compileTask.dependsOn 'ndkBuild', 'copyJniLibs'\n    }\n\n    sourceSets {\n        main {\n\t        jni.srcDirs = []\n            jniLibs.srcDirs = ['src/main/jniLibs']\n        }\n    }\n}\n\ntask ndkBuild(type: Exec) {\n\tdef ndkDir = project.plugins.findPlugin('com.android.application').sdkHandler.getNdkFolder()\n    commandLine \"$ndkDir/ndk-build.cmd\", '-C', 'src/main/jni',\n\t\t    \"NDK_OUT=$buildDir/ndk/obj\",\n\t\t    \"NDK_APP_DST_DIR=$buildDir/ndk/libs/\\$(TARGET_ARCH_ABI)\"\n}\n\ntask copyJniLibs(type: Copy) {\n    from fileTree(dir: file(buildDir.absolutePath + '/ndk/libs'), include: '**/*.so')\n    into file('src/main/jniLibs')\n}\n```\n\ntaskandroid{}android{}*NDK_APP_DST_DIR*buildDirnkd\n\n4.Android StudondkBuildcopyJniLibstask\n\nps:task\n    \n    $ gradle ndkBuild copyJniLibs\ngradlebin","slug":"use-ndk-in-android-studio","published":1,"date":"2015-02-07T16:00:00.000Z","updated":"2023-05-23T06:11:19.443Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cli00ivlg0009z0in7qzsdo66","content":"<p> Android  Eclipse  Android Studio google  Android Studio  ndk  gradle  jni</p>\n<span id=\"more\"></span>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>1.  local.properties ndk  (ndk  r9 )</p>\n<figure class=\"highlight text\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ndk.dir=E\\:\\\\Android\\\\ndk-r10d</span><br></pre></td></tr></tbody></table></figure>\n\n<p>2.  app\\src\\main  jni  c/c++  Android.mk</p>\n<p>3.  app  build.gradle  taskndkBuild  copyJniLibs task  ndk  task  so  copy  jniLibs  Android Studio  so </p>\n<figure class=\"highlight groovy\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">android {</span><br><span class=\"line\">    compileSdkVersion <span class=\"number\">21</span></span><br><span class=\"line\">    buildToolsVersion <span class=\"string\">\"21.1.2\"</span></span><br><span class=\"line\">    defaultConfig {</span><br><span class=\"line\">        applicationId <span class=\"string\">\"com.xxx.yyy\"</span></span><br><span class=\"line\">        versionCode <span class=\"number\">1</span></span><br><span class=\"line\">        versionName <span class=\"string\">'1.0'</span></span><br><span class=\"line\">\t    minSdkVersion <span class=\"number\">10</span></span><br><span class=\"line\">\t    targetSdkVersion <span class=\"number\">21</span></span><br><span class=\"line\">    }</span><br><span class=\"line\"></span><br><span class=\"line\">    buildTypes {</span><br><span class=\"line\">        release {</span><br><span class=\"line\">            minifyEnabled <span class=\"literal\">false</span></span><br><span class=\"line\">            proguardFiles (<span class=\"string\">'proguard-android.txt'</span>)</span><br><span class=\"line\">        }</span><br><span class=\"line\">    }</span><br><span class=\"line\"></span><br><span class=\"line\">    tasks.withType(JavaCompile) {</span><br><span class=\"line\">        compileTask -&gt; compileTask.dependsOn <span class=\"string\">'ndkBuild'</span>, <span class=\"string\">'copyJniLibs'</span></span><br><span class=\"line\">    }</span><br><span class=\"line\"></span><br><span class=\"line\">    sourceSets {</span><br><span class=\"line\">        main {</span><br><span class=\"line\">\t        jni.srcDirs = []</span><br><span class=\"line\">            jniLibs.srcDirs = [<span class=\"string\">'src/main/jniLibs'</span>]</span><br><span class=\"line\">        }</span><br><span class=\"line\">    }</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\">task ndkBuild(<span class=\"attr\">type:</span> Exec) {</span><br><span class=\"line\">\t<span class=\"keyword\">def</span> ndkDir = project.plugins.findPlugin(<span class=\"string\">'com.android.application'</span>).sdkHandler.getNdkFolder()</span><br><span class=\"line\">    commandLine <span class=\"string\">\"$ndkDir/ndk-build.cmd\"</span>, <span class=\"string\">'-C'</span>, <span class=\"string\">'src/main/jni'</span>,</span><br><span class=\"line\">\t\t    <span class=\"string\">\"NDK_OUT=$buildDir/ndk/obj\"</span>,</span><br><span class=\"line\">\t\t    <span class=\"string\">\"NDK_APP_DST_DIR=$buildDir/ndk/libs/\\$(TARGET_ARCH_ABI)\"</span></span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\">task copyJniLibs(<span class=\"attr\">type:</span> Copy) {</span><br><span class=\"line\">    from fileTree(<span class=\"attr\">dir:</span> file(buildDir.absolutePath + <span class=\"string\">'/ndk/libs'</span>), <span class=\"attr\">include:</span> <span class=\"string\">'**/*.so'</span>)</span><br><span class=\"line\">    into file(<span class=\"string\">'src/main/jniLibs'</span>)</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n\n<p> task  android {}  android {}  <em>NDK_APP_DST_DIR</em>  buildDir  nkd </p>\n<p>4. Android Studo  ndkBuild  copyJniLibs  task</p>\n<p>ps:  task</p>\n<pre><code>$ gradle ndkBuild copyJniLibs\n</code></pre>\n<p> gradle  bin </p>\n","site":{"data":{}},"excerpt":"<p> Android  Eclipse  Android Studio google  Android Studio  ndk  gradle  jni</p>","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>1.  local.properties ndk  (ndk  r9 )</p>\n<figure class=\"highlight text\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ndk.dir=E\\:\\\\Android\\\\ndk-r10d</span><br></pre></td></tr></tbody></table></figure>\n\n<p>2.  app\\src\\main  jni  c/c++  Android.mk</p>\n<p>3.  app  build.gradle  taskndkBuild  copyJniLibs task  ndk  task  so  copy  jniLibs  Android Studio  so </p>\n<figure class=\"highlight groovy\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">android {</span><br><span class=\"line\">    compileSdkVersion <span class=\"number\">21</span></span><br><span class=\"line\">    buildToolsVersion <span class=\"string\">\"21.1.2\"</span></span><br><span class=\"line\">    defaultConfig {</span><br><span class=\"line\">        applicationId <span class=\"string\">\"com.xxx.yyy\"</span></span><br><span class=\"line\">        versionCode <span class=\"number\">1</span></span><br><span class=\"line\">        versionName <span class=\"string\">'1.0'</span></span><br><span class=\"line\">\t    minSdkVersion <span class=\"number\">10</span></span><br><span class=\"line\">\t    targetSdkVersion <span class=\"number\">21</span></span><br><span class=\"line\">    }</span><br><span class=\"line\"></span><br><span class=\"line\">    buildTypes {</span><br><span class=\"line\">        release {</span><br><span class=\"line\">            minifyEnabled <span class=\"literal\">false</span></span><br><span class=\"line\">            proguardFiles (<span class=\"string\">'proguard-android.txt'</span>)</span><br><span class=\"line\">        }</span><br><span class=\"line\">    }</span><br><span class=\"line\"></span><br><span class=\"line\">    tasks.withType(JavaCompile) {</span><br><span class=\"line\">        compileTask -&gt; compileTask.dependsOn <span class=\"string\">'ndkBuild'</span>, <span class=\"string\">'copyJniLibs'</span></span><br><span class=\"line\">    }</span><br><span class=\"line\"></span><br><span class=\"line\">    sourceSets {</span><br><span class=\"line\">        main {</span><br><span class=\"line\">\t        jni.srcDirs = []</span><br><span class=\"line\">            jniLibs.srcDirs = [<span class=\"string\">'src/main/jniLibs'</span>]</span><br><span class=\"line\">        }</span><br><span class=\"line\">    }</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\">task ndkBuild(<span class=\"attr\">type:</span> Exec) {</span><br><span class=\"line\">\t<span class=\"keyword\">def</span> ndkDir = project.plugins.findPlugin(<span class=\"string\">'com.android.application'</span>).sdkHandler.getNdkFolder()</span><br><span class=\"line\">    commandLine <span class=\"string\">\"$ndkDir/ndk-build.cmd\"</span>, <span class=\"string\">'-C'</span>, <span class=\"string\">'src/main/jni'</span>,</span><br><span class=\"line\">\t\t    <span class=\"string\">\"NDK_OUT=$buildDir/ndk/obj\"</span>,</span><br><span class=\"line\">\t\t    <span class=\"string\">\"NDK_APP_DST_DIR=$buildDir/ndk/libs/\\$(TARGET_ARCH_ABI)\"</span></span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\">task copyJniLibs(<span class=\"attr\">type:</span> Copy) {</span><br><span class=\"line\">    from fileTree(<span class=\"attr\">dir:</span> file(buildDir.absolutePath + <span class=\"string\">'/ndk/libs'</span>), <span class=\"attr\">include:</span> <span class=\"string\">'**/*.so'</span>)</span><br><span class=\"line\">    into file(<span class=\"string\">'src/main/jniLibs'</span>)</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n\n<p> task  android {}  android {}  <em>NDK_APP_DST_DIR</em>  buildDir  nkd </p>\n<p>4. Android Studo  ndkBuild  copyJniLibs  task</p>\n<p>ps:  task</p>\n<pre><code>$ gradle ndkBuild copyJniLibs\n</code></pre>\n<p> gradle  bin </p>"},{"title":"Android  Home ","_content":"\nAndroidHome()onKeyDownonKeyUp\n<!-- more -->\n\nHomeReceiver\n```java\npublic class HomeKeyReceiver extends BroadcastReceiver {\n\tprivate static final String TAG = HomeKeyReceiver.class.getSimpleName();\n\t\n\t/* extra from home key broadcase receiver */\n\tprivate static final String SYSTEM_DIALOG_REASON_EXTRA = \"reason\";\n    /* press home key to go back to home */\n    private static final String SYSTEM_DIALOG_REASON_HOME_KEY = \"homekey\";\n\t/* long press home key to show recent apps */\n    private static final String SYSTEM_DIALOG_REASON_RECENT_APPS = \"recentapps\";\n    /* (long) press home key to show assistant */\n    private static final String SYSTEM_DIALOG_REASON_ASSIST = \"assist\";\n    /* (long) press home key to lock */\n    private static final String SYSTEM_DIALOG_REASON_LOCK = \"lock\";\n\t\n\tprivate Context mContext;\n\t/* listeners used in this broadcast receiver */\n\tprivate OnHomeKeyListener mOnHomeKeyListener;\n\tprivate OnRecentAppListener mOnRecentAppListener;\n\tprivate OnAssistListener mOnAssistListener;\n\tprivate OnLockListener mOnLockListener;\n\t\n\tpublic HomeKeyReceiver(Context context) {\n\t\tmContext = context;\n\t}\n\t\n\t/**\n\t * Interface definition for a callback to be invoked when the reason is \"homekey\".\n\t */\n\tpublic interface OnHomeKeyListener {\n\t\tvoid onKeypressed();\n\t}\n\t\n\t/**\n\t * Interface definition for a callback to be invoked when the reason is \"recentapps\".\n\t */\n\tpublic interface OnRecentAppListener {\n\t\tvoid onKeypressed();\n\t}\n\t\n\t/**\n\t * Interface definition for a callback to be invoked when the reason is \"assist\".\n\t */\n\tpublic interface OnAssistListener {\n\t\tvoid onKeypressed();\n\t}\n\t\n\t/**\n\t * Interface definition for a callback to be invoked when the reason is \"lock\".\n\t */\n\tpublic interface OnLockListener {\n\t\tvoid onKeypressed();\n\t}\n\t\n\t@Override\n\tpublic void onReceive(Context context, Intent intent) {\n\t\tif (intent.getAction().equals(Intent.ACTION_CLOSE_SYSTEM_DIALOGS)) {\n\t\t\tString reason = intent.getStringExtra(SYSTEM_DIALOG_REASON_EXTRA);\n\t\t\tif (TextUtils.isEmpty(reason)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tswitch (reason) {\n\t\t\tcase SYSTEM_DIALOG_REASON_HOME_KEY:\n\t\t\t\tif (mOnHomeKeyListener != null) {\n\t\t\t\t\tmOnHomeKeyListener.onKeypressed();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\t\n\t\t\tcase SYSTEM_DIALOG_REASON_RECENT_APPS:\n\t\t\t\tif (mOnRecentAppListener != null) {\n\t\t\t\t\tmOnRecentAppListener.onKeypressed();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\t\n\t\t\tcase SYSTEM_DIALOG_REASON_ASSIST:\n\t\t\t\tif (mOnAssistListener != null) {\n\t\t\t\t\tmOnAssistListener.onKeypressed();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\t\n\t\t\tcase SYSTEM_DIALOG_REASON_LOCK:\n\t\t\t\tif (mOnLockListener != null) {\n\t\t\t\t\tmOnLockListener.onKeypressed();\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tLog.d(TAG, \"other reason: \" + reason);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t/**\n\t * Register a callback to be invoked when system dialog reason is \"homekey\".\n\t */\n\tpublic void setOnHomeKeyListener(OnHomeKeyListener l) {\n\t\tmOnHomeKeyListener = l;\n\t}\n\t\n\t/**\n\t * Register a callback to be invoked when system dialog reason is \"recentapps\".\n\t */\n\tpublic void setOnRecentAppListener(OnRecentAppListener l) {\n\t\tmOnRecentAppListener = l;\n\t}\n\t\n\t/**\n\t * Register a callback to be invoked when system dialog reason is \"assist\".\n\t */\n\tpublic void setOnAssistListener(OnAssistListener l) {\n\t\tmOnAssistListener = l;\n\t}\n\t\n\t/**\n\t * Register a callback to be invoked when system dialog reason is \"lock\".\n\t */\n\tpublic void setOnLockListener(OnLockListener l) {\n\t\tmOnLockListener = l;\n\t}\n\n\t/**\n\t * Register the home key boradcasr receiver.\n\t */\n\tpublic void register() {\n\t\tIntentFilter homeFilter = new IntentFilter(Intent.ACTION_CLOSE_SYSTEM_DIALOGS);\n\t\tmContext.registerReceiver(this, homeFilter);\n\t}\n\t\n\t/**\n\t * Unregister the home key boradcasr receiver.\n\t */\n\tpublic void unregister() {\n\t\tmContext.unregisterReceiver(this);\n\t}\n```\n\nhome/`homekey`home\n\n\n```java\nprivate HomeKeyReceiver mHomeKeyReceiver;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n\tsuper.onCreate(savedInstanceState);\n\n\tmHomeKeyReceiver = new HomeKeyReceiver(this);\n\tmHomeKeyReceiver.setOnHomeKeyListener(new OnHomeKeyListener() {\n\t\t@Override\n\t\tpublic void onKeypressed() {\n\t\t\tLog.d(TAG, \"home key pressed\");\n\t\t}\n\t});\n}\n\n@Override\nprotected void onResume() {\n\tsuper.onResume();\n\tmHomeKeyReceiver.register();\n}\n\n@Override\nprotected void onPause() {\n\tsuper.onPause();\n\tmHomeKeyReceiver.unregister();\n}\n\n```\n\nReceiver`onResume``onPause`","source":"_posts/2015-03-16-listen-home-key.md","raw":"---\ntitle: AndroidHome\ncategory: android\ntags: [home key]\n---\n\nAndroidHome()onKeyDownonKeyUp\n<!-- more -->\n\nHomeReceiver\n```java\npublic class HomeKeyReceiver extends BroadcastReceiver {\n\tprivate static final String TAG = HomeKeyReceiver.class.getSimpleName();\n\t\n\t/* extra from home key broadcase receiver */\n\tprivate static final String SYSTEM_DIALOG_REASON_EXTRA = \"reason\";\n    /* press home key to go back to home */\n    private static final String SYSTEM_DIALOG_REASON_HOME_KEY = \"homekey\";\n\t/* long press home key to show recent apps */\n    private static final String SYSTEM_DIALOG_REASON_RECENT_APPS = \"recentapps\";\n    /* (long) press home key to show assistant */\n    private static final String SYSTEM_DIALOG_REASON_ASSIST = \"assist\";\n    /* (long) press home key to lock */\n    private static final String SYSTEM_DIALOG_REASON_LOCK = \"lock\";\n\t\n\tprivate Context mContext;\n\t/* listeners used in this broadcast receiver */\n\tprivate OnHomeKeyListener mOnHomeKeyListener;\n\tprivate OnRecentAppListener mOnRecentAppListener;\n\tprivate OnAssistListener mOnAssistListener;\n\tprivate OnLockListener mOnLockListener;\n\t\n\tpublic HomeKeyReceiver(Context context) {\n\t\tmContext = context;\n\t}\n\t\n\t/**\n\t * Interface definition for a callback to be invoked when the reason is \"homekey\".\n\t */\n\tpublic interface OnHomeKeyListener {\n\t\tvoid onKeypressed();\n\t}\n\t\n\t/**\n\t * Interface definition for a callback to be invoked when the reason is \"recentapps\".\n\t */\n\tpublic interface OnRecentAppListener {\n\t\tvoid onKeypressed();\n\t}\n\t\n\t/**\n\t * Interface definition for a callback to be invoked when the reason is \"assist\".\n\t */\n\tpublic interface OnAssistListener {\n\t\tvoid onKeypressed();\n\t}\n\t\n\t/**\n\t * Interface definition for a callback to be invoked when the reason is \"lock\".\n\t */\n\tpublic interface OnLockListener {\n\t\tvoid onKeypressed();\n\t}\n\t\n\t@Override\n\tpublic void onReceive(Context context, Intent intent) {\n\t\tif (intent.getAction().equals(Intent.ACTION_CLOSE_SYSTEM_DIALOGS)) {\n\t\t\tString reason = intent.getStringExtra(SYSTEM_DIALOG_REASON_EXTRA);\n\t\t\tif (TextUtils.isEmpty(reason)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tswitch (reason) {\n\t\t\tcase SYSTEM_DIALOG_REASON_HOME_KEY:\n\t\t\t\tif (mOnHomeKeyListener != null) {\n\t\t\t\t\tmOnHomeKeyListener.onKeypressed();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\t\n\t\t\tcase SYSTEM_DIALOG_REASON_RECENT_APPS:\n\t\t\t\tif (mOnRecentAppListener != null) {\n\t\t\t\t\tmOnRecentAppListener.onKeypressed();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\t\n\t\t\tcase SYSTEM_DIALOG_REASON_ASSIST:\n\t\t\t\tif (mOnAssistListener != null) {\n\t\t\t\t\tmOnAssistListener.onKeypressed();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\t\n\t\t\tcase SYSTEM_DIALOG_REASON_LOCK:\n\t\t\t\tif (mOnLockListener != null) {\n\t\t\t\t\tmOnLockListener.onKeypressed();\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tLog.d(TAG, \"other reason: \" + reason);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t/**\n\t * Register a callback to be invoked when system dialog reason is \"homekey\".\n\t */\n\tpublic void setOnHomeKeyListener(OnHomeKeyListener l) {\n\t\tmOnHomeKeyListener = l;\n\t}\n\t\n\t/**\n\t * Register a callback to be invoked when system dialog reason is \"recentapps\".\n\t */\n\tpublic void setOnRecentAppListener(OnRecentAppListener l) {\n\t\tmOnRecentAppListener = l;\n\t}\n\t\n\t/**\n\t * Register a callback to be invoked when system dialog reason is \"assist\".\n\t */\n\tpublic void setOnAssistListener(OnAssistListener l) {\n\t\tmOnAssistListener = l;\n\t}\n\t\n\t/**\n\t * Register a callback to be invoked when system dialog reason is \"lock\".\n\t */\n\tpublic void setOnLockListener(OnLockListener l) {\n\t\tmOnLockListener = l;\n\t}\n\n\t/**\n\t * Register the home key boradcasr receiver.\n\t */\n\tpublic void register() {\n\t\tIntentFilter homeFilter = new IntentFilter(Intent.ACTION_CLOSE_SYSTEM_DIALOGS);\n\t\tmContext.registerReceiver(this, homeFilter);\n\t}\n\t\n\t/**\n\t * Unregister the home key boradcasr receiver.\n\t */\n\tpublic void unregister() {\n\t\tmContext.unregisterReceiver(this);\n\t}\n```\n\nhome/`homekey`home\n\n\n```java\nprivate HomeKeyReceiver mHomeKeyReceiver;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n\tsuper.onCreate(savedInstanceState);\n\n\tmHomeKeyReceiver = new HomeKeyReceiver(this);\n\tmHomeKeyReceiver.setOnHomeKeyListener(new OnHomeKeyListener() {\n\t\t@Override\n\t\tpublic void onKeypressed() {\n\t\t\tLog.d(TAG, \"home key pressed\");\n\t\t}\n\t});\n}\n\n@Override\nprotected void onResume() {\n\tsuper.onResume();\n\tmHomeKeyReceiver.register();\n}\n\n@Override\nprotected void onPause() {\n\tsuper.onPause();\n\tmHomeKeyReceiver.unregister();\n}\n\n```\n\nReceiver`onResume``onPause`","slug":"listen-home-key","published":1,"date":"2015-03-15T16:00:00.000Z","updated":"2023-05-23T03:07:55.015Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cli00ivlh000az0incnm6aa82","content":"<p>Android  Home  ()  onKeyDown  onKeyUp </p>\n<span id=\"more\"></span>\n\n<p> Home  Receiver </p>\n<figure class=\"highlight java\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">HomeKeyReceiver</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">BroadcastReceiver</span> {</span><br><span class=\"line\">\t<span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"type\">String</span> <span class=\"variable\">TAG</span> <span class=\"operator\">=</span> HomeKeyReceiver.class.getSimpleName();</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">/* extra from home key broadcase receiver */</span></span><br><span class=\"line\">\t<span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"type\">String</span> <span class=\"variable\">SYSTEM_DIALOG_REASON_EXTRA</span> <span class=\"operator\">=</span> <span class=\"string\">\"reason\"</span>;</span><br><span class=\"line\">    <span class=\"comment\">/* press home key to go back to home */</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"type\">String</span> <span class=\"variable\">SYSTEM_DIALOG_REASON_HOME_KEY</span> <span class=\"operator\">=</span> <span class=\"string\">\"homekey\"</span>;</span><br><span class=\"line\">\t<span class=\"comment\">/* long press home key to show recent apps */</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"type\">String</span> <span class=\"variable\">SYSTEM_DIALOG_REASON_RECENT_APPS</span> <span class=\"operator\">=</span> <span class=\"string\">\"recentapps\"</span>;</span><br><span class=\"line\">    <span class=\"comment\">/* (long) press home key to show assistant */</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"type\">String</span> <span class=\"variable\">SYSTEM_DIALOG_REASON_ASSIST</span> <span class=\"operator\">=</span> <span class=\"string\">\"assist\"</span>;</span><br><span class=\"line\">    <span class=\"comment\">/* (long) press home key to lock */</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"type\">String</span> <span class=\"variable\">SYSTEM_DIALOG_REASON_LOCK</span> <span class=\"operator\">=</span> <span class=\"string\">\"lock\"</span>;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"keyword\">private</span> Context mContext;</span><br><span class=\"line\">\t<span class=\"comment\">/* listeners used in this broadcast receiver */</span></span><br><span class=\"line\">\t<span class=\"keyword\">private</span> OnHomeKeyListener mOnHomeKeyListener;</span><br><span class=\"line\">\t<span class=\"keyword\">private</span> OnRecentAppListener mOnRecentAppListener;</span><br><span class=\"line\">\t<span class=\"keyword\">private</span> OnAssistListener mOnAssistListener;</span><br><span class=\"line\">\t<span class=\"keyword\">private</span> OnLockListener mOnLockListener;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"title function_\">HomeKeyReceiver</span><span class=\"params\">(Context context)</span> {</span><br><span class=\"line\">\t\tmContext = context;</span><br><span class=\"line\">\t}</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">\t * Interface definition for a callback to be invoked when the reason is \"homekey\".</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title class_\">OnHomeKeyListener</span> {</span><br><span class=\"line\">\t\t<span class=\"keyword\">void</span> <span class=\"title function_\">onKeypressed</span><span class=\"params\">()</span>;</span><br><span class=\"line\">\t}</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">\t * Interface definition for a callback to be invoked when the reason is \"recentapps\".</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title class_\">OnRecentAppListener</span> {</span><br><span class=\"line\">\t\t<span class=\"keyword\">void</span> <span class=\"title function_\">onKeypressed</span><span class=\"params\">()</span>;</span><br><span class=\"line\">\t}</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">\t * Interface definition for a callback to be invoked when the reason is \"assist\".</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title class_\">OnAssistListener</span> {</span><br><span class=\"line\">\t\t<span class=\"keyword\">void</span> <span class=\"title function_\">onKeypressed</span><span class=\"params\">()</span>;</span><br><span class=\"line\">\t}</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">\t * Interface definition for a callback to be invoked when the reason is \"lock\".</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title class_\">OnLockListener</span> {</span><br><span class=\"line\">\t\t<span class=\"keyword\">void</span> <span class=\"title function_\">onKeypressed</span><span class=\"params\">()</span>;</span><br><span class=\"line\">\t}</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"meta\">@Override</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">onReceive</span><span class=\"params\">(Context context, Intent intent)</span> {</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (intent.getAction().equals(Intent.ACTION_CLOSE_SYSTEM_DIALOGS)) {</span><br><span class=\"line\">\t\t\t<span class=\"type\">String</span> <span class=\"variable\">reason</span> <span class=\"operator\">=</span> intent.getStringExtra(SYSTEM_DIALOG_REASON_EXTRA);</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (TextUtils.isEmpty(reason)) {</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t\t\t}</span><br><span class=\"line\">\t\t\t</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">switch</span> (reason) {</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">case</span> SYSTEM_DIALOG_REASON_HOME_KEY:</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span> (mOnHomeKeyListener != <span class=\"literal\">null</span>) {</span><br><span class=\"line\">\t\t\t\t\tmOnHomeKeyListener.onKeypressed();</span><br><span class=\"line\">\t\t\t\t}</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t\t\t</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">case</span> SYSTEM_DIALOG_REASON_RECENT_APPS:</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span> (mOnRecentAppListener != <span class=\"literal\">null</span>) {</span><br><span class=\"line\">\t\t\t\t\tmOnRecentAppListener.onKeypressed();</span><br><span class=\"line\">\t\t\t\t}</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t\t\t</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">case</span> SYSTEM_DIALOG_REASON_ASSIST:</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span> (mOnAssistListener != <span class=\"literal\">null</span>) {</span><br><span class=\"line\">\t\t\t\t\tmOnAssistListener.onKeypressed();</span><br><span class=\"line\">\t\t\t\t}</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t\t\t</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">case</span> SYSTEM_DIALOG_REASON_LOCK:</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span> (mOnLockListener != <span class=\"literal\">null</span>) {</span><br><span class=\"line\">\t\t\t\t\tmOnLockListener.onKeypressed();</span><br><span class=\"line\">\t\t\t\t}</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">default</span>:</span><br><span class=\"line\">\t\t\t\tLog.d(TAG, <span class=\"string\">\"other reason: \"</span> + reason);</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t\t}</span><br><span class=\"line\">\t\t}</span><br><span class=\"line\">\t}</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">\t * Register a callback to be invoked when system dialog reason is \"homekey\".</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setOnHomeKeyListener</span><span class=\"params\">(OnHomeKeyListener l)</span> {</span><br><span class=\"line\">\t\tmOnHomeKeyListener = l;</span><br><span class=\"line\">\t}</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">\t * Register a callback to be invoked when system dialog reason is \"recentapps\".</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setOnRecentAppListener</span><span class=\"params\">(OnRecentAppListener l)</span> {</span><br><span class=\"line\">\t\tmOnRecentAppListener = l;</span><br><span class=\"line\">\t}</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">\t * Register a callback to be invoked when system dialog reason is \"assist\".</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setOnAssistListener</span><span class=\"params\">(OnAssistListener l)</span> {</span><br><span class=\"line\">\t\tmOnAssistListener = l;</span><br><span class=\"line\">\t}</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">\t * Register a callback to be invoked when system dialog reason is \"lock\".</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setOnLockListener</span><span class=\"params\">(OnLockListener l)</span> {</span><br><span class=\"line\">\t\tmOnLockListener = l;</span><br><span class=\"line\">\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">\t * Register the home key boradcasr receiver.</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">register</span><span class=\"params\">()</span> {</span><br><span class=\"line\">\t\t<span class=\"type\">IntentFilter</span> <span class=\"variable\">homeFilter</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">IntentFilter</span>(Intent.ACTION_CLOSE_SYSTEM_DIALOGS);</span><br><span class=\"line\">\t\tmContext.registerReceiver(<span class=\"built_in\">this</span>, homeFilter);</span><br><span class=\"line\">\t}</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">\t * Unregister the home key boradcasr receiver.</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">unregister</span><span class=\"params\">()</span> {</span><br><span class=\"line\">\t\tmContext.unregisterReceiver(<span class=\"built_in\">this</span>);</span><br><span class=\"line\">\t}</span><br></pre></td></tr></tbody></table></figure>\n\n<p> home  /  <code>homekey</code>  home </p>\n<p></p>\n<figure class=\"highlight java\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">private</span> HomeKeyReceiver mHomeKeyReceiver;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Override</span></span><br><span class=\"line\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title function_\">onCreate</span><span class=\"params\">(Bundle savedInstanceState)</span> {</span><br><span class=\"line\">\t<span class=\"built_in\">super</span>.onCreate(savedInstanceState);</span><br><span class=\"line\"></span><br><span class=\"line\">\tmHomeKeyReceiver = <span class=\"keyword\">new</span> <span class=\"title class_\">HomeKeyReceiver</span>(<span class=\"built_in\">this</span>);</span><br><span class=\"line\">\tmHomeKeyReceiver.setOnHomeKeyListener(<span class=\"keyword\">new</span> <span class=\"title class_\">OnHomeKeyListener</span>() {</span><br><span class=\"line\">\t\t<span class=\"meta\">@Override</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">onKeypressed</span><span class=\"params\">()</span> {</span><br><span class=\"line\">\t\t\tLog.d(TAG, <span class=\"string\">\"home key pressed\"</span>);</span><br><span class=\"line\">\t\t}</span><br><span class=\"line\">\t});</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Override</span></span><br><span class=\"line\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title function_\">onResume</span><span class=\"params\">()</span> {</span><br><span class=\"line\">\t<span class=\"built_in\">super</span>.onResume();</span><br><span class=\"line\">\tmHomeKeyReceiver.register();</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Override</span></span><br><span class=\"line\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title function_\">onPause</span><span class=\"params\">()</span> {</span><br><span class=\"line\">\t<span class=\"built_in\">super</span>.onPause();</span><br><span class=\"line\">\tmHomeKeyReceiver.unregister();</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br></pre></td></tr></tbody></table></figure>\n\n<p> Receiver  <code>onResume</code>  <code>onPause</code> </p>\n","site":{"data":{}},"excerpt":"<p>Android  Home  ()  onKeyDown  onKeyUp </p>","more":"<p> Home  Receiver </p>\n<figure class=\"highlight java\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">HomeKeyReceiver</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">BroadcastReceiver</span> {</span><br><span class=\"line\">\t<span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"type\">String</span> <span class=\"variable\">TAG</span> <span class=\"operator\">=</span> HomeKeyReceiver.class.getSimpleName();</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">/* extra from home key broadcase receiver */</span></span><br><span class=\"line\">\t<span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"type\">String</span> <span class=\"variable\">SYSTEM_DIALOG_REASON_EXTRA</span> <span class=\"operator\">=</span> <span class=\"string\">\"reason\"</span>;</span><br><span class=\"line\">    <span class=\"comment\">/* press home key to go back to home */</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"type\">String</span> <span class=\"variable\">SYSTEM_DIALOG_REASON_HOME_KEY</span> <span class=\"operator\">=</span> <span class=\"string\">\"homekey\"</span>;</span><br><span class=\"line\">\t<span class=\"comment\">/* long press home key to show recent apps */</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"type\">String</span> <span class=\"variable\">SYSTEM_DIALOG_REASON_RECENT_APPS</span> <span class=\"operator\">=</span> <span class=\"string\">\"recentapps\"</span>;</span><br><span class=\"line\">    <span class=\"comment\">/* (long) press home key to show assistant */</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"type\">String</span> <span class=\"variable\">SYSTEM_DIALOG_REASON_ASSIST</span> <span class=\"operator\">=</span> <span class=\"string\">\"assist\"</span>;</span><br><span class=\"line\">    <span class=\"comment\">/* (long) press home key to lock */</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"type\">String</span> <span class=\"variable\">SYSTEM_DIALOG_REASON_LOCK</span> <span class=\"operator\">=</span> <span class=\"string\">\"lock\"</span>;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"keyword\">private</span> Context mContext;</span><br><span class=\"line\">\t<span class=\"comment\">/* listeners used in this broadcast receiver */</span></span><br><span class=\"line\">\t<span class=\"keyword\">private</span> OnHomeKeyListener mOnHomeKeyListener;</span><br><span class=\"line\">\t<span class=\"keyword\">private</span> OnRecentAppListener mOnRecentAppListener;</span><br><span class=\"line\">\t<span class=\"keyword\">private</span> OnAssistListener mOnAssistListener;</span><br><span class=\"line\">\t<span class=\"keyword\">private</span> OnLockListener mOnLockListener;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"title function_\">HomeKeyReceiver</span><span class=\"params\">(Context context)</span> {</span><br><span class=\"line\">\t\tmContext = context;</span><br><span class=\"line\">\t}</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">\t * Interface definition for a callback to be invoked when the reason is \"homekey\".</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title class_\">OnHomeKeyListener</span> {</span><br><span class=\"line\">\t\t<span class=\"keyword\">void</span> <span class=\"title function_\">onKeypressed</span><span class=\"params\">()</span>;</span><br><span class=\"line\">\t}</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">\t * Interface definition for a callback to be invoked when the reason is \"recentapps\".</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title class_\">OnRecentAppListener</span> {</span><br><span class=\"line\">\t\t<span class=\"keyword\">void</span> <span class=\"title function_\">onKeypressed</span><span class=\"params\">()</span>;</span><br><span class=\"line\">\t}</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">\t * Interface definition for a callback to be invoked when the reason is \"assist\".</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title class_\">OnAssistListener</span> {</span><br><span class=\"line\">\t\t<span class=\"keyword\">void</span> <span class=\"title function_\">onKeypressed</span><span class=\"params\">()</span>;</span><br><span class=\"line\">\t}</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">\t * Interface definition for a callback to be invoked when the reason is \"lock\".</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title class_\">OnLockListener</span> {</span><br><span class=\"line\">\t\t<span class=\"keyword\">void</span> <span class=\"title function_\">onKeypressed</span><span class=\"params\">()</span>;</span><br><span class=\"line\">\t}</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"meta\">@Override</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">onReceive</span><span class=\"params\">(Context context, Intent intent)</span> {</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (intent.getAction().equals(Intent.ACTION_CLOSE_SYSTEM_DIALOGS)) {</span><br><span class=\"line\">\t\t\t<span class=\"type\">String</span> <span class=\"variable\">reason</span> <span class=\"operator\">=</span> intent.getStringExtra(SYSTEM_DIALOG_REASON_EXTRA);</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (TextUtils.isEmpty(reason)) {</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t\t\t}</span><br><span class=\"line\">\t\t\t</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">switch</span> (reason) {</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">case</span> SYSTEM_DIALOG_REASON_HOME_KEY:</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span> (mOnHomeKeyListener != <span class=\"literal\">null</span>) {</span><br><span class=\"line\">\t\t\t\t\tmOnHomeKeyListener.onKeypressed();</span><br><span class=\"line\">\t\t\t\t}</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t\t\t</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">case</span> SYSTEM_DIALOG_REASON_RECENT_APPS:</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span> (mOnRecentAppListener != <span class=\"literal\">null</span>) {</span><br><span class=\"line\">\t\t\t\t\tmOnRecentAppListener.onKeypressed();</span><br><span class=\"line\">\t\t\t\t}</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t\t\t</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">case</span> SYSTEM_DIALOG_REASON_ASSIST:</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span> (mOnAssistListener != <span class=\"literal\">null</span>) {</span><br><span class=\"line\">\t\t\t\t\tmOnAssistListener.onKeypressed();</span><br><span class=\"line\">\t\t\t\t}</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t\t\t</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">case</span> SYSTEM_DIALOG_REASON_LOCK:</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span> (mOnLockListener != <span class=\"literal\">null</span>) {</span><br><span class=\"line\">\t\t\t\t\tmOnLockListener.onKeypressed();</span><br><span class=\"line\">\t\t\t\t}</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">default</span>:</span><br><span class=\"line\">\t\t\t\tLog.d(TAG, <span class=\"string\">\"other reason: \"</span> + reason);</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t\t}</span><br><span class=\"line\">\t\t}</span><br><span class=\"line\">\t}</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">\t * Register a callback to be invoked when system dialog reason is \"homekey\".</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setOnHomeKeyListener</span><span class=\"params\">(OnHomeKeyListener l)</span> {</span><br><span class=\"line\">\t\tmOnHomeKeyListener = l;</span><br><span class=\"line\">\t}</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">\t * Register a callback to be invoked when system dialog reason is \"recentapps\".</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setOnRecentAppListener</span><span class=\"params\">(OnRecentAppListener l)</span> {</span><br><span class=\"line\">\t\tmOnRecentAppListener = l;</span><br><span class=\"line\">\t}</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">\t * Register a callback to be invoked when system dialog reason is \"assist\".</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setOnAssistListener</span><span class=\"params\">(OnAssistListener l)</span> {</span><br><span class=\"line\">\t\tmOnAssistListener = l;</span><br><span class=\"line\">\t}</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">\t * Register a callback to be invoked when system dialog reason is \"lock\".</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setOnLockListener</span><span class=\"params\">(OnLockListener l)</span> {</span><br><span class=\"line\">\t\tmOnLockListener = l;</span><br><span class=\"line\">\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">\t * Register the home key boradcasr receiver.</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">register</span><span class=\"params\">()</span> {</span><br><span class=\"line\">\t\t<span class=\"type\">IntentFilter</span> <span class=\"variable\">homeFilter</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">IntentFilter</span>(Intent.ACTION_CLOSE_SYSTEM_DIALOGS);</span><br><span class=\"line\">\t\tmContext.registerReceiver(<span class=\"built_in\">this</span>, homeFilter);</span><br><span class=\"line\">\t}</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">\t * Unregister the home key boradcasr receiver.</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">unregister</span><span class=\"params\">()</span> {</span><br><span class=\"line\">\t\tmContext.unregisterReceiver(<span class=\"built_in\">this</span>);</span><br><span class=\"line\">\t}</span><br></pre></td></tr></tbody></table></figure>\n\n<p> home  /  <code>homekey</code>  home </p>\n<p></p>\n<figure class=\"highlight java\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">private</span> HomeKeyReceiver mHomeKeyReceiver;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Override</span></span><br><span class=\"line\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title function_\">onCreate</span><span class=\"params\">(Bundle savedInstanceState)</span> {</span><br><span class=\"line\">\t<span class=\"built_in\">super</span>.onCreate(savedInstanceState);</span><br><span class=\"line\"></span><br><span class=\"line\">\tmHomeKeyReceiver = <span class=\"keyword\">new</span> <span class=\"title class_\">HomeKeyReceiver</span>(<span class=\"built_in\">this</span>);</span><br><span class=\"line\">\tmHomeKeyReceiver.setOnHomeKeyListener(<span class=\"keyword\">new</span> <span class=\"title class_\">OnHomeKeyListener</span>() {</span><br><span class=\"line\">\t\t<span class=\"meta\">@Override</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">onKeypressed</span><span class=\"params\">()</span> {</span><br><span class=\"line\">\t\t\tLog.d(TAG, <span class=\"string\">\"home key pressed\"</span>);</span><br><span class=\"line\">\t\t}</span><br><span class=\"line\">\t});</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Override</span></span><br><span class=\"line\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title function_\">onResume</span><span class=\"params\">()</span> {</span><br><span class=\"line\">\t<span class=\"built_in\">super</span>.onResume();</span><br><span class=\"line\">\tmHomeKeyReceiver.register();</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Override</span></span><br><span class=\"line\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title function_\">onPause</span><span class=\"params\">()</span> {</span><br><span class=\"line\">\t<span class=\"built_in\">super</span>.onPause();</span><br><span class=\"line\">\tmHomeKeyReceiver.unregister();</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br></pre></td></tr></tbody></table></figure>\n\n<p> Receiver  <code>onResume</code>  <code>onPause</code> </p>"},{"layout":"post","title":"Android App Uninstall Watcher","_content":"\nAppforkApplinuxinotifyinotify_init->inotify_add_watch->inotify_eventinotify_event\n<!-- more -->\n```c\nint main(int argc, char *argv[])\n{\n\tchar *app_dir = \"/data/data/com.xx.yy\";\n\tchar *watch_file_path = str_stitching(app_dir, \"/uninstall.watch\");\n\n\tpid_t pid = fork();\n\tif (pid < 0)\n\t{\n\t\treturn;\n\t}\n\telse if (pid == 0)\n\t{\n\t\t/* inotify init */\n\t\tint fd = inotify_init();\n\t\tif (fd < 0)\n\t\t{\n\t\t\texit(EXIT_FAILURE);\n\t\t}\n\n\t\tint w_fd = open(watch_file_path, O_RDWR | O_CREAT | O_TRUNC,\n\t\t\t\tS_IRWXU | S_IRWXG | S_IRWXO);\n\t\tif (w_fd < 0)\n\t\t{\n\t\t\texit(EXIT_FAILURE);\n\t\t}\n\n\t\tclose(w_fd);\n\n\t\t/* add watch in inotify */\n\t\tint watch_fd = inotify_add_watch(fd, watch_file_path, IN_DELETE);\n\t\tif (watch_fd < 0)\n\t\t{\n\t\t\texit(EXIT_FAILURE);\n\t\t}\n\n\t\tvoid *p_buf = malloc(sizeof(struct inotify_event));\n\t\tif (p_buf == NULL)\n\t\t{\n\t\t\tLOGD(LOG_TAG, \"malloc inotify event failed\");\n\t\t\texit(EXIT_FAILURE);\n\t\t}\n\n\t\t/* read will block process */\n\t\tread(fd, p_buf, sizeof(struct inotify_event));\n\n\t\tfree(p_buf);\n\t\tinotify_rm_watch(fd, IN_DELETE);\n\n\t\topen_browser(url);\n\t}\n}\n```\n\n[App Daemon][1]wathcer`int main(int argc, char *argv[])`c/data/data/<packagename>/uninstall.watchfork`inotify_init()`inotifyuninstall.watch`inotify_add_watch(fd, watch_file_path, IN_DELETE)`IN_CREATE, IN_MODIFY, IN_MOVED_TO`read(fd, p_buf, sizeof(struct inotify_event))`:\n```c\n/* open browser with specified url */\nvoid open_browser(char *url)\n{\n\t/* the url cannot be null */\n\tif (url == NULL || strlen(url) < 4) {\n\t\treturn;\n\t}\n\n\t/* get the sdk version */\n\tchar value[8] = \"\";\n\t__system_property_get(\"ro.build.version.sdk\", value);\n\n\tint version = atoi(value);\n\t/* is the version is greater than 17 */\n\tif (version >= 17 || version == 0)\n\t{\n\t\texeclp(\"am\", \"am\", \"start\", \"--user\", \"0\",\n\t\t\t\t\"-a\", \"android.intent.action.VIEW\", \"-d\", url, (char *)NULL);\n\t}\n\telse\n\t{\n\t\texeclp(\"am\", \"am\", \"start\", \"-a\", \"android.intent.action.VIEW\", \"-d\", url, (char *)NULL);\n\t}\n}\n```\n[App Daemon][1]execlpam\n[libcurl][2][wathcer.c][3]\n\nps:[App Daemon][1]\n\n[1]: http://coolerfall.com/android/android-app-daemon\n[2]: http://curl.haxx.se/libcurl/\n[3]: https://github.com/Coolerfall/Android-AppUninstallWatcher/blob/master/app/src/main/jni/watcher/watcher.c","source":"_posts/2015-03-25-android-app-uninstall-watcher.md","raw":"---\nlayout: post\ntitle: Android App Uninstall Watcher\ncategory: android\ntags: [ndk]\n---\n\nAppforkApplinuxinotifyinotify_init->inotify_add_watch->inotify_eventinotify_event\n<!-- more -->\n```c\nint main(int argc, char *argv[])\n{\n\tchar *app_dir = \"/data/data/com.xx.yy\";\n\tchar *watch_file_path = str_stitching(app_dir, \"/uninstall.watch\");\n\n\tpid_t pid = fork();\n\tif (pid < 0)\n\t{\n\t\treturn;\n\t}\n\telse if (pid == 0)\n\t{\n\t\t/* inotify init */\n\t\tint fd = inotify_init();\n\t\tif (fd < 0)\n\t\t{\n\t\t\texit(EXIT_FAILURE);\n\t\t}\n\n\t\tint w_fd = open(watch_file_path, O_RDWR | O_CREAT | O_TRUNC,\n\t\t\t\tS_IRWXU | S_IRWXG | S_IRWXO);\n\t\tif (w_fd < 0)\n\t\t{\n\t\t\texit(EXIT_FAILURE);\n\t\t}\n\n\t\tclose(w_fd);\n\n\t\t/* add watch in inotify */\n\t\tint watch_fd = inotify_add_watch(fd, watch_file_path, IN_DELETE);\n\t\tif (watch_fd < 0)\n\t\t{\n\t\t\texit(EXIT_FAILURE);\n\t\t}\n\n\t\tvoid *p_buf = malloc(sizeof(struct inotify_event));\n\t\tif (p_buf == NULL)\n\t\t{\n\t\t\tLOGD(LOG_TAG, \"malloc inotify event failed\");\n\t\t\texit(EXIT_FAILURE);\n\t\t}\n\n\t\t/* read will block process */\n\t\tread(fd, p_buf, sizeof(struct inotify_event));\n\n\t\tfree(p_buf);\n\t\tinotify_rm_watch(fd, IN_DELETE);\n\n\t\topen_browser(url);\n\t}\n}\n```\n\n[App Daemon][1]wathcer`int main(int argc, char *argv[])`c/data/data/<packagename>/uninstall.watchfork`inotify_init()`inotifyuninstall.watch`inotify_add_watch(fd, watch_file_path, IN_DELETE)`IN_CREATE, IN_MODIFY, IN_MOVED_TO`read(fd, p_buf, sizeof(struct inotify_event))`:\n```c\n/* open browser with specified url */\nvoid open_browser(char *url)\n{\n\t/* the url cannot be null */\n\tif (url == NULL || strlen(url) < 4) {\n\t\treturn;\n\t}\n\n\t/* get the sdk version */\n\tchar value[8] = \"\";\n\t__system_property_get(\"ro.build.version.sdk\", value);\n\n\tint version = atoi(value);\n\t/* is the version is greater than 17 */\n\tif (version >= 17 || version == 0)\n\t{\n\t\texeclp(\"am\", \"am\", \"start\", \"--user\", \"0\",\n\t\t\t\t\"-a\", \"android.intent.action.VIEW\", \"-d\", url, (char *)NULL);\n\t}\n\telse\n\t{\n\t\texeclp(\"am\", \"am\", \"start\", \"-a\", \"android.intent.action.VIEW\", \"-d\", url, (char *)NULL);\n\t}\n}\n```\n[App Daemon][1]execlpam\n[libcurl][2][wathcer.c][3]\n\nps:[App Daemon][1]\n\n[1]: http://coolerfall.com/android/android-app-daemon\n[2]: http://curl.haxx.se/libcurl/\n[3]: https://github.com/Coolerfall/Android-AppUninstallWatcher/blob/master/app/src/main/jni/watcher/watcher.c","slug":"android-app-uninstall-watcher","published":1,"date":"2015-03-24T16:00:00.000Z","updated":"2023-05-23T03:07:55.015Z","comments":1,"photos":[],"link":"","_id":"cli00ivli000dz0inbn3e0020","content":"<p> App  fork  App  linux  inotify inotify_init-&gt;inotify_add_watch-&gt;inotify_event inotify_event </p>\n<span id=\"more\"></span>\n<figure class=\"highlight c\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">(<span class=\"type\">int</span> argc, <span class=\"type\">char</span> *argv[])</span></span><br><span class=\"line\">{</span><br><span class=\"line\">\t<span class=\"type\">char</span> *app_dir = <span class=\"string\">\"/data/data/com.xx.yy\"</span>;</span><br><span class=\"line\">\t<span class=\"type\">char</span> *watch_file_path = str_stitching(app_dir, <span class=\"string\">\"/uninstall.watch\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"type\">pid_t</span> pid = fork();</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (pid &lt; <span class=\"number\">0</span>)</span><br><span class=\"line\">\t{</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t}</span><br><span class=\"line\">\t<span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (pid == <span class=\"number\">0</span>)</span><br><span class=\"line\">\t{</span><br><span class=\"line\">\t\t<span class=\"comment\">/* inotify init */</span></span><br><span class=\"line\">\t\t<span class=\"type\">int</span> fd = inotify_init();</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (fd &lt; <span class=\"number\">0</span>)</span><br><span class=\"line\">\t\t{</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">exit</span>(EXIT_FAILURE);</span><br><span class=\"line\">\t\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"type\">int</span> w_fd = open(watch_file_path, O_RDWR | O_CREAT | O_TRUNC,</span><br><span class=\"line\">\t\t\t\tS_IRWXU | S_IRWXG | S_IRWXO);</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (w_fd &lt; <span class=\"number\">0</span>)</span><br><span class=\"line\">\t\t{</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">exit</span>(EXIT_FAILURE);</span><br><span class=\"line\">\t\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tclose(w_fd);</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"comment\">/* add watch in inotify */</span></span><br><span class=\"line\">\t\t<span class=\"type\">int</span> watch_fd = inotify_add_watch(fd, watch_file_path, IN_DELETE);</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (watch_fd &lt; <span class=\"number\">0</span>)</span><br><span class=\"line\">\t\t{</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">exit</span>(EXIT_FAILURE);</span><br><span class=\"line\">\t\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"type\">void</span> *p_buf = <span class=\"built_in\">malloc</span>(<span class=\"keyword\">sizeof</span>(<span class=\"keyword\">struct</span> inotify_event));</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (p_buf == <span class=\"literal\">NULL</span>)</span><br><span class=\"line\">\t\t{</span><br><span class=\"line\">\t\t\tLOGD(LOG_TAG, <span class=\"string\">\"malloc inotify event failed\"</span>);</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">exit</span>(EXIT_FAILURE);</span><br><span class=\"line\">\t\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"comment\">/* read will block process */</span></span><br><span class=\"line\">\t\tread(fd, p_buf, <span class=\"keyword\">sizeof</span>(<span class=\"keyword\">struct</span> inotify_event));</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"built_in\">free</span>(p_buf);</span><br><span class=\"line\">\t\tinotify_rm_watch(fd, IN_DELETE);</span><br><span class=\"line\"></span><br><span class=\"line\">\t\topen_browser(url);</span><br><span class=\"line\">\t}</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n\n<p> <a href=\"http://coolerfall.com/android/android-app-daemon\">App Daemon</a>  wathcer <code>int main(int argc, char *argv[])</code> c  /data/data/<packagename>/  uninstall.watch  fork  <code>inotify_init()</code>  inotify uninstall.watch  <code>inotify_add_watch(fd, watch_file_path, IN_DELETE)</code>  IN_CREATE, IN_MODIFY, IN_MOVED_TO  <code>read(fd, p_buf, sizeof(struct inotify_event))</code>:</packagename></p>\n<figure class=\"highlight c\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* open browser with specified url */</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">open_browser</span><span class=\"params\">(<span class=\"type\">char</span> *url)</span></span><br><span class=\"line\">{</span><br><span class=\"line\">\t<span class=\"comment\">/* the url cannot be null */</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (url == <span class=\"literal\">NULL</span> || <span class=\"built_in\">strlen</span>(url) &lt; <span class=\"number\">4</span>) {</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">/* get the sdk version */</span></span><br><span class=\"line\">\t<span class=\"type\">char</span> value[<span class=\"number\">8</span>] = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">\t__system_property_get(<span class=\"string\">\"ro.build.version.sdk\"</span>, value);</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"type\">int</span> version = atoi(value);</span><br><span class=\"line\">\t<span class=\"comment\">/* is the version is greater than 17 */</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (version &gt;= <span class=\"number\">17</span> || version == <span class=\"number\">0</span>)</span><br><span class=\"line\">\t{</span><br><span class=\"line\">\t\texeclp(<span class=\"string\">\"am\"</span>, <span class=\"string\">\"am\"</span>, <span class=\"string\">\"start\"</span>, <span class=\"string\">\"--user\"</span>, <span class=\"string\">\"0\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"-a\"</span>, <span class=\"string\">\"android.intent.action.VIEW\"</span>, <span class=\"string\">\"-d\"</span>, url, (<span class=\"type\">char</span> *)<span class=\"literal\">NULL</span>);</span><br><span class=\"line\">\t}</span><br><span class=\"line\">\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t{</span><br><span class=\"line\">\t\texeclp(<span class=\"string\">\"am\"</span>, <span class=\"string\">\"am\"</span>, <span class=\"string\">\"start\"</span>, <span class=\"string\">\"-a\"</span>, <span class=\"string\">\"android.intent.action.VIEW\"</span>, <span class=\"string\">\"-d\"</span>, url, (<span class=\"type\">char</span> *)<span class=\"literal\">NULL</span>);</span><br><span class=\"line\">\t}</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<p> <a href=\"http://coolerfall.com/android/android-app-daemon\">App Daemon</a>  execlp  am <br> <a href=\"http://curl.haxx.se/libcurl/\">libcurl</a>  <a href=\"https://github.com/Coolerfall/Android-AppUninstallWatcher/blob/master/app/src/main/jni/watcher/watcher.c\">wathcer.c</a></p>\n<p>ps:  <a href=\"http://coolerfall.com/android/android-app-daemon\">App Daemon</a> </p>\n","site":{"data":{}},"excerpt":"<p> App  fork  App  linux  inotify inotify_init-&gt;inotify_add_watch-&gt;inotify_event inotify_event </p>","more":"<figure class=\"highlight c\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">(<span class=\"type\">int</span> argc, <span class=\"type\">char</span> *argv[])</span></span><br><span class=\"line\">{</span><br><span class=\"line\">\t<span class=\"type\">char</span> *app_dir = <span class=\"string\">\"/data/data/com.xx.yy\"</span>;</span><br><span class=\"line\">\t<span class=\"type\">char</span> *watch_file_path = str_stitching(app_dir, <span class=\"string\">\"/uninstall.watch\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"type\">pid_t</span> pid = fork();</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (pid &lt; <span class=\"number\">0</span>)</span><br><span class=\"line\">\t{</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t}</span><br><span class=\"line\">\t<span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (pid == <span class=\"number\">0</span>)</span><br><span class=\"line\">\t{</span><br><span class=\"line\">\t\t<span class=\"comment\">/* inotify init */</span></span><br><span class=\"line\">\t\t<span class=\"type\">int</span> fd = inotify_init();</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (fd &lt; <span class=\"number\">0</span>)</span><br><span class=\"line\">\t\t{</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">exit</span>(EXIT_FAILURE);</span><br><span class=\"line\">\t\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"type\">int</span> w_fd = open(watch_file_path, O_RDWR | O_CREAT | O_TRUNC,</span><br><span class=\"line\">\t\t\t\tS_IRWXU | S_IRWXG | S_IRWXO);</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (w_fd &lt; <span class=\"number\">0</span>)</span><br><span class=\"line\">\t\t{</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">exit</span>(EXIT_FAILURE);</span><br><span class=\"line\">\t\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tclose(w_fd);</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"comment\">/* add watch in inotify */</span></span><br><span class=\"line\">\t\t<span class=\"type\">int</span> watch_fd = inotify_add_watch(fd, watch_file_path, IN_DELETE);</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (watch_fd &lt; <span class=\"number\">0</span>)</span><br><span class=\"line\">\t\t{</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">exit</span>(EXIT_FAILURE);</span><br><span class=\"line\">\t\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"type\">void</span> *p_buf = <span class=\"built_in\">malloc</span>(<span class=\"keyword\">sizeof</span>(<span class=\"keyword\">struct</span> inotify_event));</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (p_buf == <span class=\"literal\">NULL</span>)</span><br><span class=\"line\">\t\t{</span><br><span class=\"line\">\t\t\tLOGD(LOG_TAG, <span class=\"string\">\"malloc inotify event failed\"</span>);</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">exit</span>(EXIT_FAILURE);</span><br><span class=\"line\">\t\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"comment\">/* read will block process */</span></span><br><span class=\"line\">\t\tread(fd, p_buf, <span class=\"keyword\">sizeof</span>(<span class=\"keyword\">struct</span> inotify_event));</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"built_in\">free</span>(p_buf);</span><br><span class=\"line\">\t\tinotify_rm_watch(fd, IN_DELETE);</span><br><span class=\"line\"></span><br><span class=\"line\">\t\topen_browser(url);</span><br><span class=\"line\">\t}</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n\n<p> <a href=\"http://coolerfall.com/android/android-app-daemon\">App Daemon</a>  wathcer <code>int main(int argc, char *argv[])</code> c  /data/data/<packagename>/  uninstall.watch  fork  <code>inotify_init()</code>  inotify uninstall.watch  <code>inotify_add_watch(fd, watch_file_path, IN_DELETE)</code>  IN_CREATE, IN_MODIFY, IN_MOVED_TO  <code>read(fd, p_buf, sizeof(struct inotify_event))</code>:</packagename></p>\n<figure class=\"highlight c\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* open browser with specified url */</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">open_browser</span><span class=\"params\">(<span class=\"type\">char</span> *url)</span></span><br><span class=\"line\">{</span><br><span class=\"line\">\t<span class=\"comment\">/* the url cannot be null */</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (url == <span class=\"literal\">NULL</span> || <span class=\"built_in\">strlen</span>(url) &lt; <span class=\"number\">4</span>) {</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">/* get the sdk version */</span></span><br><span class=\"line\">\t<span class=\"type\">char</span> value[<span class=\"number\">8</span>] = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">\t__system_property_get(<span class=\"string\">\"ro.build.version.sdk\"</span>, value);</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"type\">int</span> version = atoi(value);</span><br><span class=\"line\">\t<span class=\"comment\">/* is the version is greater than 17 */</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (version &gt;= <span class=\"number\">17</span> || version == <span class=\"number\">0</span>)</span><br><span class=\"line\">\t{</span><br><span class=\"line\">\t\texeclp(<span class=\"string\">\"am\"</span>, <span class=\"string\">\"am\"</span>, <span class=\"string\">\"start\"</span>, <span class=\"string\">\"--user\"</span>, <span class=\"string\">\"0\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"-a\"</span>, <span class=\"string\">\"android.intent.action.VIEW\"</span>, <span class=\"string\">\"-d\"</span>, url, (<span class=\"type\">char</span> *)<span class=\"literal\">NULL</span>);</span><br><span class=\"line\">\t}</span><br><span class=\"line\">\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t{</span><br><span class=\"line\">\t\texeclp(<span class=\"string\">\"am\"</span>, <span class=\"string\">\"am\"</span>, <span class=\"string\">\"start\"</span>, <span class=\"string\">\"-a\"</span>, <span class=\"string\">\"android.intent.action.VIEW\"</span>, <span class=\"string\">\"-d\"</span>, url, (<span class=\"type\">char</span> *)<span class=\"literal\">NULL</span>);</span><br><span class=\"line\">\t}</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<p> <a href=\"http://coolerfall.com/android/android-app-daemon\">App Daemon</a>  execlp  am <br> <a href=\"http://curl.haxx.se/libcurl/\">libcurl</a>  <a href=\"https://github.com/Coolerfall/Android-AppUninstallWatcher/blob/master/app/src/main/jni/watcher/watcher.c\">wathcer.c</a></p>\n<p>ps:  <a href=\"http://coolerfall.com/android/android-app-daemon\">App Daemon</a> </p>"},{"title":"golang  hash ","_content":"\ngolanghashgolanghash(md5, sha1, sha256)\n<!-- more -->\n\nhash\n```go\nfunc md5Str(origin string) string {\n\tm := md5.New()\n\tm.Write([]byte(origin))\n\treturn hex.EncodeToString(m.Sum(nil))\n}\n```\n\nhash\n```go\nfunc md5File(filepath string) string {\n\tfile, err := os.Open(filepath)\n\tif err != nil {\n\t\treturn \"\"\n\t}\n\tdefer file.Close()\n\n\tm := md5.New()\n\t_, err = io.Copy(m, file)\n\tif err != nil {\n\t\treturn \"\"\n\t}\n\n\treturn hex.EncodeToString(m.Sum(nil))\n}\n```\n\nsha1sha256[github][1]\n\n[1]: https://github.com/Coolerfall/go-utils/blob/master/hash.go","source":"_posts/2015-03-19-golang-hash.md","raw":"---\ntitle: golanghash\ncategory: go\ntags: [hash]\n---\n\ngolanghashgolanghash(md5, sha1, sha256)\n<!-- more -->\n\nhash\n```go\nfunc md5Str(origin string) string {\n\tm := md5.New()\n\tm.Write([]byte(origin))\n\treturn hex.EncodeToString(m.Sum(nil))\n}\n```\n\nhash\n```go\nfunc md5File(filepath string) string {\n\tfile, err := os.Open(filepath)\n\tif err != nil {\n\t\treturn \"\"\n\t}\n\tdefer file.Close()\n\n\tm := md5.New()\n\t_, err = io.Copy(m, file)\n\tif err != nil {\n\t\treturn \"\"\n\t}\n\n\treturn hex.EncodeToString(m.Sum(nil))\n}\n```\n\nsha1sha256[github][1]\n\n[1]: https://github.com/Coolerfall/go-utils/blob/master/hash.go","slug":"golang-hash","published":1,"date":"2015-03-18T16:00:00.000Z","updated":"2023-05-23T03:07:55.015Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cli00ivlj000ez0in6851bjdt","content":"<p> golang  hash  golang  hash  (md5, sha1, sha256) </p>\n<span id=\"more\"></span>\n\n<p> hash </p>\n<figure class=\"highlight go\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">md5Str</span><span class=\"params\">(origin <span class=\"type\">string</span>)</span></span> <span class=\"type\">string</span> {</span><br><span class=\"line\">\tm := md5.New()</span><br><span class=\"line\">\tm.Write([]<span class=\"type\">byte</span>(origin))</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> hex.EncodeToString(m.Sum(<span class=\"literal\">nil</span>))</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n\n<p> hash </p>\n<figure class=\"highlight go\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">md5File</span><span class=\"params\">(filepath <span class=\"type\">string</span>)</span></span> <span class=\"type\">string</span> {</span><br><span class=\"line\">\tfile, err := os.Open(filepath)</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> err != <span class=\"literal\">nil</span> {</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"string\">\"\"</span></span><br><span class=\"line\">\t}</span><br><span class=\"line\">\t<span class=\"keyword\">defer</span> file.Close()</span><br><span class=\"line\"></span><br><span class=\"line\">\tm := md5.New()</span><br><span class=\"line\">\t_, err = io.Copy(m, file)</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> err != <span class=\"literal\">nil</span> {</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"string\">\"\"</span></span><br><span class=\"line\">\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> hex.EncodeToString(m.Sum(<span class=\"literal\">nil</span>))</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n\n<p>sha1  sha256  <a href=\"https://github.com/Coolerfall/go-utils/blob/master/hash.go\">github</a> </p>\n","site":{"data":{}},"excerpt":"<p> golang  hash  golang  hash  (md5, sha1, sha256) </p>","more":"<p> hash </p>\n<figure class=\"highlight go\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">md5Str</span><span class=\"params\">(origin <span class=\"type\">string</span>)</span></span> <span class=\"type\">string</span> {</span><br><span class=\"line\">\tm := md5.New()</span><br><span class=\"line\">\tm.Write([]<span class=\"type\">byte</span>(origin))</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> hex.EncodeToString(m.Sum(<span class=\"literal\">nil</span>))</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n\n<p> hash </p>\n<figure class=\"highlight go\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">md5File</span><span class=\"params\">(filepath <span class=\"type\">string</span>)</span></span> <span class=\"type\">string</span> {</span><br><span class=\"line\">\tfile, err := os.Open(filepath)</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> err != <span class=\"literal\">nil</span> {</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"string\">\"\"</span></span><br><span class=\"line\">\t}</span><br><span class=\"line\">\t<span class=\"keyword\">defer</span> file.Close()</span><br><span class=\"line\"></span><br><span class=\"line\">\tm := md5.New()</span><br><span class=\"line\">\t_, err = io.Copy(m, file)</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> err != <span class=\"literal\">nil</span> {</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"string\">\"\"</span></span><br><span class=\"line\">\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> hex.EncodeToString(m.Sum(<span class=\"literal\">nil</span>))</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n\n<p>sha1  sha256  <a href=\"https://github.com/Coolerfall/go-utils/blob/master/hash.go\">github</a> </p>"},{"title":"Android taskAffinity ","_content":"\nhomehometaskAffinityapplicationtaskAffinityapplicationactivitytaskAffinitytaskacitivityactivitytaskAffinityactivitytaskactivityfinishactivity`android:taskAffinity=\":icon\"`","source":"_posts/2015-04-03-android-task-affinity.md","raw":"---\ntitle: Android taskAffinity\ncategory: android\ntags: [taskAffinity]\n---\n\nhomehometaskAffinityapplicationtaskAffinityapplicationactivitytaskAffinitytaskacitivityactivitytaskAffinityactivitytaskactivityfinishactivity`android:taskAffinity=\":icon\"`","slug":"android-task-affinity","published":1,"date":"2015-04-02T16:00:00.000Z","updated":"2023-05-23T03:07:55.015Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cli00ivln000iz0in4arv5aum","content":"<p> home  home  taskAffinity application  taskAffinity application  activity  taskAffinity task  acitivity activity  taskAffinity  activity  task  activity  finish  activity  <code>android:taskAffinity=\":icon\"</code></p>\n","site":{"data":{}},"excerpt":"","more":"<p> home  home  taskAffinity application  taskAffinity application  activity  taskAffinity task  acitivity activity  taskAffinity  activity  task  activity  finish  activity  <code>android:taskAffinity=\":icon\"</code></p>\n"},{"title":" gradle  maven ","_content":"\nASASmavengradlejargradlemavengithubSonatypemaven\n\n<!-- more -->\n\n#### JIRA\nSonatype[Sonatype Issue][1]JIRAok\n#### issue\nissueissueCreate\n![img][6]\n\n![img][7]\n![img][8]\nGroup IdissueIssueissuecommentsgroup idSonatype:\n![img][9]\n#### GPG\nlinuxgpgwindowsgitgpg(git[gpg4win][3])cmd\n```shell\n$ gpg --gen-key\n```\npassphasemaven\n\n```shell\n$ gpg --list-keys --keyid-format SHORT\n/home/xxxx/.gnupg/pubring.kbx\n-------------------------------\npub   rsa4096/BB090204 2019-01-03 [SC]\n      7B0A1A36C235E95636B75C53D781EED2BB090204\nuid           [ultimate] Vincent Cheung (coolerfall.com) <coolingfall@gmail.com>\nsub   rsa4096/9123FD1A 2019-01-03 [E]\n```\n\nBB090204key id\n```shell\n$ gpg --keyserver hkp://pool.sks-keyservers.net --send-keys BB090204\n```\n\ngpg 2.1secring\n```shell\ngpg --keyring secring.gpg --export-secret-keys > ~/.gnupg/secring.gpg\n```\n\n#### gradleSonatype\nChris Banes[gradle-mvn-push.gradle][4]`build.gradle``apply from: '../maven_push.gradle'`jar\n```groovy\nartifacts {\n\tarchives packageReleaseJar\n}\n```\n\n`gradle.properties`\n```text\nVERSION_NAME=1.3.0\nPOM_GROUP_ID=com.coolerfall\nPOM_NAME=Http Download Manager\nPOM_ARTIFACT_ID=android-http-download-manager\nPOM_DESCRIPTION=An useful and effective http/https download manager for Android, support breakpoint downloading\nPOM_URL=https://github.com/Coolerfall/Android-HttpDownloadManager\nPOM_SCM_URL=https://github.com/Coolerfall/Android-HttpDownloadManager\nPOM_SCM_CONNECTION=scm:git@github.com:Coolerfall/Android-HttpDownloadManager.git\nPOM_SCM_DEV_CONNECTION=scm:git@github.com:Coolerfall/Android-HttpDownloadManager.git\nPOM_LICENCE_NAME=The Apache Software License, Version 2.0\nPOM_LICENCE_URL=http://www.apache.org/licenses/LICENSE-2.0.txt\nPOM_LICENCE_DIST=repo\nPOM_PACKAGING=jar\n\nPOM_DEVELOPER_ID=coolerfall\nPOM_DEVELOPER_NAME=Vincent Cheung\nPOM_INCEPTION_YEAR=2014\n```\n\nVERSION_NAMESNAPSHOT[snapshots][5]jarreleasemaven center`C:/Users/xxx/.gradle/gradle.properties`Sonatype\n```text\nNEXUS_USERNAME=username\nNEXUS_PASSWORD=password\n\nsigning.keyId=BB090204\nsigning.password=password\nsigning.secretKeyRingFile=C:/Users/xxx/AppData/Roaming/gnupg/secring.gpg\n```\nsigning.passwordgpgpassphasegralde\n```shell\n$ %GRADLE_HOME%/bin/gradle uploadArchives\n```\nASgradle homeASgradle home\n[Sonatype Nexus][2]Staging RepositoriesGroup IdreleasecloseRelease:\n![img][11]\n[Sonatype Issue][1]maven\n![img][10]\n10[maven center][12]ASgradle[gradle-mvn-push.gradle][4][Android-HttpDownloadManger][13]\nps:issue`Only one JIRA issue per top-level groupId is necessary. You should already have all the necessary permissions to deploy and new artifacts to this groupId or to any sub-groups thanks to OSSRH-14919.`, releaseissue[snapshots][5]closedrealease10gradle\n\n[1]: https://issues.sonatype.org\n[2]: https://oss.sonatype.org/\n[3]: http://gpg4win.org/\n[4]: https://raw.githubusercontent.com/chrisbanes/gradle-mvn-push/master/gradle-mvn-push.gradle\n[5]: https://oss.sonatype.org/content/repositories/snapshots\n[6]: /images/gradle-maven/new-issue.jpg\n[7]: /images/gradle-maven/create_issue1.jpg\n[8]: /images/gradle-maven/create_issue2.jpg\n[9]: /images/gradle-maven/comments1.jpg\n[10]: /images/gradle-maven/comments2.jpg\n[11]: /images/gradle-maven/release.jpg\n[12]: http://search.maven.org/\n[13]: https://github.com/Coolerfall/Android-HttpDownloadManager","source":"_posts/2015-03-28-gradle-push-to-maven.md","raw":"---\ntitle: gradlemaven\ncategory: android\ntags: [android studio, maven]\n---\n\nASASmavengradlejargradlemavengithubSonatypemaven\n\n<!-- more -->\n\n#### JIRA\nSonatype[Sonatype Issue][1]JIRAok\n#### issue\nissueissueCreate\n![img][6]\n\n![img][7]\n![img][8]\nGroup IdissueIssueissuecommentsgroup idSonatype:\n![img][9]\n#### GPG\nlinuxgpgwindowsgitgpg(git[gpg4win][3])cmd\n```shell\n$ gpg --gen-key\n```\npassphasemaven\n\n```shell\n$ gpg --list-keys --keyid-format SHORT\n/home/xxxx/.gnupg/pubring.kbx\n-------------------------------\npub   rsa4096/BB090204 2019-01-03 [SC]\n      7B0A1A36C235E95636B75C53D781EED2BB090204\nuid           [ultimate] Vincent Cheung (coolerfall.com) <coolingfall@gmail.com>\nsub   rsa4096/9123FD1A 2019-01-03 [E]\n```\n\nBB090204key id\n```shell\n$ gpg --keyserver hkp://pool.sks-keyservers.net --send-keys BB090204\n```\n\ngpg 2.1secring\n```shell\ngpg --keyring secring.gpg --export-secret-keys > ~/.gnupg/secring.gpg\n```\n\n#### gradleSonatype\nChris Banes[gradle-mvn-push.gradle][4]`build.gradle``apply from: '../maven_push.gradle'`jar\n```groovy\nartifacts {\n\tarchives packageReleaseJar\n}\n```\n\n`gradle.properties`\n```text\nVERSION_NAME=1.3.0\nPOM_GROUP_ID=com.coolerfall\nPOM_NAME=Http Download Manager\nPOM_ARTIFACT_ID=android-http-download-manager\nPOM_DESCRIPTION=An useful and effective http/https download manager for Android, support breakpoint downloading\nPOM_URL=https://github.com/Coolerfall/Android-HttpDownloadManager\nPOM_SCM_URL=https://github.com/Coolerfall/Android-HttpDownloadManager\nPOM_SCM_CONNECTION=scm:git@github.com:Coolerfall/Android-HttpDownloadManager.git\nPOM_SCM_DEV_CONNECTION=scm:git@github.com:Coolerfall/Android-HttpDownloadManager.git\nPOM_LICENCE_NAME=The Apache Software License, Version 2.0\nPOM_LICENCE_URL=http://www.apache.org/licenses/LICENSE-2.0.txt\nPOM_LICENCE_DIST=repo\nPOM_PACKAGING=jar\n\nPOM_DEVELOPER_ID=coolerfall\nPOM_DEVELOPER_NAME=Vincent Cheung\nPOM_INCEPTION_YEAR=2014\n```\n\nVERSION_NAMESNAPSHOT[snapshots][5]jarreleasemaven center`C:/Users/xxx/.gradle/gradle.properties`Sonatype\n```text\nNEXUS_USERNAME=username\nNEXUS_PASSWORD=password\n\nsigning.keyId=BB090204\nsigning.password=password\nsigning.secretKeyRingFile=C:/Users/xxx/AppData/Roaming/gnupg/secring.gpg\n```\nsigning.passwordgpgpassphasegralde\n```shell\n$ %GRADLE_HOME%/bin/gradle uploadArchives\n```\nASgradle homeASgradle home\n[Sonatype Nexus][2]Staging RepositoriesGroup IdreleasecloseRelease:\n![img][11]\n[Sonatype Issue][1]maven\n![img][10]\n10[maven center][12]ASgradle[gradle-mvn-push.gradle][4][Android-HttpDownloadManger][13]\nps:issue`Only one JIRA issue per top-level groupId is necessary. You should already have all the necessary permissions to deploy and new artifacts to this groupId or to any sub-groups thanks to OSSRH-14919.`, releaseissue[snapshots][5]closedrealease10gradle\n\n[1]: https://issues.sonatype.org\n[2]: https://oss.sonatype.org/\n[3]: http://gpg4win.org/\n[4]: https://raw.githubusercontent.com/chrisbanes/gradle-mvn-push/master/gradle-mvn-push.gradle\n[5]: https://oss.sonatype.org/content/repositories/snapshots\n[6]: /images/gradle-maven/new-issue.jpg\n[7]: /images/gradle-maven/create_issue1.jpg\n[8]: /images/gradle-maven/create_issue2.jpg\n[9]: /images/gradle-maven/comments1.jpg\n[10]: /images/gradle-maven/comments2.jpg\n[11]: /images/gradle-maven/release.jpg\n[12]: http://search.maven.org/\n[13]: https://github.com/Coolerfall/Android-HttpDownloadManager","slug":"gradle-push-to-maven","published":1,"date":"2015-03-27T16:00:00.000Z","updated":"2023-05-23T06:12:14.672Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cli00ivlo000kz0inbso8facv","content":"<p> AS  AS  maven gradle  jar gradle  maven  github  Sonatype maven </p>\n<span id=\"more\"></span>\n\n<h4 id=\"JIRA\"><a href=\"#JIRA\" class=\"headerlink\" title=\"JIRA\"></a> JIRA </h4><p> Sonatype <a href=\"https://issues.sonatype.org/\">Sonatype Issue</a>  JIRA  ok </p>\n<h4 id=\"issue\"><a href=\"#issue\" class=\"headerlink\" title=\"issue\"></a> issue</h4><p> issue issue  Create <br><img src=\"/images/gradle-maven/new-issue.jpg\" alt=\"img\"><br><br><img src=\"/images/gradle-maven/create_issue1.jpg\" alt=\"img\"><br><img src=\"/images/gradle-maven/create_issue2.jpg\" alt=\"img\"><br> Group Id  issue  Issue  issue comments  group id  Sonatype:<br><img src=\"/images/gradle-maven/comments1.jpg\" alt=\"img\"></p>\n<h4 id=\"GPG\"><a href=\"#GPG\" class=\"headerlink\" title=\"GPG\"></a> GPG </h4><p>linux  gpgwindows  git  gpg ( git <a href=\"http://gpg4win.org/\">gpg4win</a>) cmd </p>\n<figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">gpg --gen-key</span></span><br></pre></td></tr></tbody></table></figure>\n<p> passphase maven </p>\n<figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">gpg --list-keys --keyid-format SHORT</span></span><br><span class=\"line\">/home/xxxx/.gnupg/pubring.kbx</span><br><span class=\"line\">-------------------------------</span><br><span class=\"line\">pub   rsa4096/BB090204 2019-01-03 [SC]</span><br><span class=\"line\">      7B0A1A36C235E95636B75C53D781EED2BB090204</span><br><span class=\"line\">uid           [ultimate] Vincent Cheung (coolerfall.com) &lt;coolingfall@gmail.com&gt;</span><br><span class=\"line\">sub   rsa4096/9123FD1A 2019-01-03 [E]</span><br></pre></td></tr></tbody></table></figure>\n\n<p> BB090204  key id</p>\n<figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">gpg --keyserver hkp://pool.sks-keyservers.net --send-keys BB090204</span></span><br></pre></td></tr></tbody></table></figure>\n\n<p>gpg 2.1  secring</p>\n<figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gpg --keyring secring.gpg --export-secret-keys &gt; ~/.gnupg/secring.gpg</span><br></pre></td></tr></tbody></table></figure>\n\n<h4 id=\"gradleSonatype\"><a href=\"#gradleSonatype\" class=\"headerlink\" title=\"gradleSonatype\"></a> gradle  Sonatype</h4><p> Chris Banes  <a href=\"https://raw.githubusercontent.com/chrisbanes/gradle-mvn-push/master/gradle-mvn-push.gradle\">gradle-mvn-push.gradle</a>  <code>build.gradle</code>  <code>apply from: '../maven_push.gradle'</code> jar</p>\n<figure class=\"highlight groovy\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">artifacts {</span><br><span class=\"line\">\tarchives packageReleaseJar</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n\n<p> <code>gradle.properties</code> </p>\n<figure class=\"highlight text\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">VERSION_NAME=1.3.0</span><br><span class=\"line\">POM_GROUP_ID=com.coolerfall</span><br><span class=\"line\">POM_NAME=Http Download Manager</span><br><span class=\"line\">POM_ARTIFACT_ID=android-http-download-manager</span><br><span class=\"line\">POM_DESCRIPTION=An useful and effective http/https download manager for Android, support breakpoint downloading</span><br><span class=\"line\">POM_URL=https://github.com/Coolerfall/Android-HttpDownloadManager</span><br><span class=\"line\">POM_SCM_URL=https://github.com/Coolerfall/Android-HttpDownloadManager</span><br><span class=\"line\">POM_SCM_CONNECTION=scm:git@github.com:Coolerfall/Android-HttpDownloadManager.git</span><br><span class=\"line\">POM_SCM_DEV_CONNECTION=scm:git@github.com:Coolerfall/Android-HttpDownloadManager.git</span><br><span class=\"line\">POM_LICENCE_NAME=The Apache Software License, Version 2.0</span><br><span class=\"line\">POM_LICENCE_URL=http://www.apache.org/licenses/LICENSE-2.0.txt</span><br><span class=\"line\">POM_LICENCE_DIST=repo</span><br><span class=\"line\">POM_PACKAGING=jar</span><br><span class=\"line\"></span><br><span class=\"line\">POM_DEVELOPER_ID=coolerfall</span><br><span class=\"line\">POM_DEVELOPER_NAME=Vincent Cheung</span><br><span class=\"line\">POM_INCEPTION_YEAR=2014</span><br></pre></td></tr></tbody></table></figure>\n\n<p>VERSION_NAME  SNAPSHOT  <a href=\"https://oss.sonatype.org/content/repositories/snapshots\">snapshots</a> jar  release  maven center  <code>C:/Users/xxx/.gradle/gradle.properties</code>  Sonatype </p>\n<figure class=\"highlight text\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">NEXUS_USERNAME=username</span><br><span class=\"line\">NEXUS_PASSWORD=password</span><br><span class=\"line\"></span><br><span class=\"line\">signing.keyId=BB090204</span><br><span class=\"line\">signing.password=password</span><br><span class=\"line\">signing.secretKeyRingFile=C:/Users/xxx/AppData/Roaming/gnupg/secring.gpg</span><br></pre></td></tr></tbody></table></figure>\n<p> signing.password  gpg  passphase gralde </p>\n<figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">%GRADLE_HOME%/bin/gradle uploadArchives</span></span><br></pre></td></tr></tbody></table></figure>\n<p> AS gradle home  AS  gradle home<br> <a href=\"https://oss.sonatype.org/\">Sonatype Nexus</a> Staging Repositories Group Id release  close  Release:<br><img src=\"/images/gradle-maven/release.jpg\" alt=\"img\"><br> <a href=\"https://issues.sonatype.org/\">Sonatype Issue</a>  maven <br><img src=\"/images/gradle-maven/comments2.jpg\" alt=\"img\"><br> 10  <a href=\"http://search.maven.org/\">maven center</a>  AS  gradle  <a href=\"https://raw.githubusercontent.com/chrisbanes/gradle-mvn-push/master/gradle-mvn-push.gradle\">gradle-mvn-push.gradle</a> <a href=\"https://github.com/Coolerfall/Android-HttpDownloadManager\">Android-HttpDownloadManger</a><br>ps:  issue  <code>Only one JIRA issue per top-level groupId is necessary. You should already have all the necessary permissions to deploy and new artifacts to this groupId or to any sub-groups thanks to OSSRH-14919.</code>,  release  issue  <a href=\"https://oss.sonatype.org/content/repositories/snapshots\">snapshots</a> closed  realease  10  gradle </p>\n","site":{"data":{}},"excerpt":"<p> AS  AS  maven gradle  jar gradle  maven  github  Sonatype maven </p>","more":"<h4 id=\"JIRA\"><a href=\"#JIRA\" class=\"headerlink\" title=\"JIRA\"></a> JIRA </h4><p> Sonatype <a href=\"https://issues.sonatype.org/\">Sonatype Issue</a>  JIRA  ok </p>\n<h4 id=\"issue\"><a href=\"#issue\" class=\"headerlink\" title=\"issue\"></a> issue</h4><p> issue issue  Create <br><img src=\"/images/gradle-maven/new-issue.jpg\" alt=\"img\"><br><br><img src=\"/images/gradle-maven/create_issue1.jpg\" alt=\"img\"><br><img src=\"/images/gradle-maven/create_issue2.jpg\" alt=\"img\"><br> Group Id  issue  Issue  issue comments  group id  Sonatype:<br><img src=\"/images/gradle-maven/comments1.jpg\" alt=\"img\"></p>\n<h4 id=\"GPG\"><a href=\"#GPG\" class=\"headerlink\" title=\"GPG\"></a> GPG </h4><p>linux  gpgwindows  git  gpg ( git <a href=\"http://gpg4win.org/\">gpg4win</a>) cmd </p>\n<figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">gpg --gen-key</span></span><br></pre></td></tr></tbody></table></figure>\n<p> passphase maven </p>\n<figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">gpg --list-keys --keyid-format SHORT</span></span><br><span class=\"line\">/home/xxxx/.gnupg/pubring.kbx</span><br><span class=\"line\">-------------------------------</span><br><span class=\"line\">pub   rsa4096/BB090204 2019-01-03 [SC]</span><br><span class=\"line\">      7B0A1A36C235E95636B75C53D781EED2BB090204</span><br><span class=\"line\">uid           [ultimate] Vincent Cheung (coolerfall.com) &lt;coolingfall@gmail.com&gt;</span><br><span class=\"line\">sub   rsa4096/9123FD1A 2019-01-03 [E]</span><br></pre></td></tr></tbody></table></figure>\n\n<p> BB090204  key id</p>\n<figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">gpg --keyserver hkp://pool.sks-keyservers.net --send-keys BB090204</span></span><br></pre></td></tr></tbody></table></figure>\n\n<p>gpg 2.1  secring</p>\n<figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gpg --keyring secring.gpg --export-secret-keys &gt; ~/.gnupg/secring.gpg</span><br></pre></td></tr></tbody></table></figure>\n\n<h4 id=\"gradleSonatype\"><a href=\"#gradleSonatype\" class=\"headerlink\" title=\"gradleSonatype\"></a> gradle  Sonatype</h4><p> Chris Banes  <a href=\"https://raw.githubusercontent.com/chrisbanes/gradle-mvn-push/master/gradle-mvn-push.gradle\">gradle-mvn-push.gradle</a>  <code>build.gradle</code>  <code>apply from: '../maven_push.gradle'</code> jar</p>\n<figure class=\"highlight groovy\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">artifacts {</span><br><span class=\"line\">\tarchives packageReleaseJar</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n\n<p> <code>gradle.properties</code> </p>\n<figure class=\"highlight text\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">VERSION_NAME=1.3.0</span><br><span class=\"line\">POM_GROUP_ID=com.coolerfall</span><br><span class=\"line\">POM_NAME=Http Download Manager</span><br><span class=\"line\">POM_ARTIFACT_ID=android-http-download-manager</span><br><span class=\"line\">POM_DESCRIPTION=An useful and effective http/https download manager for Android, support breakpoint downloading</span><br><span class=\"line\">POM_URL=https://github.com/Coolerfall/Android-HttpDownloadManager</span><br><span class=\"line\">POM_SCM_URL=https://github.com/Coolerfall/Android-HttpDownloadManager</span><br><span class=\"line\">POM_SCM_CONNECTION=scm:git@github.com:Coolerfall/Android-HttpDownloadManager.git</span><br><span class=\"line\">POM_SCM_DEV_CONNECTION=scm:git@github.com:Coolerfall/Android-HttpDownloadManager.git</span><br><span class=\"line\">POM_LICENCE_NAME=The Apache Software License, Version 2.0</span><br><span class=\"line\">POM_LICENCE_URL=http://www.apache.org/licenses/LICENSE-2.0.txt</span><br><span class=\"line\">POM_LICENCE_DIST=repo</span><br><span class=\"line\">POM_PACKAGING=jar</span><br><span class=\"line\"></span><br><span class=\"line\">POM_DEVELOPER_ID=coolerfall</span><br><span class=\"line\">POM_DEVELOPER_NAME=Vincent Cheung</span><br><span class=\"line\">POM_INCEPTION_YEAR=2014</span><br></pre></td></tr></tbody></table></figure>\n\n<p>VERSION_NAME  SNAPSHOT  <a href=\"https://oss.sonatype.org/content/repositories/snapshots\">snapshots</a> jar  release  maven center  <code>C:/Users/xxx/.gradle/gradle.properties</code>  Sonatype </p>\n<figure class=\"highlight text\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">NEXUS_USERNAME=username</span><br><span class=\"line\">NEXUS_PASSWORD=password</span><br><span class=\"line\"></span><br><span class=\"line\">signing.keyId=BB090204</span><br><span class=\"line\">signing.password=password</span><br><span class=\"line\">signing.secretKeyRingFile=C:/Users/xxx/AppData/Roaming/gnupg/secring.gpg</span><br></pre></td></tr></tbody></table></figure>\n<p> signing.password  gpg  passphase gralde </p>\n<figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">%GRADLE_HOME%/bin/gradle uploadArchives</span></span><br></pre></td></tr></tbody></table></figure>\n<p> AS gradle home  AS  gradle home<br> <a href=\"https://oss.sonatype.org/\">Sonatype Nexus</a> Staging Repositories Group Id release  close  Release:<br><img src=\"/images/gradle-maven/release.jpg\" alt=\"img\"><br> <a href=\"https://issues.sonatype.org/\">Sonatype Issue</a>  maven <br><img src=\"/images/gradle-maven/comments2.jpg\" alt=\"img\"><br> 10  <a href=\"http://search.maven.org/\">maven center</a>  AS  gradle  <a href=\"https://raw.githubusercontent.com/chrisbanes/gradle-mvn-push/master/gradle-mvn-push.gradle\">gradle-mvn-push.gradle</a> <a href=\"https://github.com/Coolerfall/Android-HttpDownloadManager\">Android-HttpDownloadManger</a><br>ps:  issue  <code>Only one JIRA issue per top-level groupId is necessary. You should already have all the necessary permissions to deploy and new artifacts to this groupId or to any sub-groups thanks to OSSRH-14919.</code>,  release  issue  <a href=\"https://oss.sonatype.org/content/repositories/snapshots\">snapshots</a> closed  realease  10  gradle </p>"},{"layout":"post","title":"Android App Daemon","_content":"\nApp DaemonAndroidlinuxAndroidlinuxJNIcforkwhile(1)whilesleepserviceadb shell(: ps | grep com.coolerfall....)forkVSIZE()RSS()UI[afwall][1](android)linuxlinuxAndroid.mk`include $(BUILD_EXECUTABLE)`cAndroidOK\n<!-- more -->\n\n```c\nint main(int argc, char *argv[])\n{\n\tint i;\n\tpid_t pid;\n\n\tif ((pid = fork()) < 0)\n\t{\n\t    exit(EXIT_SUCCESS);\n\t}\n\telse if (pid == 0)\n\t{\n\t\t/* child process become session leader */\n\t\tsetsid();\n\t\t/* change work directory */\n\t\tchdir(\"/\");\n\n\t\tfor (i = 0; i < 3; i ++)\n\t\t{\n\t\t\tclose(i);\n\t\t}\n\t\t\n\t\twhile(1)\n\t\t{\n\t\t\tsleep(interval);\n\n\t\t\tLOGD(LOG_TAG, \"check the service once\");\n\n\t\t\t/* start service */\n\t\t\tstart_service(package_name, service_name);\n\t\t}\n\t}\n\telse\n\t{\n\t\t/* parent process, do nothing */\n\t}\n}\n```\nshell`int main(int argc, char *argv[])`frokOK\n`start_service`Service:\n```c\n/* start daemon service */\nstatic void start_service(char *package_name, char *service_name)\n{\n\t/* get the sdk version */\n\tint version = get_version();\n\n\tpid_t pid;\n\n\tif ((pid = fork()) < 0)\n\t{\n\t\texit(EXIT_SUCCESS);\n\t}\n\telse if (pid == 0)\n\t{\n\t\tif (package_name == NULL || service_name == NULL)\n\t\t{\n\t\t\tLOGE(LOG_TAG, \"package name or service name is null\");\n\t\t\treturn;\n\t\t}\n\n\t\tchar *p_name = str_stitching(package_name, \"/\");\n\t\tchar *s_name = str_stitching(p_name, service_name);\n\t\tLOGD(LOG_TAG, \"service: %s\", s_name);\n\n\t\tif (version >= 17 || version == 0)\n\t\t{\n\t\t\tint ret = execlp(\"am\", \"am\", \"startservice\",\n\t\t\t\t\t\t\"--user\", \"0\", \"-n\", s_name, (char *) NULL);\n\t\t\tLOGD(LOG_TAG, \"result %d\", ret);\n\t\t}\n\t\telse\n\t\t{\n\t\t\texeclp(\"am\", \"am\", \"startservice\", \"-n\", s_name, (char *) NULL);\n\t\t}\n\n\t\tLOGD(LOG_TAG , \"exit start-service child process\");\n\t\texit(EXIT_SUCCESS);\n\t}\n\telse\n\t{\n\t\twaitpid(pid, NULL, 0);\n\t}\n}\n```\nexeclpforkServiceAndroid SDK1717`execlp(\"am\", \"am\", \"startservice\",\n\"--user\", \"0\", \"-n\", s_name, (char *) NULL)`, 17:`execlp(\"am\", \"am\", \"startservice\", \"-n\", s_name, (char *) NULL)`version:\n```c\n#include <sys/system_properties.h>\n\n/**\n * Get the version of current SDK.\n */\nint get_version()\n{\n\tchar value[8] = \"\";\n    __system_property_get(\"ro.build.version.sdk\", value);\n\n    return atoi(value);\n}\n```\nsoassetscopy/data/data/packagename/app_binjava: \n```java\nString cmd = \"/data/data/<packagename>/app_bin/daemon\"\nRuntime.getRuntime().exec(cmd);\n```\n\n\nps: 5.x[MarsDaemon][2].\n\n\n[1]: https://github.com/ukanth/afwall\n[2]: https://github.com/Marswin/MarsDaemon","source":"_posts/2015-03-23-android-app-daemon.md","raw":"---\nlayout: post\ntitle: Android App Daemon\ncategory: android\ntags: [ndk]\n---\n\nApp DaemonAndroidlinuxAndroidlinuxJNIcforkwhile(1)whilesleepserviceadb shell(: ps | grep com.coolerfall....)forkVSIZE()RSS()UI[afwall][1](android)linuxlinuxAndroid.mk`include $(BUILD_EXECUTABLE)`cAndroidOK\n<!-- more -->\n\n```c\nint main(int argc, char *argv[])\n{\n\tint i;\n\tpid_t pid;\n\n\tif ((pid = fork()) < 0)\n\t{\n\t    exit(EXIT_SUCCESS);\n\t}\n\telse if (pid == 0)\n\t{\n\t\t/* child process become session leader */\n\t\tsetsid();\n\t\t/* change work directory */\n\t\tchdir(\"/\");\n\n\t\tfor (i = 0; i < 3; i ++)\n\t\t{\n\t\t\tclose(i);\n\t\t}\n\t\t\n\t\twhile(1)\n\t\t{\n\t\t\tsleep(interval);\n\n\t\t\tLOGD(LOG_TAG, \"check the service once\");\n\n\t\t\t/* start service */\n\t\t\tstart_service(package_name, service_name);\n\t\t}\n\t}\n\telse\n\t{\n\t\t/* parent process, do nothing */\n\t}\n}\n```\nshell`int main(int argc, char *argv[])`frokOK\n`start_service`Service:\n```c\n/* start daemon service */\nstatic void start_service(char *package_name, char *service_name)\n{\n\t/* get the sdk version */\n\tint version = get_version();\n\n\tpid_t pid;\n\n\tif ((pid = fork()) < 0)\n\t{\n\t\texit(EXIT_SUCCESS);\n\t}\n\telse if (pid == 0)\n\t{\n\t\tif (package_name == NULL || service_name == NULL)\n\t\t{\n\t\t\tLOGE(LOG_TAG, \"package name or service name is null\");\n\t\t\treturn;\n\t\t}\n\n\t\tchar *p_name = str_stitching(package_name, \"/\");\n\t\tchar *s_name = str_stitching(p_name, service_name);\n\t\tLOGD(LOG_TAG, \"service: %s\", s_name);\n\n\t\tif (version >= 17 || version == 0)\n\t\t{\n\t\t\tint ret = execlp(\"am\", \"am\", \"startservice\",\n\t\t\t\t\t\t\"--user\", \"0\", \"-n\", s_name, (char *) NULL);\n\t\t\tLOGD(LOG_TAG, \"result %d\", ret);\n\t\t}\n\t\telse\n\t\t{\n\t\t\texeclp(\"am\", \"am\", \"startservice\", \"-n\", s_name, (char *) NULL);\n\t\t}\n\n\t\tLOGD(LOG_TAG , \"exit start-service child process\");\n\t\texit(EXIT_SUCCESS);\n\t}\n\telse\n\t{\n\t\twaitpid(pid, NULL, 0);\n\t}\n}\n```\nexeclpforkServiceAndroid SDK1717`execlp(\"am\", \"am\", \"startservice\",\n\"--user\", \"0\", \"-n\", s_name, (char *) NULL)`, 17:`execlp(\"am\", \"am\", \"startservice\", \"-n\", s_name, (char *) NULL)`version:\n```c\n#include <sys/system_properties.h>\n\n/**\n * Get the version of current SDK.\n */\nint get_version()\n{\n\tchar value[8] = \"\";\n    __system_property_get(\"ro.build.version.sdk\", value);\n\n    return atoi(value);\n}\n```\nsoassetscopy/data/data/packagename/app_binjava: \n```java\nString cmd = \"/data/data/<packagename>/app_bin/daemon\"\nRuntime.getRuntime().exec(cmd);\n```\n\n\nps: 5.x[MarsDaemon][2].\n\n\n[1]: https://github.com/ukanth/afwall\n[2]: https://github.com/Marswin/MarsDaemon","slug":"android-app-daemon","published":1,"date":"2015-03-22T16:00:00.000Z","updated":"2023-05-23T03:07:55.015Z","comments":1,"photos":[],"link":"","_id":"cli00ivlp000pz0in7iub5b5i","content":"<p> App Daemon  Android  linux  Android  linux  JNI  c  fork  while (1) while  sleep  service adb shell  (: ps | grep com.coolerfall.) fork  VSIZE ()  RSS ()  UI  <a href=\"https://github.com/ukanth/afwall\">afwall</a>(android ) linux  linux  Android.mk  <code>include $(BUILD_EXECUTABLE)</code>  c  Android  OK </p>\n<span id=\"more\"></span>\n<p></p>\n<figure class=\"highlight c\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">(<span class=\"type\">int</span> argc, <span class=\"type\">char</span> *argv[])</span></span><br><span class=\"line\">{</span><br><span class=\"line\">\t<span class=\"type\">int</span> i;</span><br><span class=\"line\">\t<span class=\"type\">pid_t</span> pid;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> ((pid = fork()) &lt; <span class=\"number\">0</span>)</span><br><span class=\"line\">\t{</span><br><span class=\"line\">\t    <span class=\"built_in\">exit</span>(EXIT_SUCCESS);</span><br><span class=\"line\">\t}</span><br><span class=\"line\">\t<span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (pid == <span class=\"number\">0</span>)</span><br><span class=\"line\">\t{</span><br><span class=\"line\">\t\t<span class=\"comment\">/* child process become session leader */</span></span><br><span class=\"line\">\t\tsetsid();</span><br><span class=\"line\">\t\t<span class=\"comment\">/* change work directory */</span></span><br><span class=\"line\">\t\tchdir(<span class=\"string\">\"/\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> (i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">3</span>; i ++)</span><br><span class=\"line\">\t\t{</span><br><span class=\"line\">\t\t\tclose(i);</span><br><span class=\"line\">\t\t}</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span>(<span class=\"number\">1</span>)</span><br><span class=\"line\">\t\t{</span><br><span class=\"line\">\t\t\tsleep(interval);</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\tLOGD(LOG_TAG, <span class=\"string\">\"check the service once\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\t<span class=\"comment\">/* start service */</span></span><br><span class=\"line\">\t\t\tstart_service(package_name, service_name);</span><br><span class=\"line\">\t\t}</span><br><span class=\"line\">\t}</span><br><span class=\"line\">\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t{</span><br><span class=\"line\">\t\t<span class=\"comment\">/* parent process, do nothing */</span></span><br><span class=\"line\">\t}</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<p> shell  <code>int main(int argc, char *argv[])</code>frok  OK <br> <code>start_service</code>  Service:</p>\n<figure class=\"highlight c\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* start daemon service */</span></span><br><span class=\"line\"><span class=\"type\">static</span> <span class=\"type\">void</span> <span class=\"title function_\">start_service</span><span class=\"params\">(<span class=\"type\">char</span> *package_name, <span class=\"type\">char</span> *service_name)</span></span><br><span class=\"line\">{</span><br><span class=\"line\">\t<span class=\"comment\">/* get the sdk version */</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> version = get_version();</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"type\">pid_t</span> pid;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> ((pid = fork()) &lt; <span class=\"number\">0</span>)</span><br><span class=\"line\">\t{</span><br><span class=\"line\">\t\t<span class=\"built_in\">exit</span>(EXIT_SUCCESS);</span><br><span class=\"line\">\t}</span><br><span class=\"line\">\t<span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (pid == <span class=\"number\">0</span>)</span><br><span class=\"line\">\t{</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (package_name == <span class=\"literal\">NULL</span> || service_name == <span class=\"literal\">NULL</span>)</span><br><span class=\"line\">\t\t{</span><br><span class=\"line\">\t\t\tLOGE(LOG_TAG, <span class=\"string\">\"package name or service name is null\"</span>);</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"type\">char</span> *p_name = str_stitching(package_name, <span class=\"string\">\"/\"</span>);</span><br><span class=\"line\">\t\t<span class=\"type\">char</span> *s_name = str_stitching(p_name, service_name);</span><br><span class=\"line\">\t\tLOGD(LOG_TAG, <span class=\"string\">\"service: %s\"</span>, s_name);</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (version &gt;= <span class=\"number\">17</span> || version == <span class=\"number\">0</span>)</span><br><span class=\"line\">\t\t{</span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> ret = execlp(<span class=\"string\">\"am\"</span>, <span class=\"string\">\"am\"</span>, <span class=\"string\">\"startservice\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"--user\"</span>, <span class=\"string\">\"0\"</span>, <span class=\"string\">\"-n\"</span>, s_name, (<span class=\"type\">char</span> *) <span class=\"literal\">NULL</span>);</span><br><span class=\"line\">\t\t\tLOGD(LOG_TAG, <span class=\"string\">\"result %d\"</span>, ret);</span><br><span class=\"line\">\t\t}</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t{</span><br><span class=\"line\">\t\t\texeclp(<span class=\"string\">\"am\"</span>, <span class=\"string\">\"am\"</span>, <span class=\"string\">\"startservice\"</span>, <span class=\"string\">\"-n\"</span>, s_name, (<span class=\"type\">char</span> *) <span class=\"literal\">NULL</span>);</span><br><span class=\"line\">\t\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tLOGD(LOG_TAG , <span class=\"string\">\"exit start-service child process\"</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">exit</span>(EXIT_SUCCESS);</span><br><span class=\"line\">\t}</span><br><span class=\"line\">\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t{</span><br><span class=\"line\">\t\twaitpid(pid, <span class=\"literal\">NULL</span>, <span class=\"number\">0</span>);</span><br><span class=\"line\">\t}</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<p>execlp  fork  Service Android SDK  17 17 <code>execlp(\"am\", \"am\", \"startservice\", \"--user\", \"0\", \"-n\", s_name, (char *) NULL)</code>, 17 :<code>execlp(\"am\", \"am\", \"startservice\", \"-n\", s_name, (char *) NULL)</code> version :</p>\n<figure class=\"highlight c\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;sys/system_properties.h&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Get the version of current SDK.</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">get_version</span><span class=\"params\">()</span></span><br><span class=\"line\">{</span><br><span class=\"line\">\t<span class=\"type\">char</span> value[<span class=\"number\">8</span>] = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">    __system_property_get(<span class=\"string\">\"ro.build.version.sdk\"</span>, value);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> atoi(value);</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<p> so  assets  copy  /data/data/packagename/app_bin  java : </p>\n<figure class=\"highlight java\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">String</span> <span class=\"variable\">cmd</span> <span class=\"operator\">=</span> <span class=\"string\">\"/data/data/&lt;packagename&gt;/app_bin/daemon\"</span></span><br><span class=\"line\">Runtime.getRuntime().exec(cmd);</span><br></pre></td></tr></tbody></table></figure>\n<p></p>\n<p>ps: 5.x  <a href=\"https://github.com/Marswin/MarsDaemon\">MarsDaemon</a>.</p>\n","site":{"data":{}},"excerpt":"<p> App Daemon  Android  linux  Android  linux  JNI  c  fork  while (1) while  sleep  service adb shell  (: ps | grep com.coolerfall.) fork  VSIZE ()  RSS ()  UI  <a href=\"https://github.com/ukanth/afwall\">afwall</a>(android ) linux  linux  Android.mk  <code>include $(BUILD_EXECUTABLE)</code>  c  Android  OK </p>","more":"<p></p>\n<figure class=\"highlight c\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">(<span class=\"type\">int</span> argc, <span class=\"type\">char</span> *argv[])</span></span><br><span class=\"line\">{</span><br><span class=\"line\">\t<span class=\"type\">int</span> i;</span><br><span class=\"line\">\t<span class=\"type\">pid_t</span> pid;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> ((pid = fork()) &lt; <span class=\"number\">0</span>)</span><br><span class=\"line\">\t{</span><br><span class=\"line\">\t    <span class=\"built_in\">exit</span>(EXIT_SUCCESS);</span><br><span class=\"line\">\t}</span><br><span class=\"line\">\t<span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (pid == <span class=\"number\">0</span>)</span><br><span class=\"line\">\t{</span><br><span class=\"line\">\t\t<span class=\"comment\">/* child process become session leader */</span></span><br><span class=\"line\">\t\tsetsid();</span><br><span class=\"line\">\t\t<span class=\"comment\">/* change work directory */</span></span><br><span class=\"line\">\t\tchdir(<span class=\"string\">\"/\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> (i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">3</span>; i ++)</span><br><span class=\"line\">\t\t{</span><br><span class=\"line\">\t\t\tclose(i);</span><br><span class=\"line\">\t\t}</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span>(<span class=\"number\">1</span>)</span><br><span class=\"line\">\t\t{</span><br><span class=\"line\">\t\t\tsleep(interval);</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\tLOGD(LOG_TAG, <span class=\"string\">\"check the service once\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\t<span class=\"comment\">/* start service */</span></span><br><span class=\"line\">\t\t\tstart_service(package_name, service_name);</span><br><span class=\"line\">\t\t}</span><br><span class=\"line\">\t}</span><br><span class=\"line\">\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t{</span><br><span class=\"line\">\t\t<span class=\"comment\">/* parent process, do nothing */</span></span><br><span class=\"line\">\t}</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<p> shell  <code>int main(int argc, char *argv[])</code>frok  OK <br> <code>start_service</code>  Service:</p>\n<figure class=\"highlight c\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* start daemon service */</span></span><br><span class=\"line\"><span class=\"type\">static</span> <span class=\"type\">void</span> <span class=\"title function_\">start_service</span><span class=\"params\">(<span class=\"type\">char</span> *package_name, <span class=\"type\">char</span> *service_name)</span></span><br><span class=\"line\">{</span><br><span class=\"line\">\t<span class=\"comment\">/* get the sdk version */</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> version = get_version();</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"type\">pid_t</span> pid;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> ((pid = fork()) &lt; <span class=\"number\">0</span>)</span><br><span class=\"line\">\t{</span><br><span class=\"line\">\t\t<span class=\"built_in\">exit</span>(EXIT_SUCCESS);</span><br><span class=\"line\">\t}</span><br><span class=\"line\">\t<span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (pid == <span class=\"number\">0</span>)</span><br><span class=\"line\">\t{</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (package_name == <span class=\"literal\">NULL</span> || service_name == <span class=\"literal\">NULL</span>)</span><br><span class=\"line\">\t\t{</span><br><span class=\"line\">\t\t\tLOGE(LOG_TAG, <span class=\"string\">\"package name or service name is null\"</span>);</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"type\">char</span> *p_name = str_stitching(package_name, <span class=\"string\">\"/\"</span>);</span><br><span class=\"line\">\t\t<span class=\"type\">char</span> *s_name = str_stitching(p_name, service_name);</span><br><span class=\"line\">\t\tLOGD(LOG_TAG, <span class=\"string\">\"service: %s\"</span>, s_name);</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (version &gt;= <span class=\"number\">17</span> || version == <span class=\"number\">0</span>)</span><br><span class=\"line\">\t\t{</span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> ret = execlp(<span class=\"string\">\"am\"</span>, <span class=\"string\">\"am\"</span>, <span class=\"string\">\"startservice\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"--user\"</span>, <span class=\"string\">\"0\"</span>, <span class=\"string\">\"-n\"</span>, s_name, (<span class=\"type\">char</span> *) <span class=\"literal\">NULL</span>);</span><br><span class=\"line\">\t\t\tLOGD(LOG_TAG, <span class=\"string\">\"result %d\"</span>, ret);</span><br><span class=\"line\">\t\t}</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t{</span><br><span class=\"line\">\t\t\texeclp(<span class=\"string\">\"am\"</span>, <span class=\"string\">\"am\"</span>, <span class=\"string\">\"startservice\"</span>, <span class=\"string\">\"-n\"</span>, s_name, (<span class=\"type\">char</span> *) <span class=\"literal\">NULL</span>);</span><br><span class=\"line\">\t\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tLOGD(LOG_TAG , <span class=\"string\">\"exit start-service child process\"</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">exit</span>(EXIT_SUCCESS);</span><br><span class=\"line\">\t}</span><br><span class=\"line\">\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t{</span><br><span class=\"line\">\t\twaitpid(pid, <span class=\"literal\">NULL</span>, <span class=\"number\">0</span>);</span><br><span class=\"line\">\t}</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<p>execlp  fork  Service Android SDK  17 17 <code>execlp(\"am\", \"am\", \"startservice\", \"--user\", \"0\", \"-n\", s_name, (char *) NULL)</code>, 17 :<code>execlp(\"am\", \"am\", \"startservice\", \"-n\", s_name, (char *) NULL)</code> version :</p>\n<figure class=\"highlight c\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;sys/system_properties.h&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Get the version of current SDK.</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">get_version</span><span class=\"params\">()</span></span><br><span class=\"line\">{</span><br><span class=\"line\">\t<span class=\"type\">char</span> value[<span class=\"number\">8</span>] = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">    __system_property_get(<span class=\"string\">\"ro.build.version.sdk\"</span>, value);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> atoi(value);</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<p> so  assets  copy  /data/data/packagename/app_bin  java : </p>\n<figure class=\"highlight java\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">String</span> <span class=\"variable\">cmd</span> <span class=\"operator\">=</span> <span class=\"string\">\"/data/data/&lt;packagename&gt;/app_bin/daemon\"</span></span><br><span class=\"line\">Runtime.getRuntime().exec(cmd);</span><br></pre></td></tr></tbody></table></figure>\n<p></p>\n<p>ps: 5.x  <a href=\"https://github.com/Marswin/MarsDaemon\">MarsDaemon</a>.</p>"},{"title":"Android activity  launchMode","_content":"\nAndroidlaunchModeActivitystandardsingleTasksingleInstancesingleTop\n<!-- more -->\n\n#### 1. standard\nsdkactivitystartActivity\n#### 2. singleTask\ntaskactivity\n#### 3. singleInstance\ntasktaskactivitystartActivity\n#### 4. singleTop\ntaskacticity AintentAA A B C DDIntentDA B C DIntentB A B C D B\nactivity","source":"_posts/2015-06-03-android-launch-mode.md","raw":"---\ntitle: Android activitylaunchMode\ncategory: android \ntags: [launch mode]\n---\n\nAndroidlaunchModeActivitystandardsingleTasksingleInstancesingleTop\n<!-- more -->\n\n#### 1. standard\nsdkactivitystartActivity\n#### 2. singleTask\ntaskactivity\n#### 3. singleInstance\ntasktaskactivitystartActivity\n#### 4. singleTop\ntaskacticity AintentAA A B C DDIntentDA B C DIntentB A B C D B\nactivity","slug":"android-launch-mode","published":1,"date":"2015-06-02T16:00:00.000Z","updated":"2023-05-23T06:14:11.810Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cli00ivlq000rz0in30ss9gns","content":"<p>Android  launchMode Activity standardsingleTasksingleInstancesingleTop</p>\n<span id=\"more\"></span>\n\n<h4 id=\"1-standard\"><a href=\"#1-standard\" class=\"headerlink\" title=\"1. standard\"></a>1. standard </h4><p> sdk  activity  startActivity </p>\n<h4 id=\"2-singleTask\"><a href=\"#2-singleTask\" class=\"headerlink\" title=\"2. singleTask\"></a>2. singleTask </h4><p> task  activity</p>\n<h4 id=\"3-singleInstance\"><a href=\"#3-singleInstance\" class=\"headerlink\" title=\"3. singleInstance\"></a>3. singleInstance </h4><p> task task  activity  startActivity</p>\n<h4 id=\"4-singleTop\"><a href=\"#4-singleTop\" class=\"headerlink\" title=\"4. singleTop\"></a>4. singleTop </h4><p> task  acticity A intent  A A  A B C DD  Intent  D A B C D Intent  B A B C D B<br> activity </p>\n","site":{"data":{}},"excerpt":"<p>Android  launchMode Activity standardsingleTasksingleInstancesingleTop</p>","more":"<h4 id=\"1-standard\"><a href=\"#1-standard\" class=\"headerlink\" title=\"1. standard\"></a>1. standard </h4><p> sdk  activity  startActivity </p>\n<h4 id=\"2-singleTask\"><a href=\"#2-singleTask\" class=\"headerlink\" title=\"2. singleTask\"></a>2. singleTask </h4><p> task  activity</p>\n<h4 id=\"3-singleInstance\"><a href=\"#3-singleInstance\" class=\"headerlink\" title=\"3. singleInstance\"></a>3. singleInstance </h4><p> task task  activity  startActivity</p>\n<h4 id=\"4-singleTop\"><a href=\"#4-singleTop\" class=\"headerlink\" title=\"4. singleTop\"></a>4. singleTop </h4><p> task  acticity A intent  A A  A B C DD  Intent  D A B C D Intent  B A B C D B<br> activity </p>"},{"title":"linux shell  bad interpreter No such file or directory","_content":"\nlinuxndkshell\n\t\n\tbash: ./build_android.sh: /bin/bash^M: bad interpreter: No such file or directory\n\nvimshellshellwindowscopylinuxvimshell\n\n\t:set fileformat=unix\n\n","source":"_posts/2015-06-24-bad-interpreter.md","raw":"---\ntitle: linux shellbad interpreter No such file or directory\ncategory: tools\ntags: [shell]\n---\n\nlinuxndkshell\n\t\n\tbash: ./build_android.sh: /bin/bash^M: bad interpreter: No such file or directory\n\nvimshellshellwindowscopylinuxvimshell\n\n\t:set fileformat=unix\n\n","slug":"bad-interpreter","published":1,"date":"2015-06-23T16:00:00.000Z","updated":"2023-05-23T03:07:55.015Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cli00ivls000vz0in72g13hsn","content":"<p> linux  ndk  shell </p>\n<pre><code>bash: ./build_android.sh: /bin/bash^M: bad interpreter: No such file or directory\n</code></pre>\n<p> vim  shell  shell  windows copy  linux  vim  shell </p>\n<pre><code>:set fileformat=unix\n</code></pre>\n<p></p>\n","site":{"data":{}},"excerpt":"","more":"<p> linux  ndk  shell </p>\n<pre><code>bash: ./build_android.sh: /bin/bash^M: bad interpreter: No such file or directory\n</code></pre>\n<p> vim  shell  shell  windows copy  linux  vim  shell </p>\n<pre><code>:set fileformat=unix\n</code></pre>\n<p></p>\n"},{"layout":"post","title":"Android JNI ","_content":"\nAndroidJNIJNIjavahjniJNI\n<!-- more -->\n\n| Java |  Native  | JNI |\n| :------: | :----------: | :-----: |\n| boolean  |   jboolean   |    Z    |\n|   byte   |    jbyte     |    B    |\n|   char   |    jchar     |    C    |\n|  short   |    jshort    |    S    |\n|   int    |     jint     |    I    |\n|   long   |    jlong     |    J    |\n|  float   |    jfloat    |    F    |\n|  double  |   jdouble    |    D    |\n|  byte[]  |  jbyteArray  |   [B    |\n|  char[]  |  jcharArray  |   [C    |\n| short[]  | jshortArray  |   [S    |\n|  int[]   |  jintArray   |   [I    |\n|  long[]  |  jlongArray  |   [L    |\n| float[]  | jfloatArray  |   [F    |\n| double[] | jdoubleArray |   [D    |\n| Java(: String) | jstring/jobject | L;(: Ljava/lang/String; |\n| Java(: start(String path, long pos, long duration)) | Native(: start(jstring path, jlong pos, jlong duration)) | (...)(: (Ljava/lang/String;JJ)V) |\n\njavaStringjnijstringjava","source":"_posts/2015-07-04-jni-signature.md","raw":"---\nlayout: post\ntitle: Android JNI\ncategory: android\ntags: [jni]\n---\n\nAndroidJNIJNIjavahjniJNI\n<!-- more -->\n\n| Java |  Native  | JNI |\n| :------: | :----------: | :-----: |\n| boolean  |   jboolean   |    Z    |\n|   byte   |    jbyte     |    B    |\n|   char   |    jchar     |    C    |\n|  short   |    jshort    |    S    |\n|   int    |     jint     |    I    |\n|   long   |    jlong     |    J    |\n|  float   |    jfloat    |    F    |\n|  double  |   jdouble    |    D    |\n|  byte[]  |  jbyteArray  |   [B    |\n|  char[]  |  jcharArray  |   [C    |\n| short[]  | jshortArray  |   [S    |\n|  int[]   |  jintArray   |   [I    |\n|  long[]  |  jlongArray  |   [L    |\n| float[]  | jfloatArray  |   [F    |\n| double[] | jdoubleArray |   [D    |\n| Java(: String) | jstring/jobject | L;(: Ljava/lang/String; |\n| Java(: start(String path, long pos, long duration)) | Native(: start(jstring path, jlong pos, jlong duration)) | (...)(: (Ljava/lang/String;JJ)V) |\n\njavaStringjnijstringjava","slug":"jni-signature","published":1,"date":"2015-07-03T16:00:00.000Z","updated":"2023-05-23T06:14:16.010Z","comments":1,"photos":[],"link":"","_id":"cli00ivls000xz0inapkrewr6","content":"<p> Android  JNIJNI  javah  jni  JNI </p>\n<span id=\"more\"></span>\n\n<table>\n<thead>\n<tr>\n<th align=\"center\">Java </th>\n<th align=\"center\"> Native </th>\n<th align=\"center\"> JNI </th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\"> boolean</td>\n<td align=\"center\">jboolean</td>\n<td align=\"center\">Z</td>\n</tr>\n<tr>\n<td align=\"center\">byte</td>\n<td align=\"center\">jbyte</td>\n<td align=\"center\">B</td>\n</tr>\n<tr>\n<td align=\"center\">char</td>\n<td align=\"center\">jchar</td>\n<td align=\"center\">C</td>\n</tr>\n<tr>\n<td align=\"center\">short</td>\n<td align=\"center\">jshort</td>\n<td align=\"center\">S</td>\n</tr>\n<tr>\n<td align=\"center\">int</td>\n<td align=\"center\">jint</td>\n<td align=\"center\">I</td>\n</tr>\n<tr>\n<td align=\"center\">long</td>\n<td align=\"center\">jlong</td>\n<td align=\"center\">J</td>\n</tr>\n<tr>\n<td align=\"center\">float</td>\n<td align=\"center\">jfloat</td>\n<td align=\"center\">F</td>\n</tr>\n<tr>\n<td align=\"center\">double</td>\n<td align=\"center\">jdouble</td>\n<td align=\"center\">D</td>\n</tr>\n<tr>\n<td align=\"center\">byte[]</td>\n<td align=\"center\">jbyteArray</td>\n<td align=\"center\">[B</td>\n</tr>\n<tr>\n<td align=\"center\">char[]</td>\n<td align=\"center\">jcharArray</td>\n<td align=\"center\">[C</td>\n</tr>\n<tr>\n<td align=\"center\">short[]</td>\n<td align=\"center\">jshortArray</td>\n<td align=\"center\">[S</td>\n</tr>\n<tr>\n<td align=\"center\">int[]</td>\n<td align=\"center\">jintArray</td>\n<td align=\"center\">[I</td>\n</tr>\n<tr>\n<td align=\"center\">long[]</td>\n<td align=\"center\">jlongArray</td>\n<td align=\"center\">[L</td>\n</tr>\n<tr>\n<td align=\"center\">float[]</td>\n<td align=\"center\">jfloatArray</td>\n<td align=\"center\">[F</td>\n</tr>\n<tr>\n<td align=\"center\">double[]</td>\n<td align=\"center\">jdoubleArray</td>\n<td align=\"center\">[D</td>\n</tr>\n<tr>\n<td align=\"center\">Java  (: String)</td>\n<td align=\"center\">jstring/jobject</td>\n<td align=\"center\">L (: Ljava/lang/String;</td>\n</tr>\n<tr>\n<td align=\"center\">Java  (: start (String path, long pos, long duration))</td>\n<td align=\"center\">Native  (: start (jstring path, jlong pos, jlong duration))</td>\n<td align=\"center\">()  (: (Ljava/lang/String;JJ) V)</td>\n</tr>\n</tbody></table>\n<p> java String jni  jstring java </p>\n","site":{"data":{}},"excerpt":"<p> Android  JNIJNI  javah  jni  JNI </p>","more":"<table>\n<thead>\n<tr>\n<th align=\"center\">Java </th>\n<th align=\"center\"> Native </th>\n<th align=\"center\"> JNI </th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\"> boolean</td>\n<td align=\"center\">jboolean</td>\n<td align=\"center\">Z</td>\n</tr>\n<tr>\n<td align=\"center\">byte</td>\n<td align=\"center\">jbyte</td>\n<td align=\"center\">B</td>\n</tr>\n<tr>\n<td align=\"center\">char</td>\n<td align=\"center\">jchar</td>\n<td align=\"center\">C</td>\n</tr>\n<tr>\n<td align=\"center\">short</td>\n<td align=\"center\">jshort</td>\n<td align=\"center\">S</td>\n</tr>\n<tr>\n<td align=\"center\">int</td>\n<td align=\"center\">jint</td>\n<td align=\"center\">I</td>\n</tr>\n<tr>\n<td align=\"center\">long</td>\n<td align=\"center\">jlong</td>\n<td align=\"center\">J</td>\n</tr>\n<tr>\n<td align=\"center\">float</td>\n<td align=\"center\">jfloat</td>\n<td align=\"center\">F</td>\n</tr>\n<tr>\n<td align=\"center\">double</td>\n<td align=\"center\">jdouble</td>\n<td align=\"center\">D</td>\n</tr>\n<tr>\n<td align=\"center\">byte[]</td>\n<td align=\"center\">jbyteArray</td>\n<td align=\"center\">[B</td>\n</tr>\n<tr>\n<td align=\"center\">char[]</td>\n<td align=\"center\">jcharArray</td>\n<td align=\"center\">[C</td>\n</tr>\n<tr>\n<td align=\"center\">short[]</td>\n<td align=\"center\">jshortArray</td>\n<td align=\"center\">[S</td>\n</tr>\n<tr>\n<td align=\"center\">int[]</td>\n<td align=\"center\">jintArray</td>\n<td align=\"center\">[I</td>\n</tr>\n<tr>\n<td align=\"center\">long[]</td>\n<td align=\"center\">jlongArray</td>\n<td align=\"center\">[L</td>\n</tr>\n<tr>\n<td align=\"center\">float[]</td>\n<td align=\"center\">jfloatArray</td>\n<td align=\"center\">[F</td>\n</tr>\n<tr>\n<td align=\"center\">double[]</td>\n<td align=\"center\">jdoubleArray</td>\n<td align=\"center\">[D</td>\n</tr>\n<tr>\n<td align=\"center\">Java  (: String)</td>\n<td align=\"center\">jstring/jobject</td>\n<td align=\"center\">L (: Ljava/lang/String;</td>\n</tr>\n<tr>\n<td align=\"center\">Java  (: start (String path, long pos, long duration))</td>\n<td align=\"center\">Native  (: start (jstring path, jlong pos, jlong duration))</td>\n<td align=\"center\">()  (: (Ljava/lang/String;JJ) V)</td>\n</tr>\n</tbody></table>\n<p> java String jni  jstring java </p>"},{"title":" git ","_content":"\ngit\n#### 1.push\n\n\terror: RPC failed; result=22, HTTP code = 411\n\tfatal: The remote end hung up unexpectedly\n\tfatal: The remote end hung up unexpectedly\nhttp buffergit\n\t\n\tgit config http.postBuffer 67108864\n#### 2.push.ignore\n.ignorepush\n```shell\n$ git rm -r --cached .idea\n```\n.ignoregit pushok","source":"_posts/2015-05-14-git-problems.md","raw":"---\ntitle: git\ncategory: tools\ntags: [git]\n---\n\ngit\n#### 1.push\n\n\terror: RPC failed; result=22, HTTP code = 411\n\tfatal: The remote end hung up unexpectedly\n\tfatal: The remote end hung up unexpectedly\nhttp buffergit\n\t\n\tgit config http.postBuffer 67108864\n#### 2.push.ignore\n.ignorepush\n```shell\n$ git rm -r --cached .idea\n```\n.ignoregit pushok","slug":"git-problems","published":1,"date":"2015-05-13T16:00:00.000Z","updated":"2023-05-23T03:07:55.015Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cli00ivlu0011z0indsulhgp2","content":"<p> git </p>\n<h4 id=\"1-push\"><a href=\"#1-push\" class=\"headerlink\" title=\"1.push\"></a>1.  push </h4><pre><code>error: RPC failed; result=22, HTTP code = 411\nfatal: The remote end hung up unexpectedly\nfatal: The remote end hung up unexpectedly\n</code></pre>\n<p> http buffer  git </p>\n<pre><code>git config http.postBuffer 67108864\n</code></pre>\n<h4 id=\"2-push-ignore\"><a href=\"#2-push-ignore\" class=\"headerlink\" title=\"2.push.ignore\"></a>2.  push .ignore </h4><p>.ignore  push </p>\n<figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">git <span class=\"built_in\">rm</span> -r --cached .idea</span></span><br></pre></td></tr></tbody></table></figure>\n<p>.ignore  git push  ok </p>\n","site":{"data":{}},"excerpt":"","more":"<p> git </p>\n<h4 id=\"1-push\"><a href=\"#1-push\" class=\"headerlink\" title=\"1.push\"></a>1.  push </h4><pre><code>error: RPC failed; result=22, HTTP code = 411\nfatal: The remote end hung up unexpectedly\nfatal: The remote end hung up unexpectedly\n</code></pre>\n<p> http buffer  git </p>\n<pre><code>git config http.postBuffer 67108864\n</code></pre>\n<h4 id=\"2-push-ignore\"><a href=\"#2-push-ignore\" class=\"headerlink\" title=\"2.push.ignore\"></a>2.  push .ignore </h4><p>.ignore  push </p>\n<figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">git <span class=\"built_in\">rm</span> -r --cached .idea</span></span><br></pre></td></tr></tbody></table></figure>\n<p>.ignore  git push  ok </p>\n"},{"layout":"post","title":"TextView ","_content":"\nTextViewTextView\n<!-- more -->\n#### 1.\n\n```xml\n<TextView\n\tandroid:ellipsize=\"marquee\"\n\tandroid:focusable=\"true\"\n\tandroid:focusableInTouchMode=\"true\"\n\tandroid:marqueeRepeatLimit=\"marquee_forever\"\n\tandroid:singleLine=\"true\" />\n```\n#### 2.\nlayoutTextViewfocusedTextView\n```java\npublic class MarqueeView extends TextView {\n\tpublic MarqueeView(Context context) {\n\t\tthis(context, null);\n\t}\n\n\tpublic MarqueeView(Context context, AttributeSet attrs) {\n\t\tthis(context, attrs, 0);\n\t}\n\n\tpublic MarqueeView(Context context, AttributeSet attrs, int defStyleAttr) {\n\t\tsuper(context, attrs, defStyleAttr);\n\t}\n\n\t@Override\n\tprotected void onFocusChanged(boolean focused, int direction, Rect previouslyFocusedRect) {\n\t\tsuper.onFocusChanged(true, direction, previouslyFocusedRect);\n\t}\n\n\t@Override\n\tpublic void onWindowFocusChanged(boolean hasWindowFocus) {\n\t\tsuper.onWindowFocusChanged(true);\n\t}\n\n\t@Override\n\tpublic boolean isFocused() {\n\t\treturn true;\n\t}\n}\n```\n\n```xml\n<MarqueeView\n\tandroid:ellipsize=\"marquee\"\n\tandroid:marqueeRepeatLimit=\"marquee_forever\"\n\tandroid:singleLine=\"true\" />\n```\n#### 3.appwidget\nappwidgetviewlayout\n```xml\n<TextView\n\tandroid:ellipsize=\"marquee\"\n\tandroid:focusable=\"true\"\n\tandroid:focusableInTouchMode=\"true\"\n\tandroid:marqueeRepeatLimit=\"marquee_forever\"\n\tandroid:singleLine=\"true\">\n\t<requestFocus\n\t\tandroid:duplicateParentState=\"true\"\n\t\tandroid:focusable=\"true\"\n\t\tandroid:focusableInTouchMode=\"true\"/>\n</TextView>\n```\nTextViewrequestFocus","source":"_posts/2015-07-21-android-marquee.md","raw":"---\nlayout: post\ntitle: TextView\ncategory: android\ntags: [widget]\n---\n\nTextViewTextView\n<!-- more -->\n#### 1.\n\n```xml\n<TextView\n\tandroid:ellipsize=\"marquee\"\n\tandroid:focusable=\"true\"\n\tandroid:focusableInTouchMode=\"true\"\n\tandroid:marqueeRepeatLimit=\"marquee_forever\"\n\tandroid:singleLine=\"true\" />\n```\n#### 2.\nlayoutTextViewfocusedTextView\n```java\npublic class MarqueeView extends TextView {\n\tpublic MarqueeView(Context context) {\n\t\tthis(context, null);\n\t}\n\n\tpublic MarqueeView(Context context, AttributeSet attrs) {\n\t\tthis(context, attrs, 0);\n\t}\n\n\tpublic MarqueeView(Context context, AttributeSet attrs, int defStyleAttr) {\n\t\tsuper(context, attrs, defStyleAttr);\n\t}\n\n\t@Override\n\tprotected void onFocusChanged(boolean focused, int direction, Rect previouslyFocusedRect) {\n\t\tsuper.onFocusChanged(true, direction, previouslyFocusedRect);\n\t}\n\n\t@Override\n\tpublic void onWindowFocusChanged(boolean hasWindowFocus) {\n\t\tsuper.onWindowFocusChanged(true);\n\t}\n\n\t@Override\n\tpublic boolean isFocused() {\n\t\treturn true;\n\t}\n}\n```\n\n```xml\n<MarqueeView\n\tandroid:ellipsize=\"marquee\"\n\tandroid:marqueeRepeatLimit=\"marquee_forever\"\n\tandroid:singleLine=\"true\" />\n```\n#### 3.appwidget\nappwidgetviewlayout\n```xml\n<TextView\n\tandroid:ellipsize=\"marquee\"\n\tandroid:focusable=\"true\"\n\tandroid:focusableInTouchMode=\"true\"\n\tandroid:marqueeRepeatLimit=\"marquee_forever\"\n\tandroid:singleLine=\"true\">\n\t<requestFocus\n\t\tandroid:duplicateParentState=\"true\"\n\t\tandroid:focusable=\"true\"\n\t\tandroid:focusableInTouchMode=\"true\"/>\n</TextView>\n```\nTextViewrequestFocus","slug":"android-marquee","published":1,"date":"2015-07-20T16:00:00.000Z","updated":"2023-05-23T06:14:22.424Z","comments":1,"photos":[],"link":"","_id":"cli00ivlu0012z0in12yed6bb","content":"<p> TextView  TextView </p>\n<span id=\"more\"></span>\n<h4 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"1.\"></a>1. </h4><p></p>\n<figure class=\"highlight xml\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">TextView</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">android:ellipsize</span>=<span class=\"string\">\"marquee\"</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">android:focusable</span>=<span class=\"string\">\"true\"</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">android:focusableInTouchMode</span>=<span class=\"string\">\"true\"</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">android:marqueeRepeatLimit</span>=<span class=\"string\">\"marquee_forever\"</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">android:singleLine</span>=<span class=\"string\">\"true\"</span> /&gt;</span></span><br></pre></td></tr></tbody></table></figure>\n<h4 id=\"2-\"><a href=\"#2-\" class=\"headerlink\" title=\"2.\"></a>2. </h4><p> layout  TextView  focused  TextView</p>\n<figure class=\"highlight java\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">MarqueeView</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">TextView</span> {</span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"title function_\">MarqueeView</span><span class=\"params\">(Context context)</span> {</span><br><span class=\"line\">\t\t<span class=\"built_in\">this</span>(context, <span class=\"literal\">null</span>);</span><br><span class=\"line\">\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"title function_\">MarqueeView</span><span class=\"params\">(Context context, AttributeSet attrs)</span> {</span><br><span class=\"line\">\t\t<span class=\"built_in\">this</span>(context, attrs, <span class=\"number\">0</span>);</span><br><span class=\"line\">\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"title function_\">MarqueeView</span><span class=\"params\">(Context context, AttributeSet attrs, <span class=\"type\">int</span> defStyleAttr)</span> {</span><br><span class=\"line\">\t\t<span class=\"built_in\">super</span>(context, attrs, defStyleAttr);</span><br><span class=\"line\">\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"meta\">@Override</span></span><br><span class=\"line\">\t<span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title function_\">onFocusChanged</span><span class=\"params\">(<span class=\"type\">boolean</span> focused, <span class=\"type\">int</span> direction, Rect previouslyFocusedRect)</span> {</span><br><span class=\"line\">\t\t<span class=\"built_in\">super</span>.onFocusChanged(<span class=\"literal\">true</span>, direction, previouslyFocusedRect);</span><br><span class=\"line\">\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"meta\">@Override</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">onWindowFocusChanged</span><span class=\"params\">(<span class=\"type\">boolean</span> hasWindowFocus)</span> {</span><br><span class=\"line\">\t\t<span class=\"built_in\">super</span>.onWindowFocusChanged(<span class=\"literal\">true</span>);</span><br><span class=\"line\">\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"meta\">@Override</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">isFocused</span><span class=\"params\">()</span> {</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t}</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<p></p>\n<figure class=\"highlight xml\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">MarqueeView</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">android:ellipsize</span>=<span class=\"string\">\"marquee\"</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">android:marqueeRepeatLimit</span>=<span class=\"string\">\"marquee_forever\"</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">android:singleLine</span>=<span class=\"string\">\"true\"</span> /&gt;</span></span><br></pre></td></tr></tbody></table></figure>\n<h4 id=\"3-appwidget\"><a href=\"#3-appwidget\" class=\"headerlink\" title=\"3.appwidget\"></a>3.  appwidget </h4><p>appwidget  view layout </p>\n<figure class=\"highlight xml\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">TextView</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">android:ellipsize</span>=<span class=\"string\">\"marquee\"</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">android:focusable</span>=<span class=\"string\">\"true\"</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">android:focusableInTouchMode</span>=<span class=\"string\">\"true\"</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">android:marqueeRepeatLimit</span>=<span class=\"string\">\"marquee_forever\"</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">android:singleLine</span>=<span class=\"string\">\"true\"</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">requestFocus</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t<span class=\"attr\">android:duplicateParentState</span>=<span class=\"string\">\"true\"</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t<span class=\"attr\">android:focusable</span>=<span class=\"string\">\"true\"</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t<span class=\"attr\">android:focusableInTouchMode</span>=<span class=\"string\">\"true\"</span>/&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">TextView</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>\n<p> TextView  requestFocus </p>\n","site":{"data":{}},"excerpt":"<p> TextView  TextView </p>","more":"<h4 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"1.\"></a>1. </h4><p></p>\n<figure class=\"highlight xml\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">TextView</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">android:ellipsize</span>=<span class=\"string\">\"marquee\"</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">android:focusable</span>=<span class=\"string\">\"true\"</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">android:focusableInTouchMode</span>=<span class=\"string\">\"true\"</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">android:marqueeRepeatLimit</span>=<span class=\"string\">\"marquee_forever\"</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">android:singleLine</span>=<span class=\"string\">\"true\"</span> /&gt;</span></span><br></pre></td></tr></tbody></table></figure>\n<h4 id=\"2-\"><a href=\"#2-\" class=\"headerlink\" title=\"2.\"></a>2. </h4><p> layout  TextView  focused  TextView</p>\n<figure class=\"highlight java\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">MarqueeView</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">TextView</span> {</span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"title function_\">MarqueeView</span><span class=\"params\">(Context context)</span> {</span><br><span class=\"line\">\t\t<span class=\"built_in\">this</span>(context, <span class=\"literal\">null</span>);</span><br><span class=\"line\">\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"title function_\">MarqueeView</span><span class=\"params\">(Context context, AttributeSet attrs)</span> {</span><br><span class=\"line\">\t\t<span class=\"built_in\">this</span>(context, attrs, <span class=\"number\">0</span>);</span><br><span class=\"line\">\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"title function_\">MarqueeView</span><span class=\"params\">(Context context, AttributeSet attrs, <span class=\"type\">int</span> defStyleAttr)</span> {</span><br><span class=\"line\">\t\t<span class=\"built_in\">super</span>(context, attrs, defStyleAttr);</span><br><span class=\"line\">\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"meta\">@Override</span></span><br><span class=\"line\">\t<span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title function_\">onFocusChanged</span><span class=\"params\">(<span class=\"type\">boolean</span> focused, <span class=\"type\">int</span> direction, Rect previouslyFocusedRect)</span> {</span><br><span class=\"line\">\t\t<span class=\"built_in\">super</span>.onFocusChanged(<span class=\"literal\">true</span>, direction, previouslyFocusedRect);</span><br><span class=\"line\">\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"meta\">@Override</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">onWindowFocusChanged</span><span class=\"params\">(<span class=\"type\">boolean</span> hasWindowFocus)</span> {</span><br><span class=\"line\">\t\t<span class=\"built_in\">super</span>.onWindowFocusChanged(<span class=\"literal\">true</span>);</span><br><span class=\"line\">\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"meta\">@Override</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">isFocused</span><span class=\"params\">()</span> {</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t}</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<p></p>\n<figure class=\"highlight xml\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">MarqueeView</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">android:ellipsize</span>=<span class=\"string\">\"marquee\"</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">android:marqueeRepeatLimit</span>=<span class=\"string\">\"marquee_forever\"</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">android:singleLine</span>=<span class=\"string\">\"true\"</span> /&gt;</span></span><br></pre></td></tr></tbody></table></figure>\n<h4 id=\"3-appwidget\"><a href=\"#3-appwidget\" class=\"headerlink\" title=\"3.appwidget\"></a>3.  appwidget </h4><p>appwidget  view layout </p>\n<figure class=\"highlight xml\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">TextView</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">android:ellipsize</span>=<span class=\"string\">\"marquee\"</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">android:focusable</span>=<span class=\"string\">\"true\"</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">android:focusableInTouchMode</span>=<span class=\"string\">\"true\"</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">android:marqueeRepeatLimit</span>=<span class=\"string\">\"marquee_forever\"</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">android:singleLine</span>=<span class=\"string\">\"true\"</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">requestFocus</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t<span class=\"attr\">android:duplicateParentState</span>=<span class=\"string\">\"true\"</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t<span class=\"attr\">android:focusable</span>=<span class=\"string\">\"true\"</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t<span class=\"attr\">android:focusableInTouchMode</span>=<span class=\"string\">\"true\"</span>/&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">TextView</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>\n<p> TextView  requestFocus </p>"},{"layout":"post","title":"Android JNI ","_content":"\nAndroid JNIJNIJavaJNI\n\n#### \njavajavahwindows cmdlinuxmacsrc\n```shell\n$ javah -d E:\\SourceCode\\Android\\JniTest\\ -jni com.coolerfall.HelloJni\n```\n-dcom.coolerfall.HelloJninativenative\n```java\npublic static native void init();\n```\ncom_coolerfall_player_HelloJni.hcok\n<!-- more -->\n#### \njnijavah\ncinit.c\n```c\n#include <jni.h>\n\nstatic JNINativeMethod g_methods[] = {\n\t{\"init\", \"()V\", (void *)init},\n\t{\"start\", \"(Ljava/lang/String;JJ)V\", (void *)start},\n};\n\nint register_native_methods(JNIEnv* env, const char* class_name,\n\t\tJNINativeMethod* methods, int num_methods)\n{\n\tjclass clazz;\n\tclazz = (*env)->FindClass(env, class_name);\n\tif (clazz == NULL) {\n\t\treturn JNI_FALSE;\n\t}\n\tif ((*env)->RegisterNatives(env, clazz, methods, num_methods) < 0) {\n\t\treturn JNI_FALSE;\n\t}\n\n\treturn JNI_TRUE;\n}\n\njint JNI_OnLoad(JavaVM *vm, void *reserved)\n{\n\tJNIEnv* env = NULL;\n\n\tif ((*vm)->GetEnv(vm, (void **) &env, JNI_VERSION_1_4) != JNI_OK)\n\t{\n\t\treturn 0;\n\t}\n\n\tif (!register_native_methods(env, \"com/coolerfall/HelloJni\", g_methods,\n\t\t\tsizeof(g_methods) / sizeof(g_methods[0])))\n\t{\n\t\treturn 0;\n\t}\n\n\treturn JNI_VERSION_1_4;\n}\n```\nJavaSystem.loadLibrary(\"xxx\")JNI_OnLoadregister_native_methodsJNIregister_native_methodsjniRegisterNativesnativejnijavajninativeg_methods\n\ng_methods[Android JNI][1]\n\n\n[1]: http://coolerfall.com/android/jni-signature/","source":"_posts/2015-07-10-jni_register.md","raw":"---\nlayout: post\ntitle: Android JNI\ncategory: android\ntags: [jni]\n---\n\nAndroid JNIJNIJavaJNI\n\n#### \njavajavahwindows cmdlinuxmacsrc\n```shell\n$ javah -d E:\\SourceCode\\Android\\JniTest\\ -jni com.coolerfall.HelloJni\n```\n-dcom.coolerfall.HelloJninativenative\n```java\npublic static native void init();\n```\ncom_coolerfall_player_HelloJni.hcok\n<!-- more -->\n#### \njnijavah\ncinit.c\n```c\n#include <jni.h>\n\nstatic JNINativeMethod g_methods[] = {\n\t{\"init\", \"()V\", (void *)init},\n\t{\"start\", \"(Ljava/lang/String;JJ)V\", (void *)start},\n};\n\nint register_native_methods(JNIEnv* env, const char* class_name,\n\t\tJNINativeMethod* methods, int num_methods)\n{\n\tjclass clazz;\n\tclazz = (*env)->FindClass(env, class_name);\n\tif (clazz == NULL) {\n\t\treturn JNI_FALSE;\n\t}\n\tif ((*env)->RegisterNatives(env, clazz, methods, num_methods) < 0) {\n\t\treturn JNI_FALSE;\n\t}\n\n\treturn JNI_TRUE;\n}\n\njint JNI_OnLoad(JavaVM *vm, void *reserved)\n{\n\tJNIEnv* env = NULL;\n\n\tif ((*vm)->GetEnv(vm, (void **) &env, JNI_VERSION_1_4) != JNI_OK)\n\t{\n\t\treturn 0;\n\t}\n\n\tif (!register_native_methods(env, \"com/coolerfall/HelloJni\", g_methods,\n\t\t\tsizeof(g_methods) / sizeof(g_methods[0])))\n\t{\n\t\treturn 0;\n\t}\n\n\treturn JNI_VERSION_1_4;\n}\n```\nJavaSystem.loadLibrary(\"xxx\")JNI_OnLoadregister_native_methodsJNIregister_native_methodsjniRegisterNativesnativejnijavajninativeg_methods\n\ng_methods[Android JNI][1]\n\n\n[1]: http://coolerfall.com/android/jni-signature/","slug":"jni_register","published":1,"date":"2015-07-09T16:00:00.000Z","updated":"2023-05-23T06:14:19.364Z","comments":1,"photos":[],"link":"","_id":"cli00ivlv0016z0inc10084mp","content":"<p>Android JNI  JNI Java  JNI </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p> java  javah  windows cmdlinuxmac  src </p>\n<figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">javah -d E:\\SourceCode\\Android\\JniTest\\ -jni com.coolerfall.HelloJni</span></span><br></pre></td></tr></tbody></table></figure>\n<p> - d com.coolerfall.HelloJni  native native </p>\n<figure class=\"highlight java\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">native</span> <span class=\"keyword\">void</span> <span class=\"title function_\">init</span><span class=\"params\">()</span>;</span><br></pre></td></tr></tbody></table></figure>\n<p> com_coolerfall_player_HelloJni.h  c  ok </p>\n<span id=\"more\"></span>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p> jni  javah<br> c  init.c</p>\n<figure class=\"highlight c\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;jni.h&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">static</span> JNINativeMethod g_methods[] = {</span><br><span class=\"line\">\t{<span class=\"string\">\"init\"</span>, <span class=\"string\">\"()V\"</span>, (<span class=\"type\">void</span> *)init},</span><br><span class=\"line\">\t{<span class=\"string\">\"start\"</span>, <span class=\"string\">\"(Ljava/lang/String;JJ)V\"</span>, (<span class=\"type\">void</span> *)start},</span><br><span class=\"line\">};</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">register_native_methods</span><span class=\"params\">(JNIEnv* env, <span class=\"type\">const</span> <span class=\"type\">char</span>* class_name,</span></span><br><span class=\"line\"><span class=\"params\">\t\tJNINativeMethod* methods, <span class=\"type\">int</span> num_methods)</span></span><br><span class=\"line\">{</span><br><span class=\"line\">\tjclass clazz;</span><br><span class=\"line\">\tclazz = (*env)-&gt;FindClass(env, class_name);</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (clazz == <span class=\"literal\">NULL</span>) {</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> JNI_FALSE;</span><br><span class=\"line\">\t}</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> ((*env)-&gt;RegisterNatives(env, clazz, methods, num_methods) &lt; <span class=\"number\">0</span>) {</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> JNI_FALSE;</span><br><span class=\"line\">\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> JNI_TRUE;</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\">jint <span class=\"title function_\">JNI_OnLoad</span><span class=\"params\">(JavaVM *vm, <span class=\"type\">void</span> *reserved)</span></span><br><span class=\"line\">{</span><br><span class=\"line\">\tJNIEnv* env = <span class=\"literal\">NULL</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> ((*vm)-&gt;GetEnv(vm, (<span class=\"type\">void</span> **) &amp;env, JNI_VERSION_1_4) != JNI_OK)</span><br><span class=\"line\">\t{</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (!register_native_methods(env, <span class=\"string\">\"com/coolerfall/HelloJni\"</span>, g_methods,</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">sizeof</span>(g_methods) / <span class=\"keyword\">sizeof</span>(g_methods[<span class=\"number\">0</span>])))</span><br><span class=\"line\">\t{</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> JNI_VERSION_1_4;</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<p>Java  System.loadLibrary (xxx)  JNI_OnLoad  register_native_methods  JNI  register_native_methods  jni  RegisterNatives  native  jni java  jni  native  g_methods </p>\n<p> g_methods  <a href=\"http://coolerfall.com/android/jni-signature/\">Android JNI </a></p>\n","site":{"data":{}},"excerpt":"<p>Android JNI  JNI Java  JNI </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p> java  javah  windows cmdlinuxmac  src </p>\n<figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">javah -d E:\\SourceCode\\Android\\JniTest\\ -jni com.coolerfall.HelloJni</span></span><br></pre></td></tr></tbody></table></figure>\n<p> - d com.coolerfall.HelloJni  native native </p>\n<figure class=\"highlight java\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">native</span> <span class=\"keyword\">void</span> <span class=\"title function_\">init</span><span class=\"params\">()</span>;</span><br></pre></td></tr></tbody></table></figure>\n<p> com_coolerfall_player_HelloJni.h  c  ok </p>","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p> jni  javah<br> c  init.c</p>\n<figure class=\"highlight c\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;jni.h&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">static</span> JNINativeMethod g_methods[] = {</span><br><span class=\"line\">\t{<span class=\"string\">\"init\"</span>, <span class=\"string\">\"()V\"</span>, (<span class=\"type\">void</span> *)init},</span><br><span class=\"line\">\t{<span class=\"string\">\"start\"</span>, <span class=\"string\">\"(Ljava/lang/String;JJ)V\"</span>, (<span class=\"type\">void</span> *)start},</span><br><span class=\"line\">};</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">register_native_methods</span><span class=\"params\">(JNIEnv* env, <span class=\"type\">const</span> <span class=\"type\">char</span>* class_name,</span></span><br><span class=\"line\"><span class=\"params\">\t\tJNINativeMethod* methods, <span class=\"type\">int</span> num_methods)</span></span><br><span class=\"line\">{</span><br><span class=\"line\">\tjclass clazz;</span><br><span class=\"line\">\tclazz = (*env)-&gt;FindClass(env, class_name);</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (clazz == <span class=\"literal\">NULL</span>) {</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> JNI_FALSE;</span><br><span class=\"line\">\t}</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> ((*env)-&gt;RegisterNatives(env, clazz, methods, num_methods) &lt; <span class=\"number\">0</span>) {</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> JNI_FALSE;</span><br><span class=\"line\">\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> JNI_TRUE;</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\">jint <span class=\"title function_\">JNI_OnLoad</span><span class=\"params\">(JavaVM *vm, <span class=\"type\">void</span> *reserved)</span></span><br><span class=\"line\">{</span><br><span class=\"line\">\tJNIEnv* env = <span class=\"literal\">NULL</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> ((*vm)-&gt;GetEnv(vm, (<span class=\"type\">void</span> **) &amp;env, JNI_VERSION_1_4) != JNI_OK)</span><br><span class=\"line\">\t{</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (!register_native_methods(env, <span class=\"string\">\"com/coolerfall/HelloJni\"</span>, g_methods,</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">sizeof</span>(g_methods) / <span class=\"keyword\">sizeof</span>(g_methods[<span class=\"number\">0</span>])))</span><br><span class=\"line\">\t{</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> JNI_VERSION_1_4;</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<p>Java  System.loadLibrary (xxx)  JNI_OnLoad  register_native_methods  JNI  register_native_methods  jni  RegisterNatives  native  jni java  jni  native  g_methods </p>\n<p> g_methods  <a href=\"http://coolerfall.com/android/jni-signature/\">Android JNI </a></p>"},{"layout":"post","title":"Android AppWidget ","_content":"\nAppWidgetAppWidgetviewLayoutAnimation\n<!-- more -->\n`res/anim``fade_in.xml`\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<alpha xmlns:android=\"http://schemas.android.com/apk/res/android\"\n       android:duration=\"1200\"\n       android:fromAlpha=\"0.0\"\n       android:interpolator=\"@android:anim/accelerate_interpolator\"\n       android:toAlpha=\"0.8\"/>\n```\nlayoutAnimation`widget_fade_in.xml`\n```xml\n<layoutAnimation xmlns:android=\"http://schemas.android.com/apk/res/android\"\n                 android:animation=\"@anim/fade_in\"/>\n```\nAppWidgetAppWidget`widget_layout.xml`\n```xml\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"@color/widget_bg\">\n\n    <RelativeLayout\n        android:id=\"@+id/widget_layout_iv\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_gravity=\"center\"\n        android:layoutAnimation=\"@anim/widget_fade_in\">\n\n        <ImageView\n            android:id=\"@+id/widget_iv\"\n            android:layout_width=\"100.0dip\"\n            android:layout_height=\"100.0dip\"\n            android:layout_centerInParent=\"true\"/>\n\n    </RelativeLayout>\n\n    <TextView\n        android:id=\"@+id/widget_tv\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"@string/app_name\">\n    </TextView>\n\n</LinearLayout>\n```\nImageViewlayoutlayout`android:layoutAnimation=\"@anim/widget_fade_in\"`ImageViewlayoutAppWidgetAppWidgetRemoteViewsremoveAllViewsaddViewAppWidgetlayoutlayout`widget_image.xml`:\n```xml\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:id=\"@+id/widget_layout_iv\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_gravity=\"center\"\n    android:layoutAnimation=\"@anim/widget_fade_in\">\n\n    <ImageView\n        android:id=\"@+id/widget_iv\"\n        android:layout_width=\"100.0dip\"\n        android:layout_height=\"100.0dip\"\n        android:layout_centerInParent=\"true\"/>\n\n</RelativeLayout>\n```\n`widget_layout.xml`layout\nAppWidgetProviderremoveAllViewsaddView\n```java\npublic class ExampleWidget extends AppWidgetProvider {\n\t@Override\n\tpublic void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {\n\t\tupdateWidget(context, appWidgetManager, appWidgetIds);\n\t}\n\n\tpublic static void updateWidget(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {\n\t\tString pkgName = context.getPackageName();\n\t\tRemoteViews views = new RemoteViews(pkgName, R.layout.widget_layout);\n\t\tRemoteViews subView = new RemoteViews(pkgName, R.layout.widget_image);\n\t\tviews.removeAllViews(R.id.widget_layout);\n\t\tviews.addView(R.id.widget_layout, subView);\n\t}\n}\n```\nActivityService`updateWidget`","source":"_posts/2015-07-27-app-widget-animation.md","raw":"---\nlayout: post\ntitle: Android AppWidget\ncategory: android\ntags: [animation]\n---\n\nAppWidgetAppWidgetviewLayoutAnimation\n<!-- more -->\n`res/anim``fade_in.xml`\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<alpha xmlns:android=\"http://schemas.android.com/apk/res/android\"\n       android:duration=\"1200\"\n       android:fromAlpha=\"0.0\"\n       android:interpolator=\"@android:anim/accelerate_interpolator\"\n       android:toAlpha=\"0.8\"/>\n```\nlayoutAnimation`widget_fade_in.xml`\n```xml\n<layoutAnimation xmlns:android=\"http://schemas.android.com/apk/res/android\"\n                 android:animation=\"@anim/fade_in\"/>\n```\nAppWidgetAppWidget`widget_layout.xml`\n```xml\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"@color/widget_bg\">\n\n    <RelativeLayout\n        android:id=\"@+id/widget_layout_iv\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_gravity=\"center\"\n        android:layoutAnimation=\"@anim/widget_fade_in\">\n\n        <ImageView\n            android:id=\"@+id/widget_iv\"\n            android:layout_width=\"100.0dip\"\n            android:layout_height=\"100.0dip\"\n            android:layout_centerInParent=\"true\"/>\n\n    </RelativeLayout>\n\n    <TextView\n        android:id=\"@+id/widget_tv\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"@string/app_name\">\n    </TextView>\n\n</LinearLayout>\n```\nImageViewlayoutlayout`android:layoutAnimation=\"@anim/widget_fade_in\"`ImageViewlayoutAppWidgetAppWidgetRemoteViewsremoveAllViewsaddViewAppWidgetlayoutlayout`widget_image.xml`:\n```xml\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:id=\"@+id/widget_layout_iv\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_gravity=\"center\"\n    android:layoutAnimation=\"@anim/widget_fade_in\">\n\n    <ImageView\n        android:id=\"@+id/widget_iv\"\n        android:layout_width=\"100.0dip\"\n        android:layout_height=\"100.0dip\"\n        android:layout_centerInParent=\"true\"/>\n\n</RelativeLayout>\n```\n`widget_layout.xml`layout\nAppWidgetProviderremoveAllViewsaddView\n```java\npublic class ExampleWidget extends AppWidgetProvider {\n\t@Override\n\tpublic void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {\n\t\tupdateWidget(context, appWidgetManager, appWidgetIds);\n\t}\n\n\tpublic static void updateWidget(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {\n\t\tString pkgName = context.getPackageName();\n\t\tRemoteViews views = new RemoteViews(pkgName, R.layout.widget_layout);\n\t\tRemoteViews subView = new RemoteViews(pkgName, R.layout.widget_image);\n\t\tviews.removeAllViews(R.id.widget_layout);\n\t\tviews.addView(R.id.widget_layout, subView);\n\t}\n}\n```\nActivityService`updateWidget`","slug":"app-widget-animation","published":1,"date":"2015-07-26T16:00:00.000Z","updated":"2023-05-23T06:14:41.857Z","comments":1,"photos":[],"link":"","_id":"cli00ivlw0019z0ind6g41nw2","content":"<p> AppWidget  AppWidget  view  LayoutAnimation </p>\n<span id=\"more\"></span>\n<p> <code>res/anim</code>  <code>fade_in.xml</code></p>\n<figure class=\"highlight xml\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=<span class=\"string\">\"1.0\"</span> encoding=<span class=\"string\">\"utf-8\"</span>?&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">alpha</span> <span class=\"attr\">xmlns:android</span>=<span class=\"string\">\"http://schemas.android.com/apk/res/android\"</span></span></span><br><span class=\"line\"><span class=\"tag\">       <span class=\"attr\">android:duration</span>=<span class=\"string\">\"1200\"</span></span></span><br><span class=\"line\"><span class=\"tag\">       <span class=\"attr\">android:fromAlpha</span>=<span class=\"string\">\"0.0\"</span></span></span><br><span class=\"line\"><span class=\"tag\">       <span class=\"attr\">android:interpolator</span>=<span class=\"string\">\"@android:anim/accelerate_interpolator\"</span></span></span><br><span class=\"line\"><span class=\"tag\">       <span class=\"attr\">android:toAlpha</span>=<span class=\"string\">\"0.8\"</span>/&gt;</span></span><br></pre></td></tr></tbody></table></figure>\n<p> layoutAnimation<code>widget_fade_in.xml</code></p>\n<figure class=\"highlight xml\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">layoutAnimation</span> <span class=\"attr\">xmlns:android</span>=<span class=\"string\">\"http://schemas.android.com/apk/res/android\"</span></span></span><br><span class=\"line\"><span class=\"tag\">                 <span class=\"attr\">android:animation</span>=<span class=\"string\">\"@anim/fade_in\"</span>/&gt;</span></span><br></pre></td></tr></tbody></table></figure>\n<p> AppWidget  AppWidget <code>widget_layout.xml</code> </p>\n<figure class=\"highlight xml\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">LinearLayout</span> <span class=\"attr\">xmlns:android</span>=<span class=\"string\">\"http://schemas.android.com/apk/res/android\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:background</span>=<span class=\"string\">\"@color/widget_bg\"</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">RelativeLayout</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/widget_layout_iv\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_gravity</span>=<span class=\"string\">\"center\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layoutAnimation</span>=<span class=\"string\">\"@anim/widget_fade_in\"</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">ImageView</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/widget_iv\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"100.0dip\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"100.0dip\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:layout_centerInParent</span>=<span class=\"string\">\"true\"</span>/&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">RelativeLayout</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">TextView</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/widget_tv\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:text</span>=<span class=\"string\">\"@string/app_name\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">TextView</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">LinearLayout</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>\n<p> ImageView  layout  layout  <code>android:layoutAnimation=\"@anim/widget_fade_in\"</code> ImageView  layout  AppWidget  AppWidget  RemoteViews  removeAllViews  addView  AppWidget  layout  layout  <code>widget_image.xml</code>:</p>\n<figure class=\"highlight xml\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">RelativeLayout</span> <span class=\"attr\">xmlns:android</span>=<span class=\"string\">\"http://schemas.android.com/apk/res/android\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/widget_layout_iv\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:layout_gravity</span>=<span class=\"string\">\"center\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:layoutAnimation</span>=<span class=\"string\">\"@anim/widget_fade_in\"</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">ImageView</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/widget_iv\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"100.0dip\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"100.0dip\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_centerInParent</span>=<span class=\"string\">\"true\"</span>/&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">RelativeLayout</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>\n<p> <code>widget_layout.xml</code>  layout <br> AppWidgetProvider  removeAllViews  addView </p>\n<figure class=\"highlight java\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">ExampleWidget</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">AppWidgetProvider</span> {</span><br><span class=\"line\">\t<span class=\"meta\">@Override</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">onUpdate</span><span class=\"params\">(Context context, AppWidgetManager appWidgetManager, <span class=\"type\">int</span>[] appWidgetIds)</span> {</span><br><span class=\"line\">\t\tupdateWidget(context, appWidgetManager, appWidgetIds);</span><br><span class=\"line\">\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">updateWidget</span><span class=\"params\">(Context context, AppWidgetManager appWidgetManager, <span class=\"type\">int</span>[] appWidgetIds)</span> {</span><br><span class=\"line\">\t\t<span class=\"type\">String</span> <span class=\"variable\">pkgName</span> <span class=\"operator\">=</span> context.getPackageName();</span><br><span class=\"line\">\t\t<span class=\"type\">RemoteViews</span> <span class=\"variable\">views</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">RemoteViews</span>(pkgName, R.layout.widget_layout);</span><br><span class=\"line\">\t\t<span class=\"type\">RemoteViews</span> <span class=\"variable\">subView</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">RemoteViews</span>(pkgName, R.layout.widget_image);</span><br><span class=\"line\">\t\tviews.removeAllViews(R.id.widget_layout);</span><br><span class=\"line\">\t\tviews.addView(R.id.widget_layout, subView);</span><br><span class=\"line\">\t}</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<p> Activity  Service  <code>updateWidget</code> </p>\n","site":{"data":{}},"excerpt":"<p> AppWidget  AppWidget  view  LayoutAnimation </p>","more":"<p> <code>res/anim</code>  <code>fade_in.xml</code></p>\n<figure class=\"highlight xml\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=<span class=\"string\">\"1.0\"</span> encoding=<span class=\"string\">\"utf-8\"</span>?&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">alpha</span> <span class=\"attr\">xmlns:android</span>=<span class=\"string\">\"http://schemas.android.com/apk/res/android\"</span></span></span><br><span class=\"line\"><span class=\"tag\">       <span class=\"attr\">android:duration</span>=<span class=\"string\">\"1200\"</span></span></span><br><span class=\"line\"><span class=\"tag\">       <span class=\"attr\">android:fromAlpha</span>=<span class=\"string\">\"0.0\"</span></span></span><br><span class=\"line\"><span class=\"tag\">       <span class=\"attr\">android:interpolator</span>=<span class=\"string\">\"@android:anim/accelerate_interpolator\"</span></span></span><br><span class=\"line\"><span class=\"tag\">       <span class=\"attr\">android:toAlpha</span>=<span class=\"string\">\"0.8\"</span>/&gt;</span></span><br></pre></td></tr></tbody></table></figure>\n<p> layoutAnimation<code>widget_fade_in.xml</code></p>\n<figure class=\"highlight xml\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">layoutAnimation</span> <span class=\"attr\">xmlns:android</span>=<span class=\"string\">\"http://schemas.android.com/apk/res/android\"</span></span></span><br><span class=\"line\"><span class=\"tag\">                 <span class=\"attr\">android:animation</span>=<span class=\"string\">\"@anim/fade_in\"</span>/&gt;</span></span><br></pre></td></tr></tbody></table></figure>\n<p> AppWidget  AppWidget <code>widget_layout.xml</code> </p>\n<figure class=\"highlight xml\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">LinearLayout</span> <span class=\"attr\">xmlns:android</span>=<span class=\"string\">\"http://schemas.android.com/apk/res/android\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:background</span>=<span class=\"string\">\"@color/widget_bg\"</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">RelativeLayout</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/widget_layout_iv\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_gravity</span>=<span class=\"string\">\"center\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layoutAnimation</span>=<span class=\"string\">\"@anim/widget_fade_in\"</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">ImageView</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/widget_iv\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"100.0dip\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"100.0dip\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:layout_centerInParent</span>=<span class=\"string\">\"true\"</span>/&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">RelativeLayout</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">TextView</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/widget_tv\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:text</span>=<span class=\"string\">\"@string/app_name\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">TextView</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">LinearLayout</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>\n<p> ImageView  layout  layout  <code>android:layoutAnimation=\"@anim/widget_fade_in\"</code> ImageView  layout  AppWidget  AppWidget  RemoteViews  removeAllViews  addView  AppWidget  layout  layout  <code>widget_image.xml</code>:</p>\n<figure class=\"highlight xml\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">RelativeLayout</span> <span class=\"attr\">xmlns:android</span>=<span class=\"string\">\"http://schemas.android.com/apk/res/android\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/widget_layout_iv\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:layout_gravity</span>=<span class=\"string\">\"center\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:layoutAnimation</span>=<span class=\"string\">\"@anim/widget_fade_in\"</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">ImageView</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/widget_iv\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"100.0dip\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"100.0dip\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_centerInParent</span>=<span class=\"string\">\"true\"</span>/&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">RelativeLayout</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>\n<p> <code>widget_layout.xml</code>  layout <br> AppWidgetProvider  removeAllViews  addView </p>\n<figure class=\"highlight java\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">ExampleWidget</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">AppWidgetProvider</span> {</span><br><span class=\"line\">\t<span class=\"meta\">@Override</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">onUpdate</span><span class=\"params\">(Context context, AppWidgetManager appWidgetManager, <span class=\"type\">int</span>[] appWidgetIds)</span> {</span><br><span class=\"line\">\t\tupdateWidget(context, appWidgetManager, appWidgetIds);</span><br><span class=\"line\">\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">updateWidget</span><span class=\"params\">(Context context, AppWidgetManager appWidgetManager, <span class=\"type\">int</span>[] appWidgetIds)</span> {</span><br><span class=\"line\">\t\t<span class=\"type\">String</span> <span class=\"variable\">pkgName</span> <span class=\"operator\">=</span> context.getPackageName();</span><br><span class=\"line\">\t\t<span class=\"type\">RemoteViews</span> <span class=\"variable\">views</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">RemoteViews</span>(pkgName, R.layout.widget_layout);</span><br><span class=\"line\">\t\t<span class=\"type\">RemoteViews</span> <span class=\"variable\">subView</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">RemoteViews</span>(pkgName, R.layout.widget_image);</span><br><span class=\"line\">\t\tviews.removeAllViews(R.id.widget_layout);</span><br><span class=\"line\">\t\tviews.addView(R.id.widget_layout, subView);</span><br><span class=\"line\">\t}</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<p> Activity  Service  <code>updateWidget</code> </p>"},{"layout":"post","title":"Error: The output jar is empty. Did you specify the proper '-keep' options","_content":"\nAndroid libproguard`Error: The output jar is empty. Did you specify the proper '-keep' options`\"lib`-dontshrink`","source":"_posts/2015-11-20-proguard-shrink-error.md","raw":"---\nlayout: post\ntitle: \"Error: The output jar is empty. Did you specify the proper '-keep' options\"\ncategory: android\ntags: [proguard]\n---\n\nAndroid libproguard`Error: The output jar is empty. Did you specify the proper '-keep' options`\"lib`-dontshrink`","slug":"proguard-shrink-error","published":1,"date":"2015-11-19T16:00:00.000Z","updated":"2023-05-23T06:14:45.100Z","comments":1,"photos":[],"link":"","_id":"cli00ivlx001dz0in5o0veoqq","content":"<p> Android lib  proguard  <code>Error: The output jar is empty. Did you specify the proper '-keep' options</code>   lib  <code>-dontshrink</code> </p>\n","site":{"data":{}},"excerpt":"","more":"<p> Android lib  proguard  <code>Error: The output jar is empty. Did you specify the proper '-keep' options</code>   lib  <code>-dontshrink</code> </p>\n"},{"layout":"post","title":"Java  hash ","_content":"\nAndroidhashhashkeyhash\n <!-- more -->\nhash\n```java\npublic static String md5(String origin) {\n\ttry {\n\t\tMessageDigest md = MessageDigest.getInstance(\"MD5\");\n\t\tmd.update(origin.getBytes(\"UTF-8\"));\n\t\tBigInteger bi = new BigInteger(1, md.digest());\n\n\t\treturn bi.toString(16);\n\t} catch (Exception e) {\n\t\treturn \"\";\n\t}\n}\n```\nutf-8bytephpgo\nhash\n```java\npublic static String fileHash(String filePath) {\n\tFile file = new File(filePath);\n\tif (file == null || !file.exists()) {\n\t\treturn NULL;\n\t}\n\n\tString result = NULL;\n\tFileInputStream fis = null;\n\n\ttry {\n\t\tfis = new FileInputStream(file);\n\t\tMappedByteBuffer mbf = fis.getChannel().map(\n\t\t\t\tFileChannel.MapMode.READ_ONLY, 0, file.length());\n\t\tMessageDigest md = MessageDigest.getInstance(\"MD5\");\n\t\tmd.update(mbf);\n\t\tBigInteger bi = new BigInteger(1, md.digest());\n\t\tresult = bi.toString(16);\n\t} catch (Exception e) {\n\t\treturn NULL;\n\t} finally {\n\t\tif (fis != null) {\n\t\t\ttry {\n\t\t\t\tfis.close();\n\t\t\t} catch (IOException e) {\n\t\t\t\t/* ignore */\n\t\t\t}\n\t\t}\n\t}\n\n\treturn result;\n}\n```\n\n\nsha1sha256`MessageDigest.getInstance(\"MD5\")`gohash[go-hash][1]\n\n[1]: http://coolerfall.com/go/golang-hash","source":"_posts/2015-07-24-java-hash.md","raw":"---\nlayout: post\ntitle: Javahash\ncategory: android\ntags: [hash]\n---\n\nAndroidhashhashkeyhash\n <!-- more -->\nhash\n```java\npublic static String md5(String origin) {\n\ttry {\n\t\tMessageDigest md = MessageDigest.getInstance(\"MD5\");\n\t\tmd.update(origin.getBytes(\"UTF-8\"));\n\t\tBigInteger bi = new BigInteger(1, md.digest());\n\n\t\treturn bi.toString(16);\n\t} catch (Exception e) {\n\t\treturn \"\";\n\t}\n}\n```\nutf-8bytephpgo\nhash\n```java\npublic static String fileHash(String filePath) {\n\tFile file = new File(filePath);\n\tif (file == null || !file.exists()) {\n\t\treturn NULL;\n\t}\n\n\tString result = NULL;\n\tFileInputStream fis = null;\n\n\ttry {\n\t\tfis = new FileInputStream(file);\n\t\tMappedByteBuffer mbf = fis.getChannel().map(\n\t\t\t\tFileChannel.MapMode.READ_ONLY, 0, file.length());\n\t\tMessageDigest md = MessageDigest.getInstance(\"MD5\");\n\t\tmd.update(mbf);\n\t\tBigInteger bi = new BigInteger(1, md.digest());\n\t\tresult = bi.toString(16);\n\t} catch (Exception e) {\n\t\treturn NULL;\n\t} finally {\n\t\tif (fis != null) {\n\t\t\ttry {\n\t\t\t\tfis.close();\n\t\t\t} catch (IOException e) {\n\t\t\t\t/* ignore */\n\t\t\t}\n\t\t}\n\t}\n\n\treturn result;\n}\n```\n\n\nsha1sha256`MessageDigest.getInstance(\"MD5\")`gohash[go-hash][1]\n\n[1]: http://coolerfall.com/go/golang-hash","slug":"java-hash","published":1,"date":"2015-07-23T16:00:00.000Z","updated":"2023-05-23T06:14:39.000Z","comments":1,"photos":[],"link":"","_id":"cli00ivly001hz0in5f88biz9","content":"<p>Android  hash  hash  key  hash <br> <span id=\"more\"></span><br> hash </p>\n<figure class=\"highlight java\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> String <span class=\"title function_\">md5</span><span class=\"params\">(String origin)</span> {</span><br><span class=\"line\">\t<span class=\"keyword\">try</span> {</span><br><span class=\"line\">\t\t<span class=\"type\">MessageDigest</span> <span class=\"variable\">md</span> <span class=\"operator\">=</span> MessageDigest.getInstance(<span class=\"string\">\"MD5\"</span>);</span><br><span class=\"line\">\t\tmd.update(origin.getBytes(<span class=\"string\">\"UTF-8\"</span>));</span><br><span class=\"line\">\t\t<span class=\"type\">BigInteger</span> <span class=\"variable\">bi</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">BigInteger</span>(<span class=\"number\">1</span>, md.digest());</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> bi.toString(<span class=\"number\">16</span>);</span><br><span class=\"line\">\t} <span class=\"keyword\">catch</span> (Exception e) {</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">\t}</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<p> utf-8  byte php  go<br> hash </p>\n<figure class=\"highlight java\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> String <span class=\"title function_\">fileHash</span><span class=\"params\">(String filePath)</span> {</span><br><span class=\"line\">\t<span class=\"type\">File</span> <span class=\"variable\">file</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">File</span>(filePath);</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (file == <span class=\"literal\">null</span> || !file.exists()) {</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> NULL;</span><br><span class=\"line\">\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"type\">String</span> <span class=\"variable\">result</span> <span class=\"operator\">=</span> NULL;</span><br><span class=\"line\">\t<span class=\"type\">FileInputStream</span> <span class=\"variable\">fis</span> <span class=\"operator\">=</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">try</span> {</span><br><span class=\"line\">\t\tfis = <span class=\"keyword\">new</span> <span class=\"title class_\">FileInputStream</span>(file);</span><br><span class=\"line\">\t\t<span class=\"type\">MappedByteBuffer</span> <span class=\"variable\">mbf</span> <span class=\"operator\">=</span> fis.getChannel().map(</span><br><span class=\"line\">\t\t\t\tFileChannel.MapMode.READ_ONLY, <span class=\"number\">0</span>, file.length());</span><br><span class=\"line\">\t\t<span class=\"type\">MessageDigest</span> <span class=\"variable\">md</span> <span class=\"operator\">=</span> MessageDigest.getInstance(<span class=\"string\">\"MD5\"</span>);</span><br><span class=\"line\">\t\tmd.update(mbf);</span><br><span class=\"line\">\t\t<span class=\"type\">BigInteger</span> <span class=\"variable\">bi</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">BigInteger</span>(<span class=\"number\">1</span>, md.digest());</span><br><span class=\"line\">\t\tresult = bi.toString(<span class=\"number\">16</span>);</span><br><span class=\"line\">\t} <span class=\"keyword\">catch</span> (Exception e) {</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> NULL;</span><br><span class=\"line\">\t} <span class=\"keyword\">finally</span> {</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (fis != <span class=\"literal\">null</span>) {</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">try</span> {</span><br><span class=\"line\">\t\t\t\tfis.close();</span><br><span class=\"line\">\t\t\t} <span class=\"keyword\">catch</span> (IOException e) {</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">/* ignore */</span></span><br><span class=\"line\">\t\t\t}</span><br><span class=\"line\">\t\t}</span><br><span class=\"line\">\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> result;</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<p></p>\n<p>sha1  sha256  <code>MessageDigest.getInstance(\"MD5\")</code> go  hash  <a href=\"http://coolerfall.com/go/golang-hash\">go-hash</a></p>\n","site":{"data":{}},"excerpt":"<p>Android  hash  hash  key  hash <br>","more":"<br> hash </p>\n<figure class=\"highlight java\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> String <span class=\"title function_\">md5</span><span class=\"params\">(String origin)</span> {</span><br><span class=\"line\">\t<span class=\"keyword\">try</span> {</span><br><span class=\"line\">\t\t<span class=\"type\">MessageDigest</span> <span class=\"variable\">md</span> <span class=\"operator\">=</span> MessageDigest.getInstance(<span class=\"string\">\"MD5\"</span>);</span><br><span class=\"line\">\t\tmd.update(origin.getBytes(<span class=\"string\">\"UTF-8\"</span>));</span><br><span class=\"line\">\t\t<span class=\"type\">BigInteger</span> <span class=\"variable\">bi</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">BigInteger</span>(<span class=\"number\">1</span>, md.digest());</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> bi.toString(<span class=\"number\">16</span>);</span><br><span class=\"line\">\t} <span class=\"keyword\">catch</span> (Exception e) {</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">\t}</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<p> utf-8  byte php  go<br> hash </p>\n<figure class=\"highlight java\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> String <span class=\"title function_\">fileHash</span><span class=\"params\">(String filePath)</span> {</span><br><span class=\"line\">\t<span class=\"type\">File</span> <span class=\"variable\">file</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">File</span>(filePath);</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (file == <span class=\"literal\">null</span> || !file.exists()) {</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> NULL;</span><br><span class=\"line\">\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"type\">String</span> <span class=\"variable\">result</span> <span class=\"operator\">=</span> NULL;</span><br><span class=\"line\">\t<span class=\"type\">FileInputStream</span> <span class=\"variable\">fis</span> <span class=\"operator\">=</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">try</span> {</span><br><span class=\"line\">\t\tfis = <span class=\"keyword\">new</span> <span class=\"title class_\">FileInputStream</span>(file);</span><br><span class=\"line\">\t\t<span class=\"type\">MappedByteBuffer</span> <span class=\"variable\">mbf</span> <span class=\"operator\">=</span> fis.getChannel().map(</span><br><span class=\"line\">\t\t\t\tFileChannel.MapMode.READ_ONLY, <span class=\"number\">0</span>, file.length());</span><br><span class=\"line\">\t\t<span class=\"type\">MessageDigest</span> <span class=\"variable\">md</span> <span class=\"operator\">=</span> MessageDigest.getInstance(<span class=\"string\">\"MD5\"</span>);</span><br><span class=\"line\">\t\tmd.update(mbf);</span><br><span class=\"line\">\t\t<span class=\"type\">BigInteger</span> <span class=\"variable\">bi</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">BigInteger</span>(<span class=\"number\">1</span>, md.digest());</span><br><span class=\"line\">\t\tresult = bi.toString(<span class=\"number\">16</span>);</span><br><span class=\"line\">\t} <span class=\"keyword\">catch</span> (Exception e) {</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> NULL;</span><br><span class=\"line\">\t} <span class=\"keyword\">finally</span> {</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (fis != <span class=\"literal\">null</span>) {</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">try</span> {</span><br><span class=\"line\">\t\t\t\tfis.close();</span><br><span class=\"line\">\t\t\t} <span class=\"keyword\">catch</span> (IOException e) {</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">/* ignore */</span></span><br><span class=\"line\">\t\t\t}</span><br><span class=\"line\">\t\t}</span><br><span class=\"line\">\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> result;</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<p></p>\n<p>sha1  sha256  <code>MessageDigest.getInstance(\"MD5\")</code> go  hash  <a href=\"http://coolerfall.com/go/golang-hash\">go-hash</a></p>"},{"layout":"post","title":" MediaSessionCompat  Media Button ","_content":"\nAPI21:\n```java\nAudioManager.reregisterMediaButtonEventReceiver(ComponentName eventReceiver)\n```\nSDKAPIMediaSession\n<!-- more -->\nAPI21[][1]MediaSessionapiandroid.support.v4.media.session.MediaSessionCompat\n```java\n/**\n * Creates a new session.\n *\n * @param context The context.\n * @param tag A short name for debugging purposes.\n * @param mediaButtonEventReceiver The component name for your receiver.\n *            If null, this will attempt to find an appropriate\n *            {@link BroadcastReceiver} that handles\n *            {@link Intent#ACTION_MEDIA_BUTTON} from your manifest.\n *            A receiver is required to support platform versions earlier\n *            than {@link android.os.Build.VERSION_CODES#LOLLIPOP}.\n * @param mbrIntent The PendingIntent for your receiver component that\n *            handles media button events. This is optional and will be used\n *            on {@link android.os.Build.VERSION_CODES#JELLY_BEAN_MR2} and\n *            later instead of the component name.\n */\npublic MediaSessionCompat(Context context, String tag, ComponentName mediaButtonEventReceiver,\n            PendingIntent mbrIntent) {\n```\nMediaSessionCompatMedia ButtoncontextmediaButtonEventReceivertagmbrIntentnullAPI21MediaButtonReceiver\n```java\npublic class MediaButtonReceiver extends BroadcastReceiver {\n\t@Override\n\tpublic void onReceive(Context context, Intent intent) {\n\t\tif (!Intent.ACTION_MEDIA_BUTTON.equals(intent.getAction())) {\n\t\t\treturn;\n\t\t}\n\n\t\tKeyEvent event = intent.getParcelableExtra(Intent.EXTRA_KEY_EVENT);\n\t\tif (event == null || event.getAction() != KeyEvent.ACTION_UP) {\n\t\t\treturn;\n\t\t}\n\n\t\t// do something\n\t}\n}\n```\nnewMediaSessionCompat\n```java\npublic class PlayerService extends Service {\n\tprivate MediaSessionCompat mMediaSession;\n\t\n\t@Override\n\tpublic void onCreate() {\n\t\tsuper.onCreate();\n\n\t\tComponentName mbr = new ComponentName(getPackageName(), MediaButtonReceiver.class.getName());\n\t\tmMediaSession = new MediaSessionCompat(this, \"mbr\", mbr, null);\n\t\t/* set flags to handle media buttons */\n\t\tmMediaSession.setFlags(MediaSessionCompat.FLAG_HANDLES_MEDIA_BUTTONS | \n\t\t\tMediaSessionCompat.FLAG_HANDLES_TRANSPORT_CONTROLS);\n\n\t\t/* this is need after Lolipop */\n\t\tmMediaSession.setCallback(new MediaSessionCompat.Callback() {\n\t\t\t@Override\n\t\t\tpublic boolean onMediaButtonEvent(Intent intent) {\n\t\t\t\tif (!Intent.ACTION_MEDIA_BUTTON.equals(intent.getAction())) {\n\t\t\t\t\treturn super.onMediaButtonEvent(intent);\n\t\t\t\t}\n\n\t\t\t\tKeyEvent event = intent.getParcelableExtra(Intent.EXTRA_KEY_EVENT);\n\t\t\t\tif (event == null || event.getAction() != KeyEvent.ACTION_UP) {\n\t\t\t\t\treturn super.onMediaButtonEvent(intent);\n\t\t\t\t}\n\n\t\t\t\t// do something\n\n\t\t\t\treturn true;\n\t\t\t}\n\t\t});\n\n\t\t/* to make sure the media session is active */\n\t\tif (!mMediaSession.isActive()) {\n\t\t\tmMediaSession.setActive(true);\n\t\t}\n\t}\n\n\t@Override\n\tpublic void onDestroy() {\n\t\tmMediaSession.release();\n\t}\n}\n```\nAPI21manifestMediaButtonReceiver\n```java\n<receiver android:name=\"com.coolerfall.managers.receivers.MediaButtonReceiver\">\n    <intent-filter>\n        <action android:name=\"android.intent.action.MEDIA_BUTTON\"/>\n    </intent-filter>\n</receiver>\n```\nAPI21\n\nPS: API21MediaButtonReceiverAPI21MediaSessionCompat.setCallbackMediaSessionCompatAPI21callbackmedia button\n\n[1]: http://blog.csdn.net/qinjuning/article/details/6938436","source":"_posts/2016-01-06-media-session-compat.md","raw":"---\nlayout: post\ntitle: MediaSessionCompatMedia Button\ncategory: android\ntags: [media]\n---\n\nAPI21:\n```java\nAudioManager.reregisterMediaButtonEventReceiver(ComponentName eventReceiver)\n```\nSDKAPIMediaSession\n<!-- more -->\nAPI21[][1]MediaSessionapiandroid.support.v4.media.session.MediaSessionCompat\n```java\n/**\n * Creates a new session.\n *\n * @param context The context.\n * @param tag A short name for debugging purposes.\n * @param mediaButtonEventReceiver The component name for your receiver.\n *            If null, this will attempt to find an appropriate\n *            {@link BroadcastReceiver} that handles\n *            {@link Intent#ACTION_MEDIA_BUTTON} from your manifest.\n *            A receiver is required to support platform versions earlier\n *            than {@link android.os.Build.VERSION_CODES#LOLLIPOP}.\n * @param mbrIntent The PendingIntent for your receiver component that\n *            handles media button events. This is optional and will be used\n *            on {@link android.os.Build.VERSION_CODES#JELLY_BEAN_MR2} and\n *            later instead of the component name.\n */\npublic MediaSessionCompat(Context context, String tag, ComponentName mediaButtonEventReceiver,\n            PendingIntent mbrIntent) {\n```\nMediaSessionCompatMedia ButtoncontextmediaButtonEventReceivertagmbrIntentnullAPI21MediaButtonReceiver\n```java\npublic class MediaButtonReceiver extends BroadcastReceiver {\n\t@Override\n\tpublic void onReceive(Context context, Intent intent) {\n\t\tif (!Intent.ACTION_MEDIA_BUTTON.equals(intent.getAction())) {\n\t\t\treturn;\n\t\t}\n\n\t\tKeyEvent event = intent.getParcelableExtra(Intent.EXTRA_KEY_EVENT);\n\t\tif (event == null || event.getAction() != KeyEvent.ACTION_UP) {\n\t\t\treturn;\n\t\t}\n\n\t\t// do something\n\t}\n}\n```\nnewMediaSessionCompat\n```java\npublic class PlayerService extends Service {\n\tprivate MediaSessionCompat mMediaSession;\n\t\n\t@Override\n\tpublic void onCreate() {\n\t\tsuper.onCreate();\n\n\t\tComponentName mbr = new ComponentName(getPackageName(), MediaButtonReceiver.class.getName());\n\t\tmMediaSession = new MediaSessionCompat(this, \"mbr\", mbr, null);\n\t\t/* set flags to handle media buttons */\n\t\tmMediaSession.setFlags(MediaSessionCompat.FLAG_HANDLES_MEDIA_BUTTONS | \n\t\t\tMediaSessionCompat.FLAG_HANDLES_TRANSPORT_CONTROLS);\n\n\t\t/* this is need after Lolipop */\n\t\tmMediaSession.setCallback(new MediaSessionCompat.Callback() {\n\t\t\t@Override\n\t\t\tpublic boolean onMediaButtonEvent(Intent intent) {\n\t\t\t\tif (!Intent.ACTION_MEDIA_BUTTON.equals(intent.getAction())) {\n\t\t\t\t\treturn super.onMediaButtonEvent(intent);\n\t\t\t\t}\n\n\t\t\t\tKeyEvent event = intent.getParcelableExtra(Intent.EXTRA_KEY_EVENT);\n\t\t\t\tif (event == null || event.getAction() != KeyEvent.ACTION_UP) {\n\t\t\t\t\treturn super.onMediaButtonEvent(intent);\n\t\t\t\t}\n\n\t\t\t\t// do something\n\n\t\t\t\treturn true;\n\t\t\t}\n\t\t});\n\n\t\t/* to make sure the media session is active */\n\t\tif (!mMediaSession.isActive()) {\n\t\t\tmMediaSession.setActive(true);\n\t\t}\n\t}\n\n\t@Override\n\tpublic void onDestroy() {\n\t\tmMediaSession.release();\n\t}\n}\n```\nAPI21manifestMediaButtonReceiver\n```java\n<receiver android:name=\"com.coolerfall.managers.receivers.MediaButtonReceiver\">\n    <intent-filter>\n        <action android:name=\"android.intent.action.MEDIA_BUTTON\"/>\n    </intent-filter>\n</receiver>\n```\nAPI21\n\nPS: API21MediaButtonReceiverAPI21MediaSessionCompat.setCallbackMediaSessionCompatAPI21callbackmedia button\n\n[1]: http://blog.csdn.net/qinjuning/article/details/6938436","slug":"media-session-compat","published":1,"date":"2016-01-05T16:00:00.000Z","updated":"2023-05-23T06:14:48.363Z","comments":1,"photos":[],"link":"","_id":"cli00ivly001kz0in9ia6h8zm","content":"<p> API21 :</p>\n<figure class=\"highlight java\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">AudioManager.reregisterMediaButtonEventReceiver(ComponentName eventReceiver)</span><br></pre></td></tr></tbody></table></figure>\n<p> SDK  API  MediaSession </p>\n<span id=\"more\"></span>\n<p>API21 <a href=\"http://blog.csdn.net/qinjuning/article/details/6938436\"></a> MediaSession  api  android.support.v4.media.session.MediaSessionCompat</p>\n<figure class=\"highlight java\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Creates a new session.</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> context The context.</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> tag A short name for debugging purposes.</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> mediaButtonEventReceiver The component name for your receiver.</span></span><br><span class=\"line\"><span class=\"comment\"> *            If null, this will attempt to find an appropriate</span></span><br><span class=\"line\"><span class=\"comment\"> *            {<span class=\"doctag\">@link</span> BroadcastReceiver} that handles</span></span><br><span class=\"line\"><span class=\"comment\"> *            {<span class=\"doctag\">@link</span> Intent#ACTION_MEDIA_BUTTON} from your manifest.</span></span><br><span class=\"line\"><span class=\"comment\"> *            A receiver is required to support platform versions earlier</span></span><br><span class=\"line\"><span class=\"comment\"> *            than {<span class=\"doctag\">@link</span> android.os.Build.VERSION_CODES#LOLLIPOP}.</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> mbrIntent The PendingIntent for your receiver component that</span></span><br><span class=\"line\"><span class=\"comment\"> *            handles media button events. This is optional and will be used</span></span><br><span class=\"line\"><span class=\"comment\"> *            on {<span class=\"doctag\">@link</span> android.os.Build.VERSION_CODES#JELLY_BEAN_MR2} and</span></span><br><span class=\"line\"><span class=\"comment\"> *            later instead of the component name.</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"title function_\">MediaSessionCompat</span><span class=\"params\">(Context context, String tag, ComponentName mediaButtonEventReceiver,</span></span><br><span class=\"line\"><span class=\"params\">            PendingIntent mbrIntent)</span> {</span><br></pre></td></tr></tbody></table></figure>\n<p>MediaSessionCompat  Media Button  context  mediaButtonEventReceiver tag mbrIntent  null  API21  MediaButtonReceiver</p>\n<figure class=\"highlight java\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">MediaButtonReceiver</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">BroadcastReceiver</span> {</span><br><span class=\"line\">\t<span class=\"meta\">@Override</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">onReceive</span><span class=\"params\">(Context context, Intent intent)</span> {</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (!Intent.ACTION_MEDIA_BUTTON.equals(intent.getAction())) {</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"type\">KeyEvent</span> <span class=\"variable\">event</span> <span class=\"operator\">=</span> intent.getParcelableExtra(Intent.EXTRA_KEY_EVENT);</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (event == <span class=\"literal\">null</span> || event.getAction() != KeyEvent.ACTION_UP) {</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"comment\">// do something</span></span><br><span class=\"line\">\t}</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<p> new  MediaSessionCompat</p>\n<figure class=\"highlight java\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">PlayerService</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">Service</span> {</span><br><span class=\"line\">\t<span class=\"keyword\">private</span> MediaSessionCompat mMediaSession;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"meta\">@Override</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">onCreate</span><span class=\"params\">()</span> {</span><br><span class=\"line\">\t\t<span class=\"built_in\">super</span>.onCreate();</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"type\">ComponentName</span> <span class=\"variable\">mbr</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">ComponentName</span>(getPackageName(), MediaButtonReceiver.class.getName());</span><br><span class=\"line\">\t\tmMediaSession = <span class=\"keyword\">new</span> <span class=\"title class_\">MediaSessionCompat</span>(<span class=\"built_in\">this</span>, <span class=\"string\">\"mbr\"</span>, mbr, <span class=\"literal\">null</span>);</span><br><span class=\"line\">\t\t<span class=\"comment\">/* set flags to handle media buttons */</span></span><br><span class=\"line\">\t\tmMediaSession.setFlags(MediaSessionCompat.FLAG_HANDLES_MEDIA_BUTTONS | </span><br><span class=\"line\">\t\t\tMediaSessionCompat.FLAG_HANDLES_TRANSPORT_CONTROLS);</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"comment\">/* this is need after Lolipop */</span></span><br><span class=\"line\">\t\tmMediaSession.setCallback(<span class=\"keyword\">new</span> <span class=\"title class_\">MediaSessionCompat</span>.Callback() {</span><br><span class=\"line\">\t\t\t<span class=\"meta\">@Override</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">onMediaButtonEvent</span><span class=\"params\">(Intent intent)</span> {</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span> (!Intent.ACTION_MEDIA_BUTTON.equals(intent.getAction())) {</span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">return</span> <span class=\"built_in\">super</span>.onMediaButtonEvent(intent);</span><br><span class=\"line\">\t\t\t\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\t\t<span class=\"type\">KeyEvent</span> <span class=\"variable\">event</span> <span class=\"operator\">=</span> intent.getParcelableExtra(Intent.EXTRA_KEY_EVENT);</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span> (event == <span class=\"literal\">null</span> || event.getAction() != KeyEvent.ACTION_UP) {</span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">return</span> <span class=\"built_in\">super</span>.onMediaButtonEvent(intent);</span><br><span class=\"line\">\t\t\t\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// do something</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t\t}</span><br><span class=\"line\">\t\t});</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"comment\">/* to make sure the media session is active */</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (!mMediaSession.isActive()) {</span><br><span class=\"line\">\t\t\tmMediaSession.setActive(<span class=\"literal\">true</span>);</span><br><span class=\"line\">\t\t}</span><br><span class=\"line\">\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"meta\">@Override</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">onDestroy</span><span class=\"params\">()</span> {</span><br><span class=\"line\">\t\tmMediaSession.release();</span><br><span class=\"line\">\t}</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<p> API21  manifest  MediaButtonReceiver</p>\n<figure class=\"highlight java\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;receiver android:name=<span class=\"string\">\"com.coolerfall.managers.receivers.MediaButtonReceiver\"</span>&gt;</span><br><span class=\"line\">    &lt;intent-filter&gt;</span><br><span class=\"line\">        &lt;action android:name=<span class=\"string\">\"android.intent.action.MEDIA_BUTTON\"</span>/&gt;</span><br><span class=\"line\">    &lt;/intent-filter&gt;</span><br><span class=\"line\">&lt;/receiver&gt;</span><br></pre></td></tr></tbody></table></figure>\n<p> API21 </p>\n<p>PS: API21  MediaButtonReceiver API21  MediaSessionCompat.setCallback  MediaSessionCompatAPI21  callback  media button</p>\n","site":{"data":{}},"excerpt":"<p> API21 :</p>\n<figure class=\"highlight java\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">AudioManager.reregisterMediaButtonEventReceiver(ComponentName eventReceiver)</span><br></pre></td></tr></tbody></table></figure>\n<p> SDK  API  MediaSession </p>","more":"<p>API21 <a href=\"http://blog.csdn.net/qinjuning/article/details/6938436\"></a> MediaSession  api  android.support.v4.media.session.MediaSessionCompat</p>\n<figure class=\"highlight java\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Creates a new session.</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> context The context.</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> tag A short name for debugging purposes.</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> mediaButtonEventReceiver The component name for your receiver.</span></span><br><span class=\"line\"><span class=\"comment\"> *            If null, this will attempt to find an appropriate</span></span><br><span class=\"line\"><span class=\"comment\"> *            {<span class=\"doctag\">@link</span> BroadcastReceiver} that handles</span></span><br><span class=\"line\"><span class=\"comment\"> *            {<span class=\"doctag\">@link</span> Intent#ACTION_MEDIA_BUTTON} from your manifest.</span></span><br><span class=\"line\"><span class=\"comment\"> *            A receiver is required to support platform versions earlier</span></span><br><span class=\"line\"><span class=\"comment\"> *            than {<span class=\"doctag\">@link</span> android.os.Build.VERSION_CODES#LOLLIPOP}.</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> mbrIntent The PendingIntent for your receiver component that</span></span><br><span class=\"line\"><span class=\"comment\"> *            handles media button events. This is optional and will be used</span></span><br><span class=\"line\"><span class=\"comment\"> *            on {<span class=\"doctag\">@link</span> android.os.Build.VERSION_CODES#JELLY_BEAN_MR2} and</span></span><br><span class=\"line\"><span class=\"comment\"> *            later instead of the component name.</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"title function_\">MediaSessionCompat</span><span class=\"params\">(Context context, String tag, ComponentName mediaButtonEventReceiver,</span></span><br><span class=\"line\"><span class=\"params\">            PendingIntent mbrIntent)</span> {</span><br></pre></td></tr></tbody></table></figure>\n<p>MediaSessionCompat  Media Button  context  mediaButtonEventReceiver tag mbrIntent  null  API21  MediaButtonReceiver</p>\n<figure class=\"highlight java\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">MediaButtonReceiver</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">BroadcastReceiver</span> {</span><br><span class=\"line\">\t<span class=\"meta\">@Override</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">onReceive</span><span class=\"params\">(Context context, Intent intent)</span> {</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (!Intent.ACTION_MEDIA_BUTTON.equals(intent.getAction())) {</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"type\">KeyEvent</span> <span class=\"variable\">event</span> <span class=\"operator\">=</span> intent.getParcelableExtra(Intent.EXTRA_KEY_EVENT);</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (event == <span class=\"literal\">null</span> || event.getAction() != KeyEvent.ACTION_UP) {</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"comment\">// do something</span></span><br><span class=\"line\">\t}</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<p> new  MediaSessionCompat</p>\n<figure class=\"highlight java\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">PlayerService</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">Service</span> {</span><br><span class=\"line\">\t<span class=\"keyword\">private</span> MediaSessionCompat mMediaSession;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"meta\">@Override</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">onCreate</span><span class=\"params\">()</span> {</span><br><span class=\"line\">\t\t<span class=\"built_in\">super</span>.onCreate();</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"type\">ComponentName</span> <span class=\"variable\">mbr</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">ComponentName</span>(getPackageName(), MediaButtonReceiver.class.getName());</span><br><span class=\"line\">\t\tmMediaSession = <span class=\"keyword\">new</span> <span class=\"title class_\">MediaSessionCompat</span>(<span class=\"built_in\">this</span>, <span class=\"string\">\"mbr\"</span>, mbr, <span class=\"literal\">null</span>);</span><br><span class=\"line\">\t\t<span class=\"comment\">/* set flags to handle media buttons */</span></span><br><span class=\"line\">\t\tmMediaSession.setFlags(MediaSessionCompat.FLAG_HANDLES_MEDIA_BUTTONS | </span><br><span class=\"line\">\t\t\tMediaSessionCompat.FLAG_HANDLES_TRANSPORT_CONTROLS);</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"comment\">/* this is need after Lolipop */</span></span><br><span class=\"line\">\t\tmMediaSession.setCallback(<span class=\"keyword\">new</span> <span class=\"title class_\">MediaSessionCompat</span>.Callback() {</span><br><span class=\"line\">\t\t\t<span class=\"meta\">@Override</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">onMediaButtonEvent</span><span class=\"params\">(Intent intent)</span> {</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span> (!Intent.ACTION_MEDIA_BUTTON.equals(intent.getAction())) {</span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">return</span> <span class=\"built_in\">super</span>.onMediaButtonEvent(intent);</span><br><span class=\"line\">\t\t\t\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\t\t<span class=\"type\">KeyEvent</span> <span class=\"variable\">event</span> <span class=\"operator\">=</span> intent.getParcelableExtra(Intent.EXTRA_KEY_EVENT);</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span> (event == <span class=\"literal\">null</span> || event.getAction() != KeyEvent.ACTION_UP) {</span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">return</span> <span class=\"built_in\">super</span>.onMediaButtonEvent(intent);</span><br><span class=\"line\">\t\t\t\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// do something</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t\t}</span><br><span class=\"line\">\t\t});</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"comment\">/* to make sure the media session is active */</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (!mMediaSession.isActive()) {</span><br><span class=\"line\">\t\t\tmMediaSession.setActive(<span class=\"literal\">true</span>);</span><br><span class=\"line\">\t\t}</span><br><span class=\"line\">\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"meta\">@Override</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">onDestroy</span><span class=\"params\">()</span> {</span><br><span class=\"line\">\t\tmMediaSession.release();</span><br><span class=\"line\">\t}</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<p> API21  manifest  MediaButtonReceiver</p>\n<figure class=\"highlight java\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;receiver android:name=<span class=\"string\">\"com.coolerfall.managers.receivers.MediaButtonReceiver\"</span>&gt;</span><br><span class=\"line\">    &lt;intent-filter&gt;</span><br><span class=\"line\">        &lt;action android:name=<span class=\"string\">\"android.intent.action.MEDIA_BUTTON\"</span>/&gt;</span><br><span class=\"line\">    &lt;/intent-filter&gt;</span><br><span class=\"line\">&lt;/receiver&gt;</span><br></pre></td></tr></tbody></table></figure>\n<p> API21 </p>\n<p>PS: API21  MediaButtonReceiver API21  MediaSessionCompat.setCallback  MediaSessionCompatAPI21  callback  media button</p>"},{"layout":"post","title":"Linux c ","_content":"\ncjavatrimindexOfsubstring\n<!-- more -->\n#### 1.trim\n```c\n/**\n * Remove space from string at the beginning and end.\n *\n * @param src pointer to source string\n */\nvoid trim(char *src)\n{\n\tint i;\n\tint len = strlen(src);\n\tint start = 0, end = len - 1;\n\n\twhile (start < end && src[start] <= ' ' && src[start] != 0)\n\t{\n\t\tstart ++;\n\t}\n\n\twhile (end >= start && src[end] <= ' ' && src[end] != 0)\n\t{\n\t\tend --;\n\t}\n\n\tmemmove(src, src + start, end - start + 1);\n\tsrc[end - start + 1] = '\\0';\n}\n```\n#### 2.index_of\n```c\n/**\n * To get the index when sub string first appear in src.\n *\n * @param src src string\n * @param sub the string to search\n * @return    the index of substring in source string, \n *            otherwise return -1 if not exists\n */\nint index_of(const char *src, const char *sub)\n{\n\tchar *result = strstr(src, sub);\n\n\treturn result ? strlen(src) - strlen(result) : -1;\n}\n```\n#### 3.last_index_of\n```c\n/**\n * To get the index when need string last appear in src.\n *\n * @param src  src string\n * @param need the string to search\n * @return     the index of substring in source string, \n *             otherwise return -1 if not exists\n */\nint last_index_of(const char *src, const char *need)\n{\n\tint i;\n\tconst char *p = src + strlen(src);\n\tsize_t len = strlen(need);\n\tchar *buf;\n\n\tfor(i = 0; i < strlen(src); i ++)\n\t{\n\t\tbuf = strchr(p --, *need);\n\t\tif (!buf)\n\t\t{\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (strncmp(buf, need, len) == 0)\n\t\t{\n\t\t\treturn strlen(src) - strlen((char *)buf);\n\t\t}\n\t}\n\n\treturn -1;\n}\n```\n#### 4.substring\n```c\n/**\n * Get sub string from source string.\n *\n * @param dest  dest poniter to save string\n * @param src   source string poniter\n * @param start the start index\n * @param end   the end index\n */\nvoid substring(char *dest, const char *src, int start, int end)\n{\n\tint i = start;\n\n\tif (start > strlen(src))\n\t{\n\t\treturn;\n\t}\n\n\tif (end > strlen(src))\n\t{\n\t\tend = strlen(src);\n\t}\n\n\twhile (i < end)\n\t{\n\t\tdest[i - start] = src[i];\n\t\ti ++;\n\t}\n\n\tdest[i - start] = '\\0';\n}\n```\n#### 5.starts_with\n```c\n/**\n * To check if the string start with specified string.\n *\n * @param  src    source string pointer\n * @param  prefix prefix string poniter\n * @return        ture if start with specified string, otherwise return false\n */\nbool starts_with(const char *src, const char *prefix)\n{\n\tint len = strlen(prefix);\n\tchar buf[len];\n\n\tsubstring(buf, src, 0, len);\n\n\treturn !strcmp(buf, prefix);\n}\n```\n#### 6.ends_with\n```c\n/**\n * To check if the string end with specified string.\n *\n * @param  src    source string pointer\n * @param  suffix suffix string poniter\n * @return        ture if end with specified string, otherwise return false\n */\nbool ends_with(const char *src, const char *suffix)\n{\n\tint len = strlen(suffix);\n\tchar buf[len];\n\n\tsubstring(buf, src, strlen(src) - len, strlen(src));\n\n\treturn !strcmp(buf, suffix);\n}\n```\nstarts_withends_withsubstring","source":"_posts/2015-07-22-linux-c-string-operation.md","raw":"---\nlayout: post\ntitle: Linux c\ncategory: c\ntags: [c]\n---\n\ncjavatrimindexOfsubstring\n<!-- more -->\n#### 1.trim\n```c\n/**\n * Remove space from string at the beginning and end.\n *\n * @param src pointer to source string\n */\nvoid trim(char *src)\n{\n\tint i;\n\tint len = strlen(src);\n\tint start = 0, end = len - 1;\n\n\twhile (start < end && src[start] <= ' ' && src[start] != 0)\n\t{\n\t\tstart ++;\n\t}\n\n\twhile (end >= start && src[end] <= ' ' && src[end] != 0)\n\t{\n\t\tend --;\n\t}\n\n\tmemmove(src, src + start, end - start + 1);\n\tsrc[end - start + 1] = '\\0';\n}\n```\n#### 2.index_of\n```c\n/**\n * To get the index when sub string first appear in src.\n *\n * @param src src string\n * @param sub the string to search\n * @return    the index of substring in source string, \n *            otherwise return -1 if not exists\n */\nint index_of(const char *src, const char *sub)\n{\n\tchar *result = strstr(src, sub);\n\n\treturn result ? strlen(src) - strlen(result) : -1;\n}\n```\n#### 3.last_index_of\n```c\n/**\n * To get the index when need string last appear in src.\n *\n * @param src  src string\n * @param need the string to search\n * @return     the index of substring in source string, \n *             otherwise return -1 if not exists\n */\nint last_index_of(const char *src, const char *need)\n{\n\tint i;\n\tconst char *p = src + strlen(src);\n\tsize_t len = strlen(need);\n\tchar *buf;\n\n\tfor(i = 0; i < strlen(src); i ++)\n\t{\n\t\tbuf = strchr(p --, *need);\n\t\tif (!buf)\n\t\t{\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (strncmp(buf, need, len) == 0)\n\t\t{\n\t\t\treturn strlen(src) - strlen((char *)buf);\n\t\t}\n\t}\n\n\treturn -1;\n}\n```\n#### 4.substring\n```c\n/**\n * Get sub string from source string.\n *\n * @param dest  dest poniter to save string\n * @param src   source string poniter\n * @param start the start index\n * @param end   the end index\n */\nvoid substring(char *dest, const char *src, int start, int end)\n{\n\tint i = start;\n\n\tif (start > strlen(src))\n\t{\n\t\treturn;\n\t}\n\n\tif (end > strlen(src))\n\t{\n\t\tend = strlen(src);\n\t}\n\n\twhile (i < end)\n\t{\n\t\tdest[i - start] = src[i];\n\t\ti ++;\n\t}\n\n\tdest[i - start] = '\\0';\n}\n```\n#### 5.starts_with\n```c\n/**\n * To check if the string start with specified string.\n *\n * @param  src    source string pointer\n * @param  prefix prefix string poniter\n * @return        ture if start with specified string, otherwise return false\n */\nbool starts_with(const char *src, const char *prefix)\n{\n\tint len = strlen(prefix);\n\tchar buf[len];\n\n\tsubstring(buf, src, 0, len);\n\n\treturn !strcmp(buf, prefix);\n}\n```\n#### 6.ends_with\n```c\n/**\n * To check if the string end with specified string.\n *\n * @param  src    source string pointer\n * @param  suffix suffix string poniter\n * @return        ture if end with specified string, otherwise return false\n */\nbool ends_with(const char *src, const char *suffix)\n{\n\tint len = strlen(suffix);\n\tchar buf[len];\n\n\tsubstring(buf, src, strlen(src) - len, strlen(src));\n\n\treturn !strcmp(buf, suffix);\n}\n```\nstarts_withends_withsubstring","slug":"linux-c-string-operation","published":1,"date":"2015-07-21T16:00:00.000Z","updated":"2023-05-23T03:07:55.015Z","comments":1,"photos":[],"link":"","_id":"cli00ivlz001oz0in9mi43n5o","content":"<p>c  java  trimindexOfsubstring </p>\n<span id=\"more\"></span>\n<h4 id=\"1-trim\"><a href=\"#1-trim\" class=\"headerlink\" title=\"1.trim\"></a>1.trim </h4><figure class=\"highlight c\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Remove space from string at the beginning and end.</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * @param src pointer to source string</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">trim</span><span class=\"params\">(<span class=\"type\">char</span> *src)</span></span><br><span class=\"line\">{</span><br><span class=\"line\">\t<span class=\"type\">int</span> i;</span><br><span class=\"line\">\t<span class=\"type\">int</span> len = <span class=\"built_in\">strlen</span>(src);</span><br><span class=\"line\">\t<span class=\"type\">int</span> start = <span class=\"number\">0</span>, end = len - <span class=\"number\">1</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">while</span> (start &lt; end &amp;&amp; src[start] &lt;= <span class=\"string\">' '</span> &amp;&amp; src[start] != <span class=\"number\">0</span>)</span><br><span class=\"line\">\t{</span><br><span class=\"line\">\t\tstart ++;</span><br><span class=\"line\">\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">while</span> (end &gt;= start &amp;&amp; src[end] &lt;= <span class=\"string\">' '</span> &amp;&amp; src[end] != <span class=\"number\">0</span>)</span><br><span class=\"line\">\t{</span><br><span class=\"line\">\t\tend --;</span><br><span class=\"line\">\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\tmemmove(src, src + start, end - start + <span class=\"number\">1</span>);</span><br><span class=\"line\">\tsrc[end - start + <span class=\"number\">1</span>] = <span class=\"string\">'\\0'</span>;</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<h4 id=\"2-index-of\"><a href=\"#2-index-of\" class=\"headerlink\" title=\"2.index_of\"></a>2.index_of </h4><figure class=\"highlight c\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * To get the index when sub string first appear in src.</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * @param src src string</span></span><br><span class=\"line\"><span class=\"comment\"> * @param sub the string to search</span></span><br><span class=\"line\"><span class=\"comment\"> * @return    the index of substring in source string, </span></span><br><span class=\"line\"><span class=\"comment\"> *            otherwise return -1 if not exists</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">index_of</span><span class=\"params\">(<span class=\"type\">const</span> <span class=\"type\">char</span> *src, <span class=\"type\">const</span> <span class=\"type\">char</span> *sub)</span></span><br><span class=\"line\">{</span><br><span class=\"line\">\t<span class=\"type\">char</span> *result = <span class=\"built_in\">strstr</span>(src, sub);</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> result ? <span class=\"built_in\">strlen</span>(src) - <span class=\"built_in\">strlen</span>(result) : <span class=\"number\">-1</span>;</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<h4 id=\"3-last-index-of\"><a href=\"#3-last-index-of\" class=\"headerlink\" title=\"3.last_index_of\"></a>3.last_index_of </h4><figure class=\"highlight c\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * To get the index when need string last appear in src.</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * @param src  src string</span></span><br><span class=\"line\"><span class=\"comment\"> * @param need the string to search</span></span><br><span class=\"line\"><span class=\"comment\"> * @return     the index of substring in source string, </span></span><br><span class=\"line\"><span class=\"comment\"> *             otherwise return -1 if not exists</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">last_index_of</span><span class=\"params\">(<span class=\"type\">const</span> <span class=\"type\">char</span> *src, <span class=\"type\">const</span> <span class=\"type\">char</span> *need)</span></span><br><span class=\"line\">{</span><br><span class=\"line\">\t<span class=\"type\">int</span> i;</span><br><span class=\"line\">\t<span class=\"type\">const</span> <span class=\"type\">char</span> *p = src + <span class=\"built_in\">strlen</span>(src);</span><br><span class=\"line\">\t<span class=\"type\">size_t</span> len = <span class=\"built_in\">strlen</span>(need);</span><br><span class=\"line\">\t<span class=\"type\">char</span> *buf;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(i = <span class=\"number\">0</span>; i &lt; <span class=\"built_in\">strlen</span>(src); i ++)</span><br><span class=\"line\">\t{</span><br><span class=\"line\">\t\tbuf = <span class=\"built_in\">strchr</span>(p --, *need);</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (!buf)</span><br><span class=\"line\">\t\t{</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">continue</span>;</span><br><span class=\"line\">\t\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (<span class=\"built_in\">strncmp</span>(buf, need, len) == <span class=\"number\">0</span>)</span><br><span class=\"line\">\t\t{</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> <span class=\"built_in\">strlen</span>(src) - <span class=\"built_in\">strlen</span>((<span class=\"type\">char</span> *)buf);</span><br><span class=\"line\">\t\t}</span><br><span class=\"line\">\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<h4 id=\"4-substring\"><a href=\"#4-substring\" class=\"headerlink\" title=\"4.substring\"></a>4.substring </h4><figure class=\"highlight c\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Get sub string from source string.</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * @param dest  dest poniter to save string</span></span><br><span class=\"line\"><span class=\"comment\"> * @param src   source string poniter</span></span><br><span class=\"line\"><span class=\"comment\"> * @param start the start index</span></span><br><span class=\"line\"><span class=\"comment\"> * @param end   the end index</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">substring</span><span class=\"params\">(<span class=\"type\">char</span> *dest, <span class=\"type\">const</span> <span class=\"type\">char</span> *src, <span class=\"type\">int</span> start, <span class=\"type\">int</span> end)</span></span><br><span class=\"line\">{</span><br><span class=\"line\">\t<span class=\"type\">int</span> i = start;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (start &gt; <span class=\"built_in\">strlen</span>(src))</span><br><span class=\"line\">\t{</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (end &gt; <span class=\"built_in\">strlen</span>(src))</span><br><span class=\"line\">\t{</span><br><span class=\"line\">\t\tend = <span class=\"built_in\">strlen</span>(src);</span><br><span class=\"line\">\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">while</span> (i &lt; end)</span><br><span class=\"line\">\t{</span><br><span class=\"line\">\t\tdest[i - start] = src[i];</span><br><span class=\"line\">\t\ti ++;</span><br><span class=\"line\">\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\tdest[i - start] = <span class=\"string\">'\\0'</span>;</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<h4 id=\"5-starts-with\"><a href=\"#5-starts-with\" class=\"headerlink\" title=\"5.starts_with\"></a>5.starts_with </h4><figure class=\"highlight c\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * To check if the string start with specified string.</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * @param  src    source string pointer</span></span><br><span class=\"line\"><span class=\"comment\"> * @param  prefix prefix string poniter</span></span><br><span class=\"line\"><span class=\"comment\"> * @return        ture if start with specified string, otherwise return false</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"type\">bool</span> <span class=\"title function_\">starts_with</span><span class=\"params\">(<span class=\"type\">const</span> <span class=\"type\">char</span> *src, <span class=\"type\">const</span> <span class=\"type\">char</span> *prefix)</span></span><br><span class=\"line\">{</span><br><span class=\"line\">\t<span class=\"type\">int</span> len = <span class=\"built_in\">strlen</span>(prefix);</span><br><span class=\"line\">\t<span class=\"type\">char</span> buf[len];</span><br><span class=\"line\"></span><br><span class=\"line\">\tsubstring(buf, src, <span class=\"number\">0</span>, len);</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> !<span class=\"built_in\">strcmp</span>(buf, prefix);</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<h4 id=\"6-ends-with\"><a href=\"#6-ends-with\" class=\"headerlink\" title=\"6.ends_with\"></a>6.ends_with </h4><figure class=\"highlight c\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * To check if the string end with specified string.</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * @param  src    source string pointer</span></span><br><span class=\"line\"><span class=\"comment\"> * @param  suffix suffix string poniter</span></span><br><span class=\"line\"><span class=\"comment\"> * @return        ture if end with specified string, otherwise return false</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"type\">bool</span> <span class=\"title function_\">ends_with</span><span class=\"params\">(<span class=\"type\">const</span> <span class=\"type\">char</span> *src, <span class=\"type\">const</span> <span class=\"type\">char</span> *suffix)</span></span><br><span class=\"line\">{</span><br><span class=\"line\">\t<span class=\"type\">int</span> len = <span class=\"built_in\">strlen</span>(suffix);</span><br><span class=\"line\">\t<span class=\"type\">char</span> buf[len];</span><br><span class=\"line\"></span><br><span class=\"line\">\tsubstring(buf, src, <span class=\"built_in\">strlen</span>(src) - len, <span class=\"built_in\">strlen</span>(src));</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> !<span class=\"built_in\">strcmp</span>(buf, suffix);</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<p> starts_with  ends_with  substring </p>\n","site":{"data":{}},"excerpt":"<p>c  java  trimindexOfsubstring </p>","more":"<h4 id=\"1-trim\"><a href=\"#1-trim\" class=\"headerlink\" title=\"1.trim\"></a>1.trim </h4><figure class=\"highlight c\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Remove space from string at the beginning and end.</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * @param src pointer to source string</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">trim</span><span class=\"params\">(<span class=\"type\">char</span> *src)</span></span><br><span class=\"line\">{</span><br><span class=\"line\">\t<span class=\"type\">int</span> i;</span><br><span class=\"line\">\t<span class=\"type\">int</span> len = <span class=\"built_in\">strlen</span>(src);</span><br><span class=\"line\">\t<span class=\"type\">int</span> start = <span class=\"number\">0</span>, end = len - <span class=\"number\">1</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">while</span> (start &lt; end &amp;&amp; src[start] &lt;= <span class=\"string\">' '</span> &amp;&amp; src[start] != <span class=\"number\">0</span>)</span><br><span class=\"line\">\t{</span><br><span class=\"line\">\t\tstart ++;</span><br><span class=\"line\">\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">while</span> (end &gt;= start &amp;&amp; src[end] &lt;= <span class=\"string\">' '</span> &amp;&amp; src[end] != <span class=\"number\">0</span>)</span><br><span class=\"line\">\t{</span><br><span class=\"line\">\t\tend --;</span><br><span class=\"line\">\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\tmemmove(src, src + start, end - start + <span class=\"number\">1</span>);</span><br><span class=\"line\">\tsrc[end - start + <span class=\"number\">1</span>] = <span class=\"string\">'\\0'</span>;</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<h4 id=\"2-index-of\"><a href=\"#2-index-of\" class=\"headerlink\" title=\"2.index_of\"></a>2.index_of </h4><figure class=\"highlight c\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * To get the index when sub string first appear in src.</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * @param src src string</span></span><br><span class=\"line\"><span class=\"comment\"> * @param sub the string to search</span></span><br><span class=\"line\"><span class=\"comment\"> * @return    the index of substring in source string, </span></span><br><span class=\"line\"><span class=\"comment\"> *            otherwise return -1 if not exists</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">index_of</span><span class=\"params\">(<span class=\"type\">const</span> <span class=\"type\">char</span> *src, <span class=\"type\">const</span> <span class=\"type\">char</span> *sub)</span></span><br><span class=\"line\">{</span><br><span class=\"line\">\t<span class=\"type\">char</span> *result = <span class=\"built_in\">strstr</span>(src, sub);</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> result ? <span class=\"built_in\">strlen</span>(src) - <span class=\"built_in\">strlen</span>(result) : <span class=\"number\">-1</span>;</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<h4 id=\"3-last-index-of\"><a href=\"#3-last-index-of\" class=\"headerlink\" title=\"3.last_index_of\"></a>3.last_index_of </h4><figure class=\"highlight c\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * To get the index when need string last appear in src.</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * @param src  src string</span></span><br><span class=\"line\"><span class=\"comment\"> * @param need the string to search</span></span><br><span class=\"line\"><span class=\"comment\"> * @return     the index of substring in source string, </span></span><br><span class=\"line\"><span class=\"comment\"> *             otherwise return -1 if not exists</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">last_index_of</span><span class=\"params\">(<span class=\"type\">const</span> <span class=\"type\">char</span> *src, <span class=\"type\">const</span> <span class=\"type\">char</span> *need)</span></span><br><span class=\"line\">{</span><br><span class=\"line\">\t<span class=\"type\">int</span> i;</span><br><span class=\"line\">\t<span class=\"type\">const</span> <span class=\"type\">char</span> *p = src + <span class=\"built_in\">strlen</span>(src);</span><br><span class=\"line\">\t<span class=\"type\">size_t</span> len = <span class=\"built_in\">strlen</span>(need);</span><br><span class=\"line\">\t<span class=\"type\">char</span> *buf;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(i = <span class=\"number\">0</span>; i &lt; <span class=\"built_in\">strlen</span>(src); i ++)</span><br><span class=\"line\">\t{</span><br><span class=\"line\">\t\tbuf = <span class=\"built_in\">strchr</span>(p --, *need);</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (!buf)</span><br><span class=\"line\">\t\t{</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">continue</span>;</span><br><span class=\"line\">\t\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (<span class=\"built_in\">strncmp</span>(buf, need, len) == <span class=\"number\">0</span>)</span><br><span class=\"line\">\t\t{</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> <span class=\"built_in\">strlen</span>(src) - <span class=\"built_in\">strlen</span>((<span class=\"type\">char</span> *)buf);</span><br><span class=\"line\">\t\t}</span><br><span class=\"line\">\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<h4 id=\"4-substring\"><a href=\"#4-substring\" class=\"headerlink\" title=\"4.substring\"></a>4.substring </h4><figure class=\"highlight c\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Get sub string from source string.</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * @param dest  dest poniter to save string</span></span><br><span class=\"line\"><span class=\"comment\"> * @param src   source string poniter</span></span><br><span class=\"line\"><span class=\"comment\"> * @param start the start index</span></span><br><span class=\"line\"><span class=\"comment\"> * @param end   the end index</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">substring</span><span class=\"params\">(<span class=\"type\">char</span> *dest, <span class=\"type\">const</span> <span class=\"type\">char</span> *src, <span class=\"type\">int</span> start, <span class=\"type\">int</span> end)</span></span><br><span class=\"line\">{</span><br><span class=\"line\">\t<span class=\"type\">int</span> i = start;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (start &gt; <span class=\"built_in\">strlen</span>(src))</span><br><span class=\"line\">\t{</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (end &gt; <span class=\"built_in\">strlen</span>(src))</span><br><span class=\"line\">\t{</span><br><span class=\"line\">\t\tend = <span class=\"built_in\">strlen</span>(src);</span><br><span class=\"line\">\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">while</span> (i &lt; end)</span><br><span class=\"line\">\t{</span><br><span class=\"line\">\t\tdest[i - start] = src[i];</span><br><span class=\"line\">\t\ti ++;</span><br><span class=\"line\">\t}</span><br><span class=\"line\"></span><br><span class=\"line\">\tdest[i - start] = <span class=\"string\">'\\0'</span>;</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<h4 id=\"5-starts-with\"><a href=\"#5-starts-with\" class=\"headerlink\" title=\"5.starts_with\"></a>5.starts_with </h4><figure class=\"highlight c\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * To check if the string start with specified string.</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * @param  src    source string pointer</span></span><br><span class=\"line\"><span class=\"comment\"> * @param  prefix prefix string poniter</span></span><br><span class=\"line\"><span class=\"comment\"> * @return        ture if start with specified string, otherwise return false</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"type\">bool</span> <span class=\"title function_\">starts_with</span><span class=\"params\">(<span class=\"type\">const</span> <span class=\"type\">char</span> *src, <span class=\"type\">const</span> <span class=\"type\">char</span> *prefix)</span></span><br><span class=\"line\">{</span><br><span class=\"line\">\t<span class=\"type\">int</span> len = <span class=\"built_in\">strlen</span>(prefix);</span><br><span class=\"line\">\t<span class=\"type\">char</span> buf[len];</span><br><span class=\"line\"></span><br><span class=\"line\">\tsubstring(buf, src, <span class=\"number\">0</span>, len);</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> !<span class=\"built_in\">strcmp</span>(buf, prefix);</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<h4 id=\"6-ends-with\"><a href=\"#6-ends-with\" class=\"headerlink\" title=\"6.ends_with\"></a>6.ends_with </h4><figure class=\"highlight c\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * To check if the string end with specified string.</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * @param  src    source string pointer</span></span><br><span class=\"line\"><span class=\"comment\"> * @param  suffix suffix string poniter</span></span><br><span class=\"line\"><span class=\"comment\"> * @return        ture if end with specified string, otherwise return false</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"type\">bool</span> <span class=\"title function_\">ends_with</span><span class=\"params\">(<span class=\"type\">const</span> <span class=\"type\">char</span> *src, <span class=\"type\">const</span> <span class=\"type\">char</span> *suffix)</span></span><br><span class=\"line\">{</span><br><span class=\"line\">\t<span class=\"type\">int</span> len = <span class=\"built_in\">strlen</span>(suffix);</span><br><span class=\"line\">\t<span class=\"type\">char</span> buf[len];</span><br><span class=\"line\"></span><br><span class=\"line\">\tsubstring(buf, src, <span class=\"built_in\">strlen</span>(src) - len, <span class=\"built_in\">strlen</span>(src));</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> !<span class=\"built_in\">strcmp</span>(buf, suffix);</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<p> starts_with  ends_with  substring </p>"},{"layout":"post","title":" UrlQuerySanitizer  url","_content":"\nUrlQuerySanitizerAndroidurlAPIurlqueryurlquery\n<!-- more -->\nUri\n```java\npublic void parseUrl(String url) {\n\tUri uri = Uri.parse(url);\n\tSet<String> query = uri.getQueryParameterNames();\n\tif (!query.isEmpty()) {\n\t\tTreeSet<String> treeQuery = new TreeSet<>(query);\n\t\tfor (String key : treeQuery) {\n\t\t\tString value = uri.getQueryParameter(key);\n\t\t}\n\t}\n}\n```\nurlqueryUri`#`Uri`#`googleUrlQuerySanitizerAPI\n```java\npublic void parseUrl(String url) {\n\tUrlQuerySanitizer sanitizer = new UrlQuerySanitizer();\n\tsanitizer.setAllowUnregisteredParamaters(true);\n\tsanitizer.setUnregisteredParameterValueSanitizer(UrlQuerySanitizer.getAllButNulLegal());\n\tsanitizer.parseUrl(url);\n\tfinal Set<String> query = sanitizer.getParameterSet();\n\tif (!query.isEmpty()) {\n\t\tTreeSet<String> treeQuery = new TreeSet<>(query);\n\t\tfor (String key : treeQuery) {\n\t\t\tString value = sanitizer.getValue(key);\n\t\t}\n\t}\n}\n```\n`setAllowUnregisteredParamaters``setUnregisteredParameterValueSanitizer`UrlQuerySanitizerValueSanitizer\n```java\n/**\n * Return a value sanitizer that does not allow any special characters,\n * and also does not allow script URLs.\n * @return a value sanitizer\n */\npublic static final ValueSanitizer getAllIllegal() {\n\treturn sAllIllegal;\n}\n\n/**\n * Return a value sanitizer that allows everything except Nul ('\\0')\n * characters. Script URLs are allowed.\n * @return a value sanitizer\n */\npublic static final ValueSanitizer getAllButNulLegal() {\n\treturn sAllButNulLegal;\n}\n/**\n * Return a value sanitizer that allows everything except Nul ('\\0')\n * characters, space (' '), and other whitespace characters.\n * Script URLs are allowed.\n * @return a value sanitizer\n */\npublic static final ValueSanitizer getAllButWhitespaceLegal() {\n\treturn sAllButWhitespaceLegal;\n}\n/**\n * Return a value sanitizer that allows all the characters used by\n * encoded URLs. Does not allow script URLs.\n * @return a value sanitizer\n */\npublic static final ValueSanitizer getUrlLegal() {\n\treturn sURLLegal;\n}\n/**\n * Return a value sanitizer that allows all the characters used by\n * encoded URLs and allows spaces, which are not technically legal\n * in encoded URLs, but commonly appear anyway.\n * Does not allow script URLs.\n * @return a value sanitizer\n */\npublic static final ValueSanitizer getUrlAndSpaceLegal() {\n\treturn sUrlAndSpaceLegal;\n}\n/**\n * Return a value sanitizer that does not allow any special characters\n * except ampersand ('&'). Does not allow script URLs.\n * @return a value sanitizer\n */\npublic static final ValueSanitizer getAmpLegal() {\n\treturn sAmpLegal;\n}\n/**\n * Return a value sanitizer that does not allow any special characters\n * except ampersand ('&') and space (' '). Does not allow script URLs.\n * @return a value sanitizer\n */\npublic static final ValueSanitizer getAmpAndSpaceLegal() {\n\treturn sAmpAndSpaceLegal;\n}\n/**\n * Return a value sanitizer that does not allow any special characters\n * except space (' '). Does not allow script URLs.\n * @return a value sanitizer\n */\npublic static final ValueSanitizer getSpaceLegal() {\n\treturn sSpaceLegal;\n}\n/**\n * Return a value sanitizer that allows any special characters\n * except angle brackets ('<' and '>') and Nul ('\\0').\n * Allows script URLs.\n * @return a value sanitizer\n */\npublic static final ValueSanitizer getAllButNulAndAngleBracketsLegal() {\n\treturn sAllButNulAndAngleBracketsLegal;\n}\n```\nValueSanitizer_\nValueSanitizerValueSanitizer\n```java\npublic void parseUrl(String url) {\n\t.....\n\tValueSanitizer sanitizer = new UrlQuerySanitizer.IllegalCharacterValueSanitizer(UrlQuerySanitizer.IllegalCharacterValueSanitizer.ALL_OK);\n\tsetUnregisteredParameterValueSanitizer(sanitizer);\n\t.....\n}\n```\nUrlQuerySanitizerkeyvalueurlhttp://coolerfall.com?name=vincent\n```java\npublic void parseUrl(String url) {\n\tUrlQuerySanitizer sanitizer = new UrlQuerySanitizer();\n\tsanitizer.setAllowUnregisteredParamaters(true);\n\tsanitizer.setUnregisteredParameterValueSanitizer(UrlQuerySanitizer.getAllButNulLegal());\n\tsanitizer.parseUrl(url);\n\tString name = sanitizer.getValue(\"name\");\n}\n```\nUrlQuerySanitizerqueryname=vincent&article=first\n```java\npublic void parseUrl(String query) {\n\tUrlQuerySanitizer sanitizer = new UrlQuerySanitizer();\n\tsanitizer.setAllowUnregisteredParamaters(true);\n\tsanitizer.setUnregisteredParameterValueSanitizer(UrlQuerySanitizer.getAllButNulLegal());\n\tsanitizer.parseQuery(query);\n\tString name = sanitizer.getValue(\"name\");\n\t.....\n}\n```\nUrlQuerySanitizerurl","source":"_posts/2016-03-30-url-query-sanitizer.md","raw":"---\nlayout: post\ntitle: UrlQuerySanitizerurl\ncategory: android\ntags: [url, sanitizer]\n---\n\nUrlQuerySanitizerAndroidurlAPIurlqueryurlquery\n<!-- more -->\nUri\n```java\npublic void parseUrl(String url) {\n\tUri uri = Uri.parse(url);\n\tSet<String> query = uri.getQueryParameterNames();\n\tif (!query.isEmpty()) {\n\t\tTreeSet<String> treeQuery = new TreeSet<>(query);\n\t\tfor (String key : treeQuery) {\n\t\t\tString value = uri.getQueryParameter(key);\n\t\t}\n\t}\n}\n```\nurlqueryUri`#`Uri`#`googleUrlQuerySanitizerAPI\n```java\npublic void parseUrl(String url) {\n\tUrlQuerySanitizer sanitizer = new UrlQuerySanitizer();\n\tsanitizer.setAllowUnregisteredParamaters(true);\n\tsanitizer.setUnregisteredParameterValueSanitizer(UrlQuerySanitizer.getAllButNulLegal());\n\tsanitizer.parseUrl(url);\n\tfinal Set<String> query = sanitizer.getParameterSet();\n\tif (!query.isEmpty()) {\n\t\tTreeSet<String> treeQuery = new TreeSet<>(query);\n\t\tfor (String key : treeQuery) {\n\t\t\tString value = sanitizer.getValue(key);\n\t\t}\n\t}\n}\n```\n`setAllowUnregisteredParamaters``setUnregisteredParameterValueSanitizer`UrlQuerySanitizerValueSanitizer\n```java\n/**\n * Return a value sanitizer that does not allow any special characters,\n * and also does not allow script URLs.\n * @return a value sanitizer\n */\npublic static final ValueSanitizer getAllIllegal() {\n\treturn sAllIllegal;\n}\n\n/**\n * Return a value sanitizer that allows everything except Nul ('\\0')\n * characters. Script URLs are allowed.\n * @return a value sanitizer\n */\npublic static final ValueSanitizer getAllButNulLegal() {\n\treturn sAllButNulLegal;\n}\n/**\n * Return a value sanitizer that allows everything except Nul ('\\0')\n * characters, space (' '), and other whitespace characters.\n * Script URLs are allowed.\n * @return a value sanitizer\n */\npublic static final ValueSanitizer getAllButWhitespaceLegal() {\n\treturn sAllButWhitespaceLegal;\n}\n/**\n * Return a value sanitizer that allows all the characters used by\n * encoded URLs. Does not allow script URLs.\n * @return a value sanitizer\n */\npublic static final ValueSanitizer getUrlLegal() {\n\treturn sURLLegal;\n}\n/**\n * Return a value sanitizer that allows all the characters used by\n * encoded URLs and allows spaces, which are not technically legal\n * in encoded URLs, but commonly appear anyway.\n * Does not allow script URLs.\n * @return a value sanitizer\n */\npublic static final ValueSanitizer getUrlAndSpaceLegal() {\n\treturn sUrlAndSpaceLegal;\n}\n/**\n * Return a value sanitizer that does not allow any special characters\n * except ampersand ('&'). Does not allow script URLs.\n * @return a value sanitizer\n */\npublic static final ValueSanitizer getAmpLegal() {\n\treturn sAmpLegal;\n}\n/**\n * Return a value sanitizer that does not allow any special characters\n * except ampersand ('&') and space (' '). Does not allow script URLs.\n * @return a value sanitizer\n */\npublic static final ValueSanitizer getAmpAndSpaceLegal() {\n\treturn sAmpAndSpaceLegal;\n}\n/**\n * Return a value sanitizer that does not allow any special characters\n * except space (' '). Does not allow script URLs.\n * @return a value sanitizer\n */\npublic static final ValueSanitizer getSpaceLegal() {\n\treturn sSpaceLegal;\n}\n/**\n * Return a value sanitizer that allows any special characters\n * except angle brackets ('<' and '>') and Nul ('\\0').\n * Allows script URLs.\n * @return a value sanitizer\n */\npublic static final ValueSanitizer getAllButNulAndAngleBracketsLegal() {\n\treturn sAllButNulAndAngleBracketsLegal;\n}\n```\nValueSanitizer_\nValueSanitizerValueSanitizer\n```java\npublic void parseUrl(String url) {\n\t.....\n\tValueSanitizer sanitizer = new UrlQuerySanitizer.IllegalCharacterValueSanitizer(UrlQuerySanitizer.IllegalCharacterValueSanitizer.ALL_OK);\n\tsetUnregisteredParameterValueSanitizer(sanitizer);\n\t.....\n}\n```\nUrlQuerySanitizerkeyvalueurlhttp://coolerfall.com?name=vincent\n```java\npublic void parseUrl(String url) {\n\tUrlQuerySanitizer sanitizer = new UrlQuerySanitizer();\n\tsanitizer.setAllowUnregisteredParamaters(true);\n\tsanitizer.setUnregisteredParameterValueSanitizer(UrlQuerySanitizer.getAllButNulLegal());\n\tsanitizer.parseUrl(url);\n\tString name = sanitizer.getValue(\"name\");\n}\n```\nUrlQuerySanitizerqueryname=vincent&article=first\n```java\npublic void parseUrl(String query) {\n\tUrlQuerySanitizer sanitizer = new UrlQuerySanitizer();\n\tsanitizer.setAllowUnregisteredParamaters(true);\n\tsanitizer.setUnregisteredParameterValueSanitizer(UrlQuerySanitizer.getAllButNulLegal());\n\tsanitizer.parseQuery(query);\n\tString name = sanitizer.getValue(\"name\");\n\t.....\n}\n```\nUrlQuerySanitizerurl","slug":"url-query-sanitizer","published":1,"date":"2016-03-29T16:00:00.000Z","updated":"2023-05-23T06:14:52.093Z","comments":1,"photos":[],"link":"","_id":"cli00ivm0001rz0in3a8d16nu","content":"<p> UrlQuerySanitizer  Android  url  API url  query  url  query </p>\n<span id=\"more\"></span>\n<p> Uri</p>\n<figure class=\"highlight java\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">parseUrl</span><span class=\"params\">(String url)</span> {</span><br><span class=\"line\">\t<span class=\"type\">Uri</span> <span class=\"variable\">uri</span> <span class=\"operator\">=</span> Uri.parse(url);</span><br><span class=\"line\">\tSet&lt;String&gt; query = uri.getQueryParameterNames();</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (!query.isEmpty()) {</span><br><span class=\"line\">\t\tTreeSet&lt;String&gt; treeQuery = <span class=\"keyword\">new</span> <span class=\"title class_\">TreeSet</span>&lt;&gt;(query);</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> (String key : treeQuery) {</span><br><span class=\"line\">\t\t\t<span class=\"type\">String</span> <span class=\"variable\">value</span> <span class=\"operator\">=</span> uri.getQueryParameter(key);</span><br><span class=\"line\">\t\t}</span><br><span class=\"line\">\t}</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<p> url query  Uri <code>#</code>Uri <code>#</code> google UrlQuerySanitizer  API</p>\n<figure class=\"highlight java\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">parseUrl</span><span class=\"params\">(String url)</span> {</span><br><span class=\"line\">\t<span class=\"type\">UrlQuerySanitizer</span> <span class=\"variable\">sanitizer</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">UrlQuerySanitizer</span>();</span><br><span class=\"line\">\tsanitizer.setAllowUnregisteredParamaters(<span class=\"literal\">true</span>);</span><br><span class=\"line\">\tsanitizer.setUnregisteredParameterValueSanitizer(UrlQuerySanitizer.getAllButNulLegal());</span><br><span class=\"line\">\tsanitizer.parseUrl(url);</span><br><span class=\"line\">\t<span class=\"keyword\">final</span> Set&lt;String&gt; query = sanitizer.getParameterSet();</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (!query.isEmpty()) {</span><br><span class=\"line\">\t\tTreeSet&lt;String&gt; treeQuery = <span class=\"keyword\">new</span> <span class=\"title class_\">TreeSet</span>&lt;&gt;(query);</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> (String key : treeQuery) {</span><br><span class=\"line\">\t\t\t<span class=\"type\">String</span> <span class=\"variable\">value</span> <span class=\"operator\">=</span> sanitizer.getValue(key);</span><br><span class=\"line\">\t\t}</span><br><span class=\"line\">\t}</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<p> <code>setAllowUnregisteredParamaters</code>  <code>setUnregisteredParameterValueSanitizer</code> UrlQuerySanitizer  ValueSanitizer</p>\n<figure class=\"highlight java\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Return a value sanitizer that does not allow any special characters,</span></span><br><span class=\"line\"><span class=\"comment\"> * and also does not allow script URLs.</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span> a value sanitizer</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> ValueSanitizer <span class=\"title function_\">getAllIllegal</span><span class=\"params\">()</span> {</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> sAllIllegal;</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Return a value sanitizer that allows everything except Nul ('\\0')</span></span><br><span class=\"line\"><span class=\"comment\"> * characters. Script URLs are allowed.</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span> a value sanitizer</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> ValueSanitizer <span class=\"title function_\">getAllButNulLegal</span><span class=\"params\">()</span> {</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> sAllButNulLegal;</span><br><span class=\"line\">}</span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Return a value sanitizer that allows everything except Nul ('\\0')</span></span><br><span class=\"line\"><span class=\"comment\"> * characters, space (' '), and other whitespace characters.</span></span><br><span class=\"line\"><span class=\"comment\"> * Script URLs are allowed.</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span> a value sanitizer</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> ValueSanitizer <span class=\"title function_\">getAllButWhitespaceLegal</span><span class=\"params\">()</span> {</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> sAllButWhitespaceLegal;</span><br><span class=\"line\">}</span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Return a value sanitizer that allows all the characters used by</span></span><br><span class=\"line\"><span class=\"comment\"> * encoded URLs. Does not allow script URLs.</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span> a value sanitizer</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> ValueSanitizer <span class=\"title function_\">getUrlLegal</span><span class=\"params\">()</span> {</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> sURLLegal;</span><br><span class=\"line\">}</span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Return a value sanitizer that allows all the characters used by</span></span><br><span class=\"line\"><span class=\"comment\"> * encoded URLs and allows spaces, which are not technically legal</span></span><br><span class=\"line\"><span class=\"comment\"> * in encoded URLs, but commonly appear anyway.</span></span><br><span class=\"line\"><span class=\"comment\"> * Does not allow script URLs.</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span> a value sanitizer</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> ValueSanitizer <span class=\"title function_\">getUrlAndSpaceLegal</span><span class=\"params\">()</span> {</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> sUrlAndSpaceLegal;</span><br><span class=\"line\">}</span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Return a value sanitizer that does not allow any special characters</span></span><br><span class=\"line\"><span class=\"comment\"> * except ampersand ('&amp;'). Does not allow script URLs.</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span> a value sanitizer</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> ValueSanitizer <span class=\"title function_\">getAmpLegal</span><span class=\"params\">()</span> {</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> sAmpLegal;</span><br><span class=\"line\">}</span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Return a value sanitizer that does not allow any special characters</span></span><br><span class=\"line\"><span class=\"comment\"> * except ampersand ('&amp;') and space (' '). Does not allow script URLs.</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span> a value sanitizer</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> ValueSanitizer <span class=\"title function_\">getAmpAndSpaceLegal</span><span class=\"params\">()</span> {</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> sAmpAndSpaceLegal;</span><br><span class=\"line\">}</span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Return a value sanitizer that does not allow any special characters</span></span><br><span class=\"line\"><span class=\"comment\"> * except space (' '). Does not allow script URLs.</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span> a value sanitizer</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> ValueSanitizer <span class=\"title function_\">getSpaceLegal</span><span class=\"params\">()</span> {</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> sSpaceLegal;</span><br><span class=\"line\">}</span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Return a value sanitizer that allows any special characters</span></span><br><span class=\"line\"><span class=\"comment\"> * except angle brackets ('&lt;' and '&gt;') and Nul ('\\0').</span></span><br><span class=\"line\"><span class=\"comment\"> * Allows script URLs.</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span> a value sanitizer</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> ValueSanitizer <span class=\"title function_\">getAllButNulAndAngleBracketsLegal</span><span class=\"params\">()</span> {</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> sAllButNulAndAngleBracketsLegal;</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<p> ValueSanitizer _<br> ValueSanitizer  ValueSanitizer</p>\n<figure class=\"highlight java\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">parseUrl</span><span class=\"params\">(String url)</span> {</span><br><span class=\"line\">\t.....</span><br><span class=\"line\">\t<span class=\"type\">ValueSanitizer</span> <span class=\"variable\">sanitizer</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">UrlQuerySanitizer</span>.IllegalCharacterValueSanitizer(UrlQuerySanitizer.IllegalCharacterValueSanitizer.ALL_OK);</span><br><span class=\"line\">\tsetUnregisteredParameterValueSanitizer(sanitizer);</span><br><span class=\"line\">\t.....</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<p>UrlQuerySanitizer  key  value url<a href=\"http://coolerfall.com/?name=vincent%EF%BC%9A\">http://coolerfall.com?name=vincent</a></p>\n<figure class=\"highlight java\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">parseUrl</span><span class=\"params\">(String url)</span> {</span><br><span class=\"line\">\t<span class=\"type\">UrlQuerySanitizer</span> <span class=\"variable\">sanitizer</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">UrlQuerySanitizer</span>();</span><br><span class=\"line\">\tsanitizer.setAllowUnregisteredParamaters(<span class=\"literal\">true</span>);</span><br><span class=\"line\">\tsanitizer.setUnregisteredParameterValueSanitizer(UrlQuerySanitizer.getAllButNulLegal());</span><br><span class=\"line\">\tsanitizer.parseUrl(url);</span><br><span class=\"line\">\t<span class=\"type\">String</span> <span class=\"variable\">name</span> <span class=\"operator\">=</span> sanitizer.getValue(<span class=\"string\">\"name\"</span>);</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<p>UrlQuerySanitizer  query name=vincent&amp;article=first</p>\n<figure class=\"highlight java\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">parseUrl</span><span class=\"params\">(String query)</span> {</span><br><span class=\"line\">\t<span class=\"type\">UrlQuerySanitizer</span> <span class=\"variable\">sanitizer</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">UrlQuerySanitizer</span>();</span><br><span class=\"line\">\tsanitizer.setAllowUnregisteredParamaters(<span class=\"literal\">true</span>);</span><br><span class=\"line\">\tsanitizer.setUnregisteredParameterValueSanitizer(UrlQuerySanitizer.getAllButNulLegal());</span><br><span class=\"line\">\tsanitizer.parseQuery(query);</span><br><span class=\"line\">\t<span class=\"type\">String</span> <span class=\"variable\">name</span> <span class=\"operator\">=</span> sanitizer.getValue(<span class=\"string\">\"name\"</span>);</span><br><span class=\"line\">\t.....</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<p> UrlQuerySanitizer  url </p>\n","site":{"data":{}},"excerpt":"<p> UrlQuerySanitizer  Android  url  API url  query  url  query </p>","more":"<p> Uri</p>\n<figure class=\"highlight java\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">parseUrl</span><span class=\"params\">(String url)</span> {</span><br><span class=\"line\">\t<span class=\"type\">Uri</span> <span class=\"variable\">uri</span> <span class=\"operator\">=</span> Uri.parse(url);</span><br><span class=\"line\">\tSet&lt;String&gt; query = uri.getQueryParameterNames();</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (!query.isEmpty()) {</span><br><span class=\"line\">\t\tTreeSet&lt;String&gt; treeQuery = <span class=\"keyword\">new</span> <span class=\"title class_\">TreeSet</span>&lt;&gt;(query);</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> (String key : treeQuery) {</span><br><span class=\"line\">\t\t\t<span class=\"type\">String</span> <span class=\"variable\">value</span> <span class=\"operator\">=</span> uri.getQueryParameter(key);</span><br><span class=\"line\">\t\t}</span><br><span class=\"line\">\t}</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<p> url query  Uri <code>#</code>Uri <code>#</code> google UrlQuerySanitizer  API</p>\n<figure class=\"highlight java\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">parseUrl</span><span class=\"params\">(String url)</span> {</span><br><span class=\"line\">\t<span class=\"type\">UrlQuerySanitizer</span> <span class=\"variable\">sanitizer</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">UrlQuerySanitizer</span>();</span><br><span class=\"line\">\tsanitizer.setAllowUnregisteredParamaters(<span class=\"literal\">true</span>);</span><br><span class=\"line\">\tsanitizer.setUnregisteredParameterValueSanitizer(UrlQuerySanitizer.getAllButNulLegal());</span><br><span class=\"line\">\tsanitizer.parseUrl(url);</span><br><span class=\"line\">\t<span class=\"keyword\">final</span> Set&lt;String&gt; query = sanitizer.getParameterSet();</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (!query.isEmpty()) {</span><br><span class=\"line\">\t\tTreeSet&lt;String&gt; treeQuery = <span class=\"keyword\">new</span> <span class=\"title class_\">TreeSet</span>&lt;&gt;(query);</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> (String key : treeQuery) {</span><br><span class=\"line\">\t\t\t<span class=\"type\">String</span> <span class=\"variable\">value</span> <span class=\"operator\">=</span> sanitizer.getValue(key);</span><br><span class=\"line\">\t\t}</span><br><span class=\"line\">\t}</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<p> <code>setAllowUnregisteredParamaters</code>  <code>setUnregisteredParameterValueSanitizer</code> UrlQuerySanitizer  ValueSanitizer</p>\n<figure class=\"highlight java\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Return a value sanitizer that does not allow any special characters,</span></span><br><span class=\"line\"><span class=\"comment\"> * and also does not allow script URLs.</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span> a value sanitizer</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> ValueSanitizer <span class=\"title function_\">getAllIllegal</span><span class=\"params\">()</span> {</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> sAllIllegal;</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Return a value sanitizer that allows everything except Nul ('\\0')</span></span><br><span class=\"line\"><span class=\"comment\"> * characters. Script URLs are allowed.</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span> a value sanitizer</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> ValueSanitizer <span class=\"title function_\">getAllButNulLegal</span><span class=\"params\">()</span> {</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> sAllButNulLegal;</span><br><span class=\"line\">}</span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Return a value sanitizer that allows everything except Nul ('\\0')</span></span><br><span class=\"line\"><span class=\"comment\"> * characters, space (' '), and other whitespace characters.</span></span><br><span class=\"line\"><span class=\"comment\"> * Script URLs are allowed.</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span> a value sanitizer</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> ValueSanitizer <span class=\"title function_\">getAllButWhitespaceLegal</span><span class=\"params\">()</span> {</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> sAllButWhitespaceLegal;</span><br><span class=\"line\">}</span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Return a value sanitizer that allows all the characters used by</span></span><br><span class=\"line\"><span class=\"comment\"> * encoded URLs. Does not allow script URLs.</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span> a value sanitizer</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> ValueSanitizer <span class=\"title function_\">getUrlLegal</span><span class=\"params\">()</span> {</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> sURLLegal;</span><br><span class=\"line\">}</span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Return a value sanitizer that allows all the characters used by</span></span><br><span class=\"line\"><span class=\"comment\"> * encoded URLs and allows spaces, which are not technically legal</span></span><br><span class=\"line\"><span class=\"comment\"> * in encoded URLs, but commonly appear anyway.</span></span><br><span class=\"line\"><span class=\"comment\"> * Does not allow script URLs.</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span> a value sanitizer</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> ValueSanitizer <span class=\"title function_\">getUrlAndSpaceLegal</span><span class=\"params\">()</span> {</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> sUrlAndSpaceLegal;</span><br><span class=\"line\">}</span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Return a value sanitizer that does not allow any special characters</span></span><br><span class=\"line\"><span class=\"comment\"> * except ampersand ('&amp;'). Does not allow script URLs.</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span> a value sanitizer</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> ValueSanitizer <span class=\"title function_\">getAmpLegal</span><span class=\"params\">()</span> {</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> sAmpLegal;</span><br><span class=\"line\">}</span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Return a value sanitizer that does not allow any special characters</span></span><br><span class=\"line\"><span class=\"comment\"> * except ampersand ('&amp;') and space (' '). Does not allow script URLs.</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span> a value sanitizer</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> ValueSanitizer <span class=\"title function_\">getAmpAndSpaceLegal</span><span class=\"params\">()</span> {</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> sAmpAndSpaceLegal;</span><br><span class=\"line\">}</span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Return a value sanitizer that does not allow any special characters</span></span><br><span class=\"line\"><span class=\"comment\"> * except space (' '). Does not allow script URLs.</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span> a value sanitizer</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> ValueSanitizer <span class=\"title function_\">getSpaceLegal</span><span class=\"params\">()</span> {</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> sSpaceLegal;</span><br><span class=\"line\">}</span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Return a value sanitizer that allows any special characters</span></span><br><span class=\"line\"><span class=\"comment\"> * except angle brackets ('&lt;' and '&gt;') and Nul ('\\0').</span></span><br><span class=\"line\"><span class=\"comment\"> * Allows script URLs.</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span> a value sanitizer</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> ValueSanitizer <span class=\"title function_\">getAllButNulAndAngleBracketsLegal</span><span class=\"params\">()</span> {</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> sAllButNulAndAngleBracketsLegal;</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<p> ValueSanitizer _<br> ValueSanitizer  ValueSanitizer</p>\n<figure class=\"highlight java\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">parseUrl</span><span class=\"params\">(String url)</span> {</span><br><span class=\"line\">\t.....</span><br><span class=\"line\">\t<span class=\"type\">ValueSanitizer</span> <span class=\"variable\">sanitizer</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">UrlQuerySanitizer</span>.IllegalCharacterValueSanitizer(UrlQuerySanitizer.IllegalCharacterValueSanitizer.ALL_OK);</span><br><span class=\"line\">\tsetUnregisteredParameterValueSanitizer(sanitizer);</span><br><span class=\"line\">\t.....</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<p>UrlQuerySanitizer  key  value url<a href=\"http://coolerfall.com/?name=vincent%EF%BC%9A\">http://coolerfall.com?name=vincent</a></p>\n<figure class=\"highlight java\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">parseUrl</span><span class=\"params\">(String url)</span> {</span><br><span class=\"line\">\t<span class=\"type\">UrlQuerySanitizer</span> <span class=\"variable\">sanitizer</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">UrlQuerySanitizer</span>();</span><br><span class=\"line\">\tsanitizer.setAllowUnregisteredParamaters(<span class=\"literal\">true</span>);</span><br><span class=\"line\">\tsanitizer.setUnregisteredParameterValueSanitizer(UrlQuerySanitizer.getAllButNulLegal());</span><br><span class=\"line\">\tsanitizer.parseUrl(url);</span><br><span class=\"line\">\t<span class=\"type\">String</span> <span class=\"variable\">name</span> <span class=\"operator\">=</span> sanitizer.getValue(<span class=\"string\">\"name\"</span>);</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<p>UrlQuerySanitizer  query name=vincent&amp;article=first</p>\n<figure class=\"highlight java\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">parseUrl</span><span class=\"params\">(String query)</span> {</span><br><span class=\"line\">\t<span class=\"type\">UrlQuerySanitizer</span> <span class=\"variable\">sanitizer</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">UrlQuerySanitizer</span>();</span><br><span class=\"line\">\tsanitizer.setAllowUnregisteredParamaters(<span class=\"literal\">true</span>);</span><br><span class=\"line\">\tsanitizer.setUnregisteredParameterValueSanitizer(UrlQuerySanitizer.getAllButNulLegal());</span><br><span class=\"line\">\tsanitizer.parseQuery(query);</span><br><span class=\"line\">\t<span class=\"type\">String</span> <span class=\"variable\">name</span> <span class=\"operator\">=</span> sanitizer.getValue(<span class=\"string\">\"name\"</span>);</span><br><span class=\"line\">\t.....</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n<p> UrlQuerySanitizer  url </p>"},{"title":" Jekyll  Hexo","date":"2018-10-16T07:41:22.000Z","_content":"\n2jekyllgoogle[hexo][1]hexojekyllmarkdownjekyll[hexo-theme-next][2],hexohugohexo[][3]\n<!-- more -->\n#### \n```shell\n$ npm install -g hexo-cli\n$ hexo init coolerfall.github.io\n$ cd coolerfall.github.io && npm install\n```\n\n#### \nlandscape[hexo-theme-next][2]hexo`themes``_config.yml``theme``next`nextnext`tags``categories`index\n```shell\n$ hexo new page tags\n$ hexo new page categories\n```\n`_posts``tags``categories``type``tags``categories`\n```shell\n$ hexo serve\n```\n\n#### \nJekyllpost`:year-:month-:day-:title.md`hexo`new_post_name`Jekyll`_posts`copyhexo`source/_posts`MarkdownJekyllMarkdownMarkdown``\n* \n`next``auto_excerpt`true\n* \npost`<!-- more -->`\n\n#### \ngithubhexo`Git``Heroku``Netlify``hexo-deployer-git`\n```shell\n$ npm install hexo-deployer-git --save\n```\n`deploy`\n```shell\n$ hexo g -d\n```\nHexoJekyllgithubHexomastersourcedeploy\n```yml\ndeploy:\n  - type: git\n    repo: git@github.com:you/your.github.io.git\n    branch: [master]\n  - type: git\n    repo: git@github.com:you/anothergit.git\n    branch: [master]\n    extend_dirs: /\n    ignore_hidden: false\n    ignore_pattern:\n        public: .\n```\nJekllHexo\n\n[1]: https://github.com/hexojs/hexo\n[2]: https://github.com/theme-next/hexo-theme-next\n[3]: https://hexo.io/zh-cn/docs/","source":"_posts/2018-10-16-jekyll-to-hexo.md","raw":"---\ntitle: JekyllHexo\ncategory: misc\ntags: [jekyll, hexo]\ndate: 2018-10-16 15:41:22\n---\n\n2jekyllgoogle[hexo][1]hexojekyllmarkdownjekyll[hexo-theme-next][2],hexohugohexo[][3]\n<!-- more -->\n#### \n```shell\n$ npm install -g hexo-cli\n$ hexo init coolerfall.github.io\n$ cd coolerfall.github.io && npm install\n```\n\n#### \nlandscape[hexo-theme-next][2]hexo`themes``_config.yml``theme``next`nextnext`tags``categories`index\n```shell\n$ hexo new page tags\n$ hexo new page categories\n```\n`_posts``tags``categories``type``tags``categories`\n```shell\n$ hexo serve\n```\n\n#### \nJekyllpost`:year-:month-:day-:title.md`hexo`new_post_name`Jekyll`_posts`copyhexo`source/_posts`MarkdownJekyllMarkdownMarkdown``\n* \n`next``auto_excerpt`true\n* \npost`<!-- more -->`\n\n#### \ngithubhexo`Git``Heroku``Netlify``hexo-deployer-git`\n```shell\n$ npm install hexo-deployer-git --save\n```\n`deploy`\n```shell\n$ hexo g -d\n```\nHexoJekyllgithubHexomastersourcedeploy\n```yml\ndeploy:\n  - type: git\n    repo: git@github.com:you/your.github.io.git\n    branch: [master]\n  - type: git\n    repo: git@github.com:you/anothergit.git\n    branch: [master]\n    extend_dirs: /\n    ignore_hidden: false\n    ignore_pattern:\n        public: .\n```\nJekllHexo\n\n[1]: https://github.com/hexojs/hexo\n[2]: https://github.com/theme-next/hexo-theme-next\n[3]: https://hexo.io/zh-cn/docs/","slug":"jekyll-to-hexo","published":1,"updated":"2023-05-23T03:07:55.015Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cli00ivm1001uz0in6zd91o1n","content":"<p> 2  jekyll  google <a href=\"https://github.com/hexojs/hexo\">hexo</a>hexo  jekyll  markdown  jekyll  <a href=\"https://github.com/theme-next/hexo-theme-next\">hexo-theme-next</a>,  hexo  hugohexo <a href=\"https://hexo.io/zh-cn/docs/\"></a></p>\n<span id=\"more\"></span>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">npm install -g hexo-cli</span></span><br><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">hexo init coolerfall.github.io</span></span><br><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\"><span class=\"built_in\">cd</span> coolerfall.github.io &amp;&amp; npm install</span></span><br></pre></td></tr></tbody></table></figure>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p> landscape  <a href=\"https://github.com/theme-next/hexo-theme-next\">hexo-theme-next</a> hexo  <code>themes</code> <code>_config.yml</code>  <code>theme</code>  <code>next</code> next  next  <code>tags</code>  <code>categories</code>  index </p>\n<figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">hexo new page tags</span></span><br><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">hexo new page categories</span></span><br></pre></td></tr></tbody></table></figure>\n<p><code>_posts</code>  <code>tags</code>  <code>categories</code>  <code>type</code>  <code>tags</code>  <code>categories</code> </p>\n<figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">hexo serve</span></span><br></pre></td></tr></tbody></table></figure>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p> Jekyllpost <code>:year-:month-:day-:title.md</code> hexo  <code>new_post_name</code>  Jekyll <code>_posts</code>  copy  hexo  <code>source/_posts</code>  Markdown  Jekyll  Markdown  Markdown <code></code></p>\n<ul>\n<li><br> <code>next</code>  <code>auto_excerpt</code>  true</li>\n<li><br> post  <code>&lt;!-- more --&gt;</code> </li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p> githubhexo  <code>Git</code><code>Heroku</code><code>Netlify</code>  <code>hexo-deployer-git</code></p>\n<figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">npm install hexo-deployer-git --save</span></span><br></pre></td></tr></tbody></table></figure>\n<p> <code>deploy</code> </p>\n<figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">hexo g -d</span></span><br></pre></td></tr></tbody></table></figure>\n<p>Hexo  Jekyll github  Hexo master source deploy </p>\n<figure class=\"highlight yml\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">deploy:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"attr\">type:</span> <span class=\"string\">git</span></span><br><span class=\"line\">    <span class=\"attr\">repo:</span> <span class=\"string\">git@github.com:you/your.github.io.git</span></span><br><span class=\"line\">    <span class=\"attr\">branch:</span> [<span class=\"string\">master</span>]</span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"attr\">type:</span> <span class=\"string\">git</span></span><br><span class=\"line\">    <span class=\"attr\">repo:</span> <span class=\"string\">git@github.com:you/anothergit.git</span></span><br><span class=\"line\">    <span class=\"attr\">branch:</span> [<span class=\"string\">master</span>]</span><br><span class=\"line\">    <span class=\"attr\">extend_dirs:</span> <span class=\"string\">/</span></span><br><span class=\"line\">    <span class=\"attr\">ignore_hidden:</span> <span class=\"literal\">false</span></span><br><span class=\"line\">    <span class=\"attr\">ignore_pattern:</span></span><br><span class=\"line\">        <span class=\"attr\">public:</span> <span class=\"string\">.</span></span><br></pre></td></tr></tbody></table></figure>\n<p> Jekll  Hexo</p>\n","site":{"data":{}},"excerpt":"<p> 2  jekyll  google <a href=\"https://github.com/hexojs/hexo\">hexo</a>hexo  jekyll  markdown  jekyll  <a href=\"https://github.com/theme-next/hexo-theme-next\">hexo-theme-next</a>,  hexo  hugohexo <a href=\"https://hexo.io/zh-cn/docs/\"></a></p>","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">npm install -g hexo-cli</span></span><br><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">hexo init coolerfall.github.io</span></span><br><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\"><span class=\"built_in\">cd</span> coolerfall.github.io &amp;&amp; npm install</span></span><br></pre></td></tr></tbody></table></figure>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p> landscape  <a href=\"https://github.com/theme-next/hexo-theme-next\">hexo-theme-next</a> hexo  <code>themes</code> <code>_config.yml</code>  <code>theme</code>  <code>next</code> next  next  <code>tags</code>  <code>categories</code>  index </p>\n<figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">hexo new page tags</span></span><br><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">hexo new page categories</span></span><br></pre></td></tr></tbody></table></figure>\n<p><code>_posts</code>  <code>tags</code>  <code>categories</code>  <code>type</code>  <code>tags</code>  <code>categories</code> </p>\n<figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">hexo serve</span></span><br></pre></td></tr></tbody></table></figure>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p> Jekyllpost <code>:year-:month-:day-:title.md</code> hexo  <code>new_post_name</code>  Jekyll <code>_posts</code>  copy  hexo  <code>source/_posts</code>  Markdown  Jekyll  Markdown  Markdown <code></code></p>\n<ul>\n<li><br> <code>next</code>  <code>auto_excerpt</code>  true</li>\n<li><br> post  <code>&lt;!-- more --&gt;</code> </li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p> githubhexo  <code>Git</code><code>Heroku</code><code>Netlify</code>  <code>hexo-deployer-git</code></p>\n<figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">npm install hexo-deployer-git --save</span></span><br></pre></td></tr></tbody></table></figure>\n<p> <code>deploy</code> </p>\n<figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">hexo g -d</span></span><br></pre></td></tr></tbody></table></figure>\n<p>Hexo  Jekyll github  Hexo master source deploy </p>\n<figure class=\"highlight yml\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">deploy:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"attr\">type:</span> <span class=\"string\">git</span></span><br><span class=\"line\">    <span class=\"attr\">repo:</span> <span class=\"string\">git@github.com:you/your.github.io.git</span></span><br><span class=\"line\">    <span class=\"attr\">branch:</span> [<span class=\"string\">master</span>]</span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"attr\">type:</span> <span class=\"string\">git</span></span><br><span class=\"line\">    <span class=\"attr\">repo:</span> <span class=\"string\">git@github.com:you/anothergit.git</span></span><br><span class=\"line\">    <span class=\"attr\">branch:</span> [<span class=\"string\">master</span>]</span><br><span class=\"line\">    <span class=\"attr\">extend_dirs:</span> <span class=\"string\">/</span></span><br><span class=\"line\">    <span class=\"attr\">ignore_hidden:</span> <span class=\"literal\">false</span></span><br><span class=\"line\">    <span class=\"attr\">ignore_pattern:</span></span><br><span class=\"line\">        <span class=\"attr\">public:</span> <span class=\"string\">.</span></span><br></pre></td></tr></tbody></table></figure>\n<p> Jekll  Hexo</p>"},{"title":" Linux ","date":"2018-10-22T02:52:13.000Z","_content":"\n{% post_link work-on-linux-part-two %}ManjaroLinux4kManjaroLinux : )\n<!-- more -->\n\n\n#### \n`Noto Sans CJK````Noto``pacman`\n```shell\n$ sudo pacman -S noto-fonts noto-fonts-cjk noto-fonts-emoji wqy-microhei  \n```\n\n#### \n`$HOME/.config/fontconfig/fonts.conf`\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE fontconfig SYSTEM \"fonts.dtd\">\n\n<fontconfig>\n\n  <match target=\"font\">\n    <edit mode=\"assign\" name=\"rgba\">\n      <const>rgb</const>\n    </edit>\n  </match>\n\n  <match target=\"font\">\n    <edit mode=\"assign\" name=\"hintstyle\">\n      <const>hintfull</const>\n    </edit>\n  </match>\n\n  <match target=\"font\">\n    <edit mode=\"assign\" name=\"antialias\">\n      <bool>true</bool>\n    </edit>\n  </match>\n\n  <match target=\"font\">\n    <edit name=\"lcdfilter\" mode=\"assign\">\n      <const>lcddefault</const>\n    </edit>\n  </match>\n\n  <!-- Default font (no fc-match pattern) -->\n  <match>\n    <edit mode=\"prepend\" name=\"family\">\n      <string>Noto Sans Mono</string>\n    </edit>\n  </match>\n\n  <!-- Default font for the zh_CN locale (no fc-match pattern) -->\n  <match>\n    <test compare=\"contains\" name=\"lang\">\n      <string>zh_CN</string>\n    </test>\n    <edit mode=\"prepend\" name=\"family\">\n      <string>Noto Sans CJK SC</string>\n    </edit>\n  </match>\n\n  <!-- Default sans-serif font -->\n  <match target=\"pattern\">\n    <test qual=\"any\" name=\"family\">\n      <string>sans-serif</string></test>\n    <edit name=\"family\" mode=\"prepend\" binding=\"same\">\n      <string>Noto Sans</string>\n    </edit>\n  </match>\n\n  <!-- Default serif fonts -->\n  <match target=\"pattern\">\n    <test qual=\"any\" name=\"family\">\n      <string>serif</string>\n    </test>\n    <edit name=\"family\" mode=\"prepend\" binding=\"same\">\n      <string>Noto Serif</string>\n    </edit>\n  </match>\n\n  <!-- Fallback fonts preference order -->\n  <alias>\n    <family>sans-serif</family>\n    <prefer>\n      <family>Noto Sans</family>\n      <family>Noto Sans CJK SC</family>\n      <family>Noto Sans CJK TC</family>\n      <family>Noto Sans CJK JP</family>\n      <family>Noto Sans CJK KR</family>\n      <family>Noto Color Emoji</family>\n      <family>Noto Emoji</family>\n    </prefer>\n  </alias>\n  <alias>\n    <family>serif</family>\n    <prefer>\n      <family>Noto Serif</family>\n      <family>Noto Serif CJK SC</family>\n      <family>Noto Serif CJK TC</family>\n      <family>Noto Serif CJK JP</family>\n      <family>Noto Serif CJK KR</family>\n      <family>Noto Color Emoji</family>\n      <family>Noto Emoji</family>\n    </prefer>\n  </alias>\n  <alias>\n    <family>monospace</family>\n    <prefer>\n      <family>Noto Sans Mono</family>\n      <family>Noto Color Emoji</family>\n      <family>Noto Emoji</family>\n    </prefer>\n  </alias>\n\n</fontconfig>\n```\n\n```shell\n$ fc-cache -fv\n```\n\n#### \n* `->->->``Noto Sans CJK SC Regular``Noto Sans Mono Regular`10\n* DPI1080124\n\n#### Qt\n* `->->Qt5``Noto Sans CJK`\n\n#### \nchromechrome:\n![img][1]\n`Default``Simplified Han`Scriptemoji[](#)\n![img][2]\n![img][3]\nNoto\n\n#### \nIDEAVS Code\n\n\n[1]: /images/work-on-linux/font-config.png\n[2]: /images/work-on-linux/font-config-effects1.png\n[3]: /images/work-on-linux/font-config-effects2.png","source":"_posts/2018-10-22-work-on-linux-part-three.md","raw":"---\ntitle: Linux\ndate: 2018-10-22 10:52:13\ncategories: misc\ntags: linux\n---\n\n{% post_link work-on-linux-part-two %}ManjaroLinux4kManjaroLinux : )\n<!-- more -->\n\n\n#### \n`Noto Sans CJK````Noto``pacman`\n```shell\n$ sudo pacman -S noto-fonts noto-fonts-cjk noto-fonts-emoji wqy-microhei  \n```\n\n#### \n`$HOME/.config/fontconfig/fonts.conf`\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE fontconfig SYSTEM \"fonts.dtd\">\n\n<fontconfig>\n\n  <match target=\"font\">\n    <edit mode=\"assign\" name=\"rgba\">\n      <const>rgb</const>\n    </edit>\n  </match>\n\n  <match target=\"font\">\n    <edit mode=\"assign\" name=\"hintstyle\">\n      <const>hintfull</const>\n    </edit>\n  </match>\n\n  <match target=\"font\">\n    <edit mode=\"assign\" name=\"antialias\">\n      <bool>true</bool>\n    </edit>\n  </match>\n\n  <match target=\"font\">\n    <edit name=\"lcdfilter\" mode=\"assign\">\n      <const>lcddefault</const>\n    </edit>\n  </match>\n\n  <!-- Default font (no fc-match pattern) -->\n  <match>\n    <edit mode=\"prepend\" name=\"family\">\n      <string>Noto Sans Mono</string>\n    </edit>\n  </match>\n\n  <!-- Default font for the zh_CN locale (no fc-match pattern) -->\n  <match>\n    <test compare=\"contains\" name=\"lang\">\n      <string>zh_CN</string>\n    </test>\n    <edit mode=\"prepend\" name=\"family\">\n      <string>Noto Sans CJK SC</string>\n    </edit>\n  </match>\n\n  <!-- Default sans-serif font -->\n  <match target=\"pattern\">\n    <test qual=\"any\" name=\"family\">\n      <string>sans-serif</string></test>\n    <edit name=\"family\" mode=\"prepend\" binding=\"same\">\n      <string>Noto Sans</string>\n    </edit>\n  </match>\n\n  <!-- Default serif fonts -->\n  <match target=\"pattern\">\n    <test qual=\"any\" name=\"family\">\n      <string>serif</string>\n    </test>\n    <edit name=\"family\" mode=\"prepend\" binding=\"same\">\n      <string>Noto Serif</string>\n    </edit>\n  </match>\n\n  <!-- Fallback fonts preference order -->\n  <alias>\n    <family>sans-serif</family>\n    <prefer>\n      <family>Noto Sans</family>\n      <family>Noto Sans CJK SC</family>\n      <family>Noto Sans CJK TC</family>\n      <family>Noto Sans CJK JP</family>\n      <family>Noto Sans CJK KR</family>\n      <family>Noto Color Emoji</family>\n      <family>Noto Emoji</family>\n    </prefer>\n  </alias>\n  <alias>\n    <family>serif</family>\n    <prefer>\n      <family>Noto Serif</family>\n      <family>Noto Serif CJK SC</family>\n      <family>Noto Serif CJK TC</family>\n      <family>Noto Serif CJK JP</family>\n      <family>Noto Serif CJK KR</family>\n      <family>Noto Color Emoji</family>\n      <family>Noto Emoji</family>\n    </prefer>\n  </alias>\n  <alias>\n    <family>monospace</family>\n    <prefer>\n      <family>Noto Sans Mono</family>\n      <family>Noto Color Emoji</family>\n      <family>Noto Emoji</family>\n    </prefer>\n  </alias>\n\n</fontconfig>\n```\n\n```shell\n$ fc-cache -fv\n```\n\n#### \n* `->->->``Noto Sans CJK SC Regular``Noto Sans Mono Regular`10\n* DPI1080124\n\n#### Qt\n* `->->Qt5``Noto Sans CJK`\n\n#### \nchromechrome:\n![img][1]\n`Default``Simplified Han`Scriptemoji[](#)\n![img][2]\n![img][3]\nNoto\n\n#### \nIDEAVS Code\n\n\n[1]: /images/work-on-linux/font-config.png\n[2]: /images/work-on-linux/font-config-effects1.png\n[3]: /images/work-on-linux/font-config-effects2.png","slug":"work-on-linux-part-three","published":1,"updated":"2023-05-23T06:12:37.285Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cli00ivm2001yz0inhxxz6pxp","content":"<a href=\"/2018/10/18/work-on-linux-part-two/\" title=\"Linux\"> Linux </a>ManjaroLinux4kManjaroLinux : )\n<span id=\"more\"></span>\n\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p> <code>Noto Sans CJK</code><code></code> <code>Noto</code>  <code>pacman</code> </p>\n<figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">sudo pacman -S noto-fonts noto-fonts-cjk noto-fonts-emoji wqy-microhei</span>  </span><br></pre></td></tr></tbody></table></figure>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p> <code>$HOME/.config/fontconfig/fonts.conf</code></p>\n<figure class=\"highlight xml\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=<span class=\"string\">\"1.0\"</span> encoding=<span class=\"string\">\"UTF-8\"</span>?&gt;</span></span><br><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">fontconfig</span> <span class=\"keyword\">SYSTEM</span> <span class=\"string\">\"fonts.dtd\"</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">fontconfig</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">match</span> <span class=\"attr\">target</span>=<span class=\"string\">\"font\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">edit</span> <span class=\"attr\">mode</span>=<span class=\"string\">\"assign\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"rgba\"</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">const</span>&gt;</span>rgb<span class=\"tag\">&lt;/<span class=\"name\">const</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">edit</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">match</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">match</span> <span class=\"attr\">target</span>=<span class=\"string\">\"font\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">edit</span> <span class=\"attr\">mode</span>=<span class=\"string\">\"assign\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"hintstyle\"</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">const</span>&gt;</span>hintfull<span class=\"tag\">&lt;/<span class=\"name\">const</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">edit</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">match</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">match</span> <span class=\"attr\">target</span>=<span class=\"string\">\"font\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">edit</span> <span class=\"attr\">mode</span>=<span class=\"string\">\"assign\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"antialias\"</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">bool</span>&gt;</span>true<span class=\"tag\">&lt;/<span class=\"name\">bool</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">edit</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">match</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">match</span> <span class=\"attr\">target</span>=<span class=\"string\">\"font\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">edit</span> <span class=\"attr\">name</span>=<span class=\"string\">\"lcdfilter\"</span> <span class=\"attr\">mode</span>=<span class=\"string\">\"assign\"</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">const</span>&gt;</span>lcddefault<span class=\"tag\">&lt;/<span class=\"name\">const</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">edit</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">match</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- Default font (no fc-match pattern) --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">match</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">edit</span> <span class=\"attr\">mode</span>=<span class=\"string\">\"prepend\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"family\"</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">string</span>&gt;</span>Noto Sans Mono<span class=\"tag\">&lt;/<span class=\"name\">string</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">edit</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">match</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- Default font for the zh_CN locale (no fc-match pattern) --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">match</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">test</span> <span class=\"attr\">compare</span>=<span class=\"string\">\"contains\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"lang\"</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">string</span>&gt;</span>zh_CN<span class=\"tag\">&lt;/<span class=\"name\">string</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">test</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">edit</span> <span class=\"attr\">mode</span>=<span class=\"string\">\"prepend\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"family\"</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">string</span>&gt;</span>Noto Sans CJK SC<span class=\"tag\">&lt;/<span class=\"name\">string</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">edit</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">match</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- Default sans-serif font --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">match</span> <span class=\"attr\">target</span>=<span class=\"string\">\"pattern\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">test</span> <span class=\"attr\">qual</span>=<span class=\"string\">\"any\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"family\"</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">string</span>&gt;</span>sans-serif<span class=\"tag\">&lt;/<span class=\"name\">string</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">test</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">edit</span> <span class=\"attr\">name</span>=<span class=\"string\">\"family\"</span> <span class=\"attr\">mode</span>=<span class=\"string\">\"prepend\"</span> <span class=\"attr\">binding</span>=<span class=\"string\">\"same\"</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">string</span>&gt;</span>Noto Sans<span class=\"tag\">&lt;/<span class=\"name\">string</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">edit</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">match</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- Default serif fonts --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">match</span> <span class=\"attr\">target</span>=<span class=\"string\">\"pattern\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">test</span> <span class=\"attr\">qual</span>=<span class=\"string\">\"any\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"family\"</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">string</span>&gt;</span>serif<span class=\"tag\">&lt;/<span class=\"name\">string</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">test</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">edit</span> <span class=\"attr\">name</span>=<span class=\"string\">\"family\"</span> <span class=\"attr\">mode</span>=<span class=\"string\">\"prepend\"</span> <span class=\"attr\">binding</span>=<span class=\"string\">\"same\"</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">string</span>&gt;</span>Noto Serif<span class=\"tag\">&lt;/<span class=\"name\">string</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">edit</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">match</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- Fallback fonts preference order --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">alias</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">family</span>&gt;</span>sans-serif<span class=\"tag\">&lt;/<span class=\"name\">family</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">prefer</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">family</span>&gt;</span>Noto Sans<span class=\"tag\">&lt;/<span class=\"name\">family</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">family</span>&gt;</span>Noto Sans CJK SC<span class=\"tag\">&lt;/<span class=\"name\">family</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">family</span>&gt;</span>Noto Sans CJK TC<span class=\"tag\">&lt;/<span class=\"name\">family</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">family</span>&gt;</span>Noto Sans CJK JP<span class=\"tag\">&lt;/<span class=\"name\">family</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">family</span>&gt;</span>Noto Sans CJK KR<span class=\"tag\">&lt;/<span class=\"name\">family</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">family</span>&gt;</span>Noto Color Emoji<span class=\"tag\">&lt;/<span class=\"name\">family</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">family</span>&gt;</span>Noto Emoji<span class=\"tag\">&lt;/<span class=\"name\">family</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">prefer</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">alias</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">alias</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">family</span>&gt;</span>serif<span class=\"tag\">&lt;/<span class=\"name\">family</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">prefer</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">family</span>&gt;</span>Noto Serif<span class=\"tag\">&lt;/<span class=\"name\">family</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">family</span>&gt;</span>Noto Serif CJK SC<span class=\"tag\">&lt;/<span class=\"name\">family</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">family</span>&gt;</span>Noto Serif CJK TC<span class=\"tag\">&lt;/<span class=\"name\">family</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">family</span>&gt;</span>Noto Serif CJK JP<span class=\"tag\">&lt;/<span class=\"name\">family</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">family</span>&gt;</span>Noto Serif CJK KR<span class=\"tag\">&lt;/<span class=\"name\">family</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">family</span>&gt;</span>Noto Color Emoji<span class=\"tag\">&lt;/<span class=\"name\">family</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">family</span>&gt;</span>Noto Emoji<span class=\"tag\">&lt;/<span class=\"name\">family</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">prefer</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">alias</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">alias</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">family</span>&gt;</span>monospace<span class=\"tag\">&lt;/<span class=\"name\">family</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">prefer</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">family</span>&gt;</span>Noto Sans Mono<span class=\"tag\">&lt;/<span class=\"name\">family</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">family</span>&gt;</span>Noto Color Emoji<span class=\"tag\">&lt;/<span class=\"name\">family</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">family</span>&gt;</span>Noto Emoji<span class=\"tag\">&lt;/<span class=\"name\">family</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">prefer</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">alias</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">fontconfig</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>\n<p></p>\n<figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">fc-cache -fv</span></span><br></pre></td></tr></tbody></table></figure>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li><code>-&gt;-&gt;-&gt;</code> <code>Noto Sans CJK SC Regular</code> <code>Noto Sans Mono Regular</code> 10 </li>\n<li> DPI 1080  124 </li>\n</ul>\n<h4 id=\"Qt\"><a href=\"#Qt\" class=\"headerlink\" title=\"Qt\"></a>Qt </h4><ul>\n<li><code>-&gt;-&gt;Qt5</code> <code>Noto Sans CJK</code> </li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p> chrome  chrome :<br><img src=\"/images/work-on-linux/font-config.png\" alt=\"img\"><br> <code>Default</code>  <code>Simplified Han</code> Script  emoji <a href=\"#%E9%85%8D%E7%BD%AE%E5%AD%97%E4%BD%93\"></a><br><img src=\"/images/work-on-linux/font-config-effects1.png\" alt=\"img\"><br><img src=\"/images/work-on-linux/font-config-effects2.png\" alt=\"img\"><br> Noto </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>IDEAVS Code </p>\n","site":{"data":{}},"excerpt":"<a href=\"/2018/10/18/work-on-linux-part-two/\" title=\"Linux\"> Linux </a>ManjaroLinux4kManjaroLinux : )","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p> <code>Noto Sans CJK</code><code></code> <code>Noto</code>  <code>pacman</code> </p>\n<figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">sudo pacman -S noto-fonts noto-fonts-cjk noto-fonts-emoji wqy-microhei</span>  </span><br></pre></td></tr></tbody></table></figure>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p> <code>$HOME/.config/fontconfig/fonts.conf</code></p>\n<figure class=\"highlight xml\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=<span class=\"string\">\"1.0\"</span> encoding=<span class=\"string\">\"UTF-8\"</span>?&gt;</span></span><br><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">fontconfig</span> <span class=\"keyword\">SYSTEM</span> <span class=\"string\">\"fonts.dtd\"</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">fontconfig</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">match</span> <span class=\"attr\">target</span>=<span class=\"string\">\"font\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">edit</span> <span class=\"attr\">mode</span>=<span class=\"string\">\"assign\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"rgba\"</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">const</span>&gt;</span>rgb<span class=\"tag\">&lt;/<span class=\"name\">const</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">edit</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">match</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">match</span> <span class=\"attr\">target</span>=<span class=\"string\">\"font\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">edit</span> <span class=\"attr\">mode</span>=<span class=\"string\">\"assign\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"hintstyle\"</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">const</span>&gt;</span>hintfull<span class=\"tag\">&lt;/<span class=\"name\">const</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">edit</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">match</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">match</span> <span class=\"attr\">target</span>=<span class=\"string\">\"font\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">edit</span> <span class=\"attr\">mode</span>=<span class=\"string\">\"assign\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"antialias\"</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">bool</span>&gt;</span>true<span class=\"tag\">&lt;/<span class=\"name\">bool</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">edit</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">match</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">match</span> <span class=\"attr\">target</span>=<span class=\"string\">\"font\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">edit</span> <span class=\"attr\">name</span>=<span class=\"string\">\"lcdfilter\"</span> <span class=\"attr\">mode</span>=<span class=\"string\">\"assign\"</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">const</span>&gt;</span>lcddefault<span class=\"tag\">&lt;/<span class=\"name\">const</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">edit</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">match</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- Default font (no fc-match pattern) --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">match</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">edit</span> <span class=\"attr\">mode</span>=<span class=\"string\">\"prepend\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"family\"</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">string</span>&gt;</span>Noto Sans Mono<span class=\"tag\">&lt;/<span class=\"name\">string</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">edit</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">match</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- Default font for the zh_CN locale (no fc-match pattern) --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">match</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">test</span> <span class=\"attr\">compare</span>=<span class=\"string\">\"contains\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"lang\"</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">string</span>&gt;</span>zh_CN<span class=\"tag\">&lt;/<span class=\"name\">string</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">test</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">edit</span> <span class=\"attr\">mode</span>=<span class=\"string\">\"prepend\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"family\"</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">string</span>&gt;</span>Noto Sans CJK SC<span class=\"tag\">&lt;/<span class=\"name\">string</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">edit</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">match</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- Default sans-serif font --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">match</span> <span class=\"attr\">target</span>=<span class=\"string\">\"pattern\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">test</span> <span class=\"attr\">qual</span>=<span class=\"string\">\"any\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"family\"</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">string</span>&gt;</span>sans-serif<span class=\"tag\">&lt;/<span class=\"name\">string</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">test</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">edit</span> <span class=\"attr\">name</span>=<span class=\"string\">\"family\"</span> <span class=\"attr\">mode</span>=<span class=\"string\">\"prepend\"</span> <span class=\"attr\">binding</span>=<span class=\"string\">\"same\"</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">string</span>&gt;</span>Noto Sans<span class=\"tag\">&lt;/<span class=\"name\">string</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">edit</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">match</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- Default serif fonts --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">match</span> <span class=\"attr\">target</span>=<span class=\"string\">\"pattern\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">test</span> <span class=\"attr\">qual</span>=<span class=\"string\">\"any\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"family\"</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">string</span>&gt;</span>serif<span class=\"tag\">&lt;/<span class=\"name\">string</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">test</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">edit</span> <span class=\"attr\">name</span>=<span class=\"string\">\"family\"</span> <span class=\"attr\">mode</span>=<span class=\"string\">\"prepend\"</span> <span class=\"attr\">binding</span>=<span class=\"string\">\"same\"</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">string</span>&gt;</span>Noto Serif<span class=\"tag\">&lt;/<span class=\"name\">string</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">edit</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">match</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- Fallback fonts preference order --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">alias</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">family</span>&gt;</span>sans-serif<span class=\"tag\">&lt;/<span class=\"name\">family</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">prefer</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">family</span>&gt;</span>Noto Sans<span class=\"tag\">&lt;/<span class=\"name\">family</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">family</span>&gt;</span>Noto Sans CJK SC<span class=\"tag\">&lt;/<span class=\"name\">family</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">family</span>&gt;</span>Noto Sans CJK TC<span class=\"tag\">&lt;/<span class=\"name\">family</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">family</span>&gt;</span>Noto Sans CJK JP<span class=\"tag\">&lt;/<span class=\"name\">family</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">family</span>&gt;</span>Noto Sans CJK KR<span class=\"tag\">&lt;/<span class=\"name\">family</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">family</span>&gt;</span>Noto Color Emoji<span class=\"tag\">&lt;/<span class=\"name\">family</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">family</span>&gt;</span>Noto Emoji<span class=\"tag\">&lt;/<span class=\"name\">family</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">prefer</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">alias</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">alias</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">family</span>&gt;</span>serif<span class=\"tag\">&lt;/<span class=\"name\">family</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">prefer</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">family</span>&gt;</span>Noto Serif<span class=\"tag\">&lt;/<span class=\"name\">family</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">family</span>&gt;</span>Noto Serif CJK SC<span class=\"tag\">&lt;/<span class=\"name\">family</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">family</span>&gt;</span>Noto Serif CJK TC<span class=\"tag\">&lt;/<span class=\"name\">family</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">family</span>&gt;</span>Noto Serif CJK JP<span class=\"tag\">&lt;/<span class=\"name\">family</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">family</span>&gt;</span>Noto Serif CJK KR<span class=\"tag\">&lt;/<span class=\"name\">family</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">family</span>&gt;</span>Noto Color Emoji<span class=\"tag\">&lt;/<span class=\"name\">family</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">family</span>&gt;</span>Noto Emoji<span class=\"tag\">&lt;/<span class=\"name\">family</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">prefer</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">alias</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">alias</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">family</span>&gt;</span>monospace<span class=\"tag\">&lt;/<span class=\"name\">family</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">prefer</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">family</span>&gt;</span>Noto Sans Mono<span class=\"tag\">&lt;/<span class=\"name\">family</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">family</span>&gt;</span>Noto Color Emoji<span class=\"tag\">&lt;/<span class=\"name\">family</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">family</span>&gt;</span>Noto Emoji<span class=\"tag\">&lt;/<span class=\"name\">family</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">prefer</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">alias</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">fontconfig</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>\n<p></p>\n<figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">fc-cache -fv</span></span><br></pre></td></tr></tbody></table></figure>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li><code>-&gt;-&gt;-&gt;</code> <code>Noto Sans CJK SC Regular</code> <code>Noto Sans Mono Regular</code> 10 </li>\n<li> DPI 1080  124 </li>\n</ul>\n<h4 id=\"Qt\"><a href=\"#Qt\" class=\"headerlink\" title=\"Qt\"></a>Qt </h4><ul>\n<li><code>-&gt;-&gt;Qt5</code> <code>Noto Sans CJK</code> </li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p> chrome  chrome :<br><img src=\"/images/work-on-linux/font-config.png\" alt=\"img\"><br> <code>Default</code>  <code>Simplified Han</code> Script  emoji <a href=\"#%E9%85%8D%E7%BD%AE%E5%AD%97%E4%BD%93\"></a><br><img src=\"/images/work-on-linux/font-config-effects1.png\" alt=\"img\"><br><img src=\"/images/work-on-linux/font-config-effects2.png\" alt=\"img\"><br> Noto </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>IDEAVS Code </p>"},{"title":" Linux ","date":"2018-10-18T09:37:14.000Z","_content":"\n{% post_link work-on-linux-part-one %}ManjaroManjaroWindowsLinuxLinuxQQWindowsLinuxLinuxLinux : )\n<!-- more -->\n\n\n#### \nLinux`fcitx``ibus`[fcitx][1]\n* fcitx\n    ```shell\n    $ sudo pacman -S fcitx fcitx-configtool \n    ```\n* \n    fcitxsougou[Rime][2]`fcitx-skin-material`Rime`$HOME/.config/fcitx/rime/\n    luna_pinyin.custom.yaml`\n    ```yml\n    patch:\n    \"menu/page_size\": 9\n    switches:                   # \n        - name: ascii_mode\n        reset: 0                # reset 0 \n        states: [ ,  ]   #  ascii_mode = 0\n        - name: full_shape\n        states: [ ,  ]   # \n        - name: simplification\n        reset: 1                # \n        states: [ ,  ]\n    ```\n    /\n* \n    \n    ```shell\n    $ sudo pacman -S fcitx-gtk2 fcitx-gtk3 fcitx-qt4 fcitx-qt5\n    ```\n* \n    `$HOME/.xprofile`\n    ```text\n    export GTK_IM_MODULE=fcitx\n    export QT_IM_MODULE=fcitx\n    export XMODIFIERS=@im=fcitx\n    ```\nfcitx config GUI\n\n#### \n\n* [electronic-wechat][3]\nwebelectronic\n* [weweChat][4]\nelectronic-wechat\n* [deepin-wechat][5]\ndeepin[wine][6]\n\nwinegithubwine[winetricks-zh][7][shutter][8]Windows\n* wine\n    ```shell\n    $ sudo pacman -S wine wine-mono wine_gecko\n    ```\n* winetricks-zh\n    hash`winetricks-zh/verb/wechat.verb`sha256:\n    ```shell\n    $ sha256sum WeChatSetup.exe\n    ```\n    hashhash\n* \n    \n    - \n    `````$HOME/.local/share/fonts`\n    ```shell\n    $ fc-cache -fv\n    ```\n    - `$HOME/.wine/system.reg`\n    `LogPixels`80\n    - `$HOME/.wine/driver_c/windows/win.ini`\n    \n    ```text\n    [Desktop]\n    menufontsize=13\n    messagefontsize=13\n    statusfontsize=13\n    IconTitleSize=13\n    ```\n    - `$HOME/.wine/zh.reg`\n    \n    ```text\n    REGEDIT4\n\n    [HKEY_LOCAL_MACHINE\\Software\\Microsoft\\Windows NT\\CurrentVersion\\FontSubstitutes]\n\n    \"Arial\"=\"simsun\"\n    \"Arial CE,238\"=\"simsun\"\n    \"Arial CYR,204\"=\"simsun\"\n    \"Arial Greek,161\"=\"simsun\"\n    \"Arial TUR,162\"=\"simsun\"\n    \"Courier New\"=\"simsun\"\n    \"Courier New CE,238\"=\"simsun\"\n    \"Courier New CYR,204\"=\"simsun\"\n    \"Courier New Greek,161\"=\"simsun\"\n    \"Courier New TUR,162\"=\"simsun\"\n    \"FixedSys\"=\"simsun\"\n    \"Helv\"=\"simsun\"\n    \"Helvetica\"=\"simsun\"\n    \"MS Sans Serif\"=\"simsun\"\n    \"MS Shell Dlg\"=\"simsun\"\n    \"MS Shell Dlg 2\"=\"simsun\"\n    \"System\"=\"simsun\"\n    \"Tahoma\"=\"simsun\"\n    \"Times\"=\"simsun\"\n    \"Times New Roman CE,238\"=\"simsun\"\n    \"Times New Roman CYR,204\"=\"simsun\"\n    \"Times New Roman Greek,161\"=\"simsun\"\n    \"Times New Roman TUR,162\"=\"simsun\"\n    \"Tms Rmn\"=\"simsun\"\n    ```\nLinuxwine\n```text\nenv WINEPREFIX=\"/home/cooler/.wine\" wine \"/home/cooler/.wine/drive_c/Program Files/Tencent/WeChat/WeChat.exe\"\n```\n`Esc``winetricks-zh`\n\n#### \nLinuxWindowsvisual studioLinux\n\n#### \nLinux[shutter][8]\n```text\nshutter -s\n```\nQQ\n\n#### \nWindowsOfficeLinux[WPS Office][9][Libre Office][10]wpsMS Office\n\n#### \n* [GIMP][11]\n* [XMind][12]\n* PDF`Atril Document Viewer`\n* [VLC][13]\n* [Evolution][14]\n* ......\n\n[1]: https://wiki.archlinux.org/index.php/Fcitx\n[2]: https://wiki.archlinux.org/index.php/Rime_IME\n[3]: https://github.com/geeeeeeeeek/electronic-wechat\n[4]: https://github.com/trazyn/weweChat\n[5]: https://aur.archlinux.org/packages/deepin-wechat/\n[6]: https://www.winehq.org/\n[7]: https://github.com/hillwoodroc/winetricks-zh\n[8]: http://shutter-project.org/\n[9]: https://www.wps.com/\n[10]: https://www.libreoffice.org/\n[11]: https://www.gimp.org/\n[12]: https://www.xmind.net/\n[13]: https://www.videolan.org/vlc/\n[14]: https://wiki.gnome.org/Apps/Evolution","source":"_posts/2018-10-18-work-on-linux-part-two.md","raw":"---\ntitle: Linux\ndate: 2018-10-18 17:37:14\ncategories: misc\ntags: linux\n---\n\n{% post_link work-on-linux-part-one %}ManjaroManjaroWindowsLinuxLinuxQQWindowsLinuxLinuxLinux : )\n<!-- more -->\n\n\n#### \nLinux`fcitx``ibus`[fcitx][1]\n* fcitx\n    ```shell\n    $ sudo pacman -S fcitx fcitx-configtool \n    ```\n* \n    fcitxsougou[Rime][2]`fcitx-skin-material`Rime`$HOME/.config/fcitx/rime/\n    luna_pinyin.custom.yaml`\n    ```yml\n    patch:\n    \"menu/page_size\": 9\n    switches:                   # \n        - name: ascii_mode\n        reset: 0                # reset 0 \n        states: [ ,  ]   #  ascii_mode = 0\n        - name: full_shape\n        states: [ ,  ]   # \n        - name: simplification\n        reset: 1                # \n        states: [ ,  ]\n    ```\n    /\n* \n    \n    ```shell\n    $ sudo pacman -S fcitx-gtk2 fcitx-gtk3 fcitx-qt4 fcitx-qt5\n    ```\n* \n    `$HOME/.xprofile`\n    ```text\n    export GTK_IM_MODULE=fcitx\n    export QT_IM_MODULE=fcitx\n    export XMODIFIERS=@im=fcitx\n    ```\nfcitx config GUI\n\n#### \n\n* [electronic-wechat][3]\nwebelectronic\n* [weweChat][4]\nelectronic-wechat\n* [deepin-wechat][5]\ndeepin[wine][6]\n\nwinegithubwine[winetricks-zh][7][shutter][8]Windows\n* wine\n    ```shell\n    $ sudo pacman -S wine wine-mono wine_gecko\n    ```\n* winetricks-zh\n    hash`winetricks-zh/verb/wechat.verb`sha256:\n    ```shell\n    $ sha256sum WeChatSetup.exe\n    ```\n    hashhash\n* \n    \n    - \n    `````$HOME/.local/share/fonts`\n    ```shell\n    $ fc-cache -fv\n    ```\n    - `$HOME/.wine/system.reg`\n    `LogPixels`80\n    - `$HOME/.wine/driver_c/windows/win.ini`\n    \n    ```text\n    [Desktop]\n    menufontsize=13\n    messagefontsize=13\n    statusfontsize=13\n    IconTitleSize=13\n    ```\n    - `$HOME/.wine/zh.reg`\n    \n    ```text\n    REGEDIT4\n\n    [HKEY_LOCAL_MACHINE\\Software\\Microsoft\\Windows NT\\CurrentVersion\\FontSubstitutes]\n\n    \"Arial\"=\"simsun\"\n    \"Arial CE,238\"=\"simsun\"\n    \"Arial CYR,204\"=\"simsun\"\n    \"Arial Greek,161\"=\"simsun\"\n    \"Arial TUR,162\"=\"simsun\"\n    \"Courier New\"=\"simsun\"\n    \"Courier New CE,238\"=\"simsun\"\n    \"Courier New CYR,204\"=\"simsun\"\n    \"Courier New Greek,161\"=\"simsun\"\n    \"Courier New TUR,162\"=\"simsun\"\n    \"FixedSys\"=\"simsun\"\n    \"Helv\"=\"simsun\"\n    \"Helvetica\"=\"simsun\"\n    \"MS Sans Serif\"=\"simsun\"\n    \"MS Shell Dlg\"=\"simsun\"\n    \"MS Shell Dlg 2\"=\"simsun\"\n    \"System\"=\"simsun\"\n    \"Tahoma\"=\"simsun\"\n    \"Times\"=\"simsun\"\n    \"Times New Roman CE,238\"=\"simsun\"\n    \"Times New Roman CYR,204\"=\"simsun\"\n    \"Times New Roman Greek,161\"=\"simsun\"\n    \"Times New Roman TUR,162\"=\"simsun\"\n    \"Tms Rmn\"=\"simsun\"\n    ```\nLinuxwine\n```text\nenv WINEPREFIX=\"/home/cooler/.wine\" wine \"/home/cooler/.wine/drive_c/Program Files/Tencent/WeChat/WeChat.exe\"\n```\n`Esc``winetricks-zh`\n\n#### \nLinuxWindowsvisual studioLinux\n\n#### \nLinux[shutter][8]\n```text\nshutter -s\n```\nQQ\n\n#### \nWindowsOfficeLinux[WPS Office][9][Libre Office][10]wpsMS Office\n\n#### \n* [GIMP][11]\n* [XMind][12]\n* PDF`Atril Document Viewer`\n* [VLC][13]\n* [Evolution][14]\n* ......\n\n[1]: https://wiki.archlinux.org/index.php/Fcitx\n[2]: https://wiki.archlinux.org/index.php/Rime_IME\n[3]: https://github.com/geeeeeeeeek/electronic-wechat\n[4]: https://github.com/trazyn/weweChat\n[5]: https://aur.archlinux.org/packages/deepin-wechat/\n[6]: https://www.winehq.org/\n[7]: https://github.com/hillwoodroc/winetricks-zh\n[8]: http://shutter-project.org/\n[9]: https://www.wps.com/\n[10]: https://www.libreoffice.org/\n[11]: https://www.gimp.org/\n[12]: https://www.xmind.net/\n[13]: https://www.videolan.org/vlc/\n[14]: https://wiki.gnome.org/Apps/Evolution","slug":"work-on-linux-part-two","published":1,"updated":"2023-05-23T06:00:32.378Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cli00ivm30021z0inhdn13gyc","content":"<a href=\"/2018/10/17/work-on-linux-part-one/\" title=\"Linux\"> Linux </a>ManjaroManjaroWindowsLinuxLinuxQQWindowsLinuxLinuxLinux : )\n<span id=\"more\"></span>\n\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>Linux  <code>fcitx</code>  <code>ibus</code> <a href=\"https://wiki.archlinux.org/index.php/Fcitx\">fcitx</a></p>\n<ul>\n<li> fcitx  <figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">sudo pacman -S fcitx fcitx-configtool</span> </span><br></pre></td></tr></tbody></table></figure></li>\n<li><br>  fcitx  sougou  <a href=\"https://wiki.archlinux.org/index.php/Rime_IME\">Rime</a> <code>fcitx-skin-material</code>  Rime  <code>$HOME/.config/fcitx/rime/   luna_pinyin.custom.yaml</code>  <figure class=\"highlight yml\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">patch:</span></span><br><span class=\"line\"><span class=\"attr\">\"menu/page_size\":</span> <span class=\"number\">9</span></span><br><span class=\"line\"><span class=\"attr\">switches:</span>                   <span class=\"comment\"># </span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">ascii_mode</span></span><br><span class=\"line\">    <span class=\"attr\">reset:</span> <span class=\"number\">0</span>                <span class=\"comment\"># reset 0 </span></span><br><span class=\"line\">    <span class=\"attr\">states:</span> [ <span class=\"string\"></span>, <span class=\"string\"></span> ]   <span class=\"comment\">#  ascii_mode = 0</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">full_shape</span></span><br><span class=\"line\">    <span class=\"attr\">states:</span> [ <span class=\"string\"></span>, <span class=\"string\"></span> ]   <span class=\"comment\"># </span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">simplification</span></span><br><span class=\"line\">    <span class=\"attr\">reset:</span> <span class=\"number\">1</span>                <span class=\"comment\"># </span></span><br><span class=\"line\">    <span class=\"attr\">states:</span> [ <span class=\"string\"></span>, <span class=\"string\"></span> ]</span><br></pre></td></tr></tbody></table></figure>\n   / </li>\n<li><br>    <figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">sudo pacman -S fcitx-gtk2 fcitx-gtk3 fcitx-qt4 fcitx-qt5</span></span><br></pre></td></tr></tbody></table></figure></li>\n<li><br>   <code>$HOME/.xprofile</code>   <figure class=\"highlight text\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">export GTK_IM_MODULE=fcitx</span><br><span class=\"line\">export QT_IM_MODULE=fcitx</span><br><span class=\"line\">export XMODIFIERS=@im=fcitx</span><br></pre></td></tr></tbody></table></figure>\n fcitx config GUI </li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<ul>\n<li><a href=\"https://github.com/geeeeeeeeek/electronic-wechat\">electronic-wechat</a><br> web  electronic </li>\n<li><a href=\"https://github.com/trazyn/weweChat\">weweChat</a><br> electronic-wechat </li>\n<li><a href=\"https://aur.archlinux.org/packages/deepin-wechat/\">deepin-wechat</a><br> deepin  <a href=\"https://www.winehq.org/\">wine</a></li>\n</ul>\n<p> wine  github  wine  <a href=\"https://github.com/hillwoodroc/winetricks-zh\">winetricks-zh</a><a href=\"http://shutter-project.org/\">shutter</a> Windows </p>\n<ul>\n<li> wine   <figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">sudo pacman -S wine wine-mono wine_gecko</span></span><br></pre></td></tr></tbody></table></figure></li>\n<li> winetricks-zh <br>   hash  <code>winetricks-zh/verb/wechat.verb</code> sha256:  <figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\"><span class=\"built_in\">sha256sum</span> WeChatSetup.exe</span></span><br></pre></td></tr></tbody></table></figure>\n   hash  hash </li>\n<li><br>  <ul>\n<li><br>  <code></code><code></code> <code>$HOME/.local/share/fonts</code>   <figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">fc-cache -fv</span></span><br></pre></td></tr></tbody></table></figure></li>\n<li> <code>$HOME/.wine/system.reg</code><br>   <code>LogPixels</code> 80</li>\n<li> <code>$HOME/.wine/driver_c/windows/win.ini</code><br>    <figure class=\"highlight text\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[Desktop]</span><br><span class=\"line\">menufontsize=13</span><br><span class=\"line\">messagefontsize=13</span><br><span class=\"line\">statusfontsize=13</span><br><span class=\"line\">IconTitleSize=13</span><br></pre></td></tr></tbody></table></figure></li>\n<li> <code>$HOME/.wine/zh.reg</code><br>    <figure class=\"highlight text\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">REGEDIT4</span><br><span class=\"line\"></span><br><span class=\"line\">[HKEY_LOCAL_MACHINE\\Software\\Microsoft\\Windows NT\\CurrentVersion\\FontSubstitutes]</span><br><span class=\"line\"></span><br><span class=\"line\">\"Arial\"=\"simsun\"</span><br><span class=\"line\">\"Arial CE,238\"=\"simsun\"</span><br><span class=\"line\">\"Arial CYR,204\"=\"simsun\"</span><br><span class=\"line\">\"Arial Greek,161\"=\"simsun\"</span><br><span class=\"line\">\"Arial TUR,162\"=\"simsun\"</span><br><span class=\"line\">\"Courier New\"=\"simsun\"</span><br><span class=\"line\">\"Courier New CE,238\"=\"simsun\"</span><br><span class=\"line\">\"Courier New CYR,204\"=\"simsun\"</span><br><span class=\"line\">\"Courier New Greek,161\"=\"simsun\"</span><br><span class=\"line\">\"Courier New TUR,162\"=\"simsun\"</span><br><span class=\"line\">\"FixedSys\"=\"simsun\"</span><br><span class=\"line\">\"Helv\"=\"simsun\"</span><br><span class=\"line\">\"Helvetica\"=\"simsun\"</span><br><span class=\"line\">\"MS Sans Serif\"=\"simsun\"</span><br><span class=\"line\">\"MS Shell Dlg\"=\"simsun\"</span><br><span class=\"line\">\"MS Shell Dlg 2\"=\"simsun\"</span><br><span class=\"line\">\"System\"=\"simsun\"</span><br><span class=\"line\">\"Tahoma\"=\"simsun\"</span><br><span class=\"line\">\"Times\"=\"simsun\"</span><br><span class=\"line\">\"Times New Roman CE,238\"=\"simsun\"</span><br><span class=\"line\">\"Times New Roman CYR,204\"=\"simsun\"</span><br><span class=\"line\">\"Times New Roman Greek,161\"=\"simsun\"</span><br><span class=\"line\">\"Times New Roman TUR,162\"=\"simsun\"</span><br><span class=\"line\">\"Tms Rmn\"=\"simsun\"</span><br></pre></td></tr></tbody></table></figure>\nLinux  wine <figure class=\"highlight text\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">env WINEPREFIX=\"/home/cooler/.wine\" wine \"/home/cooler/.wine/drive_c/Program Files/Tencent/WeChat/WeChat.exe\"</span><br></pre></td></tr></tbody></table></figure>\n <code>Esc</code>  <code>winetricks-zh</code></li>\n</ul>\n</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p> Linux  Windows  visual studio  Linux </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>Linux  <a href=\"http://shutter-project.org/\">shutter</a></p>\n<figure class=\"highlight text\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">shutter -s</span><br></pre></td></tr></tbody></table></figure>\n<p>QQ </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>Windows  Office  Linux  <a href=\"https://www.wps.com/\">WPS Office</a>  <a href=\"https://www.libreoffice.org/\">Libre Office</a>wps  MS Office</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li> <a href=\"https://www.gimp.org/\">GIMP</a></li>\n<li>  <a href=\"https://www.xmind.net/\">XMind</a></li>\n<li>PDF  <code>Atril Document Viewer</code> </li>\n<li> <a href=\"https://www.videolan.org/vlc/\">VLC</a></li>\n<li> <a href=\"https://wiki.gnome.org/Apps/Evolution\">Evolution</a></li>\n<li></li>\n</ul>\n","site":{"data":{}},"excerpt":"<a href=\"/2018/10/17/work-on-linux-part-one/\" title=\"Linux\"> Linux </a>ManjaroManjaroWindowsLinuxLinuxQQWindowsLinuxLinuxLinux : )","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>Linux  <code>fcitx</code>  <code>ibus</code> <a href=\"https://wiki.archlinux.org/index.php/Fcitx\">fcitx</a></p>\n<ul>\n<li> fcitx  <figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">sudo pacman -S fcitx fcitx-configtool</span> </span><br></pre></td></tr></tbody></table></figure></li>\n<li><br>  fcitx  sougou  <a href=\"https://wiki.archlinux.org/index.php/Rime_IME\">Rime</a> <code>fcitx-skin-material</code>  Rime  <code>$HOME/.config/fcitx/rime/   luna_pinyin.custom.yaml</code>  <figure class=\"highlight yml\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">patch:</span></span><br><span class=\"line\"><span class=\"attr\">\"menu/page_size\":</span> <span class=\"number\">9</span></span><br><span class=\"line\"><span class=\"attr\">switches:</span>                   <span class=\"comment\"># </span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">ascii_mode</span></span><br><span class=\"line\">    <span class=\"attr\">reset:</span> <span class=\"number\">0</span>                <span class=\"comment\"># reset 0 </span></span><br><span class=\"line\">    <span class=\"attr\">states:</span> [ <span class=\"string\"></span>, <span class=\"string\"></span> ]   <span class=\"comment\">#  ascii_mode = 0</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">full_shape</span></span><br><span class=\"line\">    <span class=\"attr\">states:</span> [ <span class=\"string\"></span>, <span class=\"string\"></span> ]   <span class=\"comment\"># </span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">simplification</span></span><br><span class=\"line\">    <span class=\"attr\">reset:</span> <span class=\"number\">1</span>                <span class=\"comment\"># </span></span><br><span class=\"line\">    <span class=\"attr\">states:</span> [ <span class=\"string\"></span>, <span class=\"string\"></span> ]</span><br></pre></td></tr></tbody></table></figure>\n   / </li>\n<li><br>    <figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">sudo pacman -S fcitx-gtk2 fcitx-gtk3 fcitx-qt4 fcitx-qt5</span></span><br></pre></td></tr></tbody></table></figure></li>\n<li><br>   <code>$HOME/.xprofile</code>   <figure class=\"highlight text\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">export GTK_IM_MODULE=fcitx</span><br><span class=\"line\">export QT_IM_MODULE=fcitx</span><br><span class=\"line\">export XMODIFIERS=@im=fcitx</span><br></pre></td></tr></tbody></table></figure>\n fcitx config GUI </li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<ul>\n<li><a href=\"https://github.com/geeeeeeeeek/electronic-wechat\">electronic-wechat</a><br> web  electronic </li>\n<li><a href=\"https://github.com/trazyn/weweChat\">weweChat</a><br> electronic-wechat </li>\n<li><a href=\"https://aur.archlinux.org/packages/deepin-wechat/\">deepin-wechat</a><br> deepin  <a href=\"https://www.winehq.org/\">wine</a></li>\n</ul>\n<p> wine  github  wine  <a href=\"https://github.com/hillwoodroc/winetricks-zh\">winetricks-zh</a><a href=\"http://shutter-project.org/\">shutter</a> Windows </p>\n<ul>\n<li> wine   <figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">sudo pacman -S wine wine-mono wine_gecko</span></span><br></pre></td></tr></tbody></table></figure></li>\n<li> winetricks-zh <br>   hash  <code>winetricks-zh/verb/wechat.verb</code> sha256:  <figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\"><span class=\"built_in\">sha256sum</span> WeChatSetup.exe</span></span><br></pre></td></tr></tbody></table></figure>\n   hash  hash </li>\n<li><br>  <ul>\n<li><br>  <code></code><code></code> <code>$HOME/.local/share/fonts</code>   <figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">fc-cache -fv</span></span><br></pre></td></tr></tbody></table></figure></li>\n<li> <code>$HOME/.wine/system.reg</code><br>   <code>LogPixels</code> 80</li>\n<li> <code>$HOME/.wine/driver_c/windows/win.ini</code><br>    <figure class=\"highlight text\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[Desktop]</span><br><span class=\"line\">menufontsize=13</span><br><span class=\"line\">messagefontsize=13</span><br><span class=\"line\">statusfontsize=13</span><br><span class=\"line\">IconTitleSize=13</span><br></pre></td></tr></tbody></table></figure></li>\n<li> <code>$HOME/.wine/zh.reg</code><br>    <figure class=\"highlight text\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">REGEDIT4</span><br><span class=\"line\"></span><br><span class=\"line\">[HKEY_LOCAL_MACHINE\\Software\\Microsoft\\Windows NT\\CurrentVersion\\FontSubstitutes]</span><br><span class=\"line\"></span><br><span class=\"line\">\"Arial\"=\"simsun\"</span><br><span class=\"line\">\"Arial CE,238\"=\"simsun\"</span><br><span class=\"line\">\"Arial CYR,204\"=\"simsun\"</span><br><span class=\"line\">\"Arial Greek,161\"=\"simsun\"</span><br><span class=\"line\">\"Arial TUR,162\"=\"simsun\"</span><br><span class=\"line\">\"Courier New\"=\"simsun\"</span><br><span class=\"line\">\"Courier New CE,238\"=\"simsun\"</span><br><span class=\"line\">\"Courier New CYR,204\"=\"simsun\"</span><br><span class=\"line\">\"Courier New Greek,161\"=\"simsun\"</span><br><span class=\"line\">\"Courier New TUR,162\"=\"simsun\"</span><br><span class=\"line\">\"FixedSys\"=\"simsun\"</span><br><span class=\"line\">\"Helv\"=\"simsun\"</span><br><span class=\"line\">\"Helvetica\"=\"simsun\"</span><br><span class=\"line\">\"MS Sans Serif\"=\"simsun\"</span><br><span class=\"line\">\"MS Shell Dlg\"=\"simsun\"</span><br><span class=\"line\">\"MS Shell Dlg 2\"=\"simsun\"</span><br><span class=\"line\">\"System\"=\"simsun\"</span><br><span class=\"line\">\"Tahoma\"=\"simsun\"</span><br><span class=\"line\">\"Times\"=\"simsun\"</span><br><span class=\"line\">\"Times New Roman CE,238\"=\"simsun\"</span><br><span class=\"line\">\"Times New Roman CYR,204\"=\"simsun\"</span><br><span class=\"line\">\"Times New Roman Greek,161\"=\"simsun\"</span><br><span class=\"line\">\"Times New Roman TUR,162\"=\"simsun\"</span><br><span class=\"line\">\"Tms Rmn\"=\"simsun\"</span><br></pre></td></tr></tbody></table></figure>\nLinux  wine <figure class=\"highlight text\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">env WINEPREFIX=\"/home/cooler/.wine\" wine \"/home/cooler/.wine/drive_c/Program Files/Tencent/WeChat/WeChat.exe\"</span><br></pre></td></tr></tbody></table></figure>\n <code>Esc</code>  <code>winetricks-zh</code></li>\n</ul>\n</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p> Linux  Windows  visual studio  Linux </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>Linux  <a href=\"http://shutter-project.org/\">shutter</a></p>\n<figure class=\"highlight text\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">shutter -s</span><br></pre></td></tr></tbody></table></figure>\n<p>QQ </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>Windows  Office  Linux  <a href=\"https://www.wps.com/\">WPS Office</a>  <a href=\"https://www.libreoffice.org/\">Libre Office</a>wps  MS Office</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li> <a href=\"https://www.gimp.org/\">GIMP</a></li>\n<li>  <a href=\"https://www.xmind.net/\">XMind</a></li>\n<li>PDF  <code>Atril Document Viewer</code> </li>\n<li> <a href=\"https://www.videolan.org/vlc/\">VLC</a></li>\n<li> <a href=\"https://wiki.gnome.org/Apps/Evolution\">Evolution</a></li>\n<li></li>\n</ul>"},{"title":" Linux ","date":"2018-10-17T09:47:03.000Z","_content":"\nLinuxLinuxWindowssshLinuxAndroidWindowsLinux[mingw][1]LinuxLinux[Manjaro][2]Mate DesktopMateManjaro[Arch Linux][3]Arch LinuxArch LinuxgoogleLinux : )\n<!-- more -->\n\n\n#### Manjaro\n[Manjaro][2]UWindows[rufus][4]USBUrufusDDUManjaroManjaroWindows`efi`100MFAT32`/boot/efi`\n* `/` --- 50G\n* `/boot` --- 512M\n* `/var`pacman --- 30G\n* `/swap` --- 4G\n* `/home` --- \nGRUB bootloadergrub[][5]GRUB[rEFInd][6]USBUUTerminalrEFInd\n```shell\n$ sudo pacman -S refind-efi\n```\nrEFIndWindowsManjaro\n\n#### \n\n* \n    ```\n    $ sudo pacman-mirrors -i -c China -m rank\n    ```\n    \n* archlinux\n    `/etc/pacman.conf`\n    ```text\n    [archlinuxcn]\n    SigLevel = Optional TrustedOnly\n    Server = http://repo.archlinuxcn.org/$arch\n    ```\n    `mirrolist`\n    ```shell\n    $ sudo pacman-mirrors -g\n    ```\n* \n    :\n    ```shell\n    $ sudo pacman -Syyu\n    ```\n    archlinuxcn`archlinuxcn-keyring`\n    ```shell\n    $ sudo pacman -S archlinuxcn-keyring\n    ```\nAUR`yaourt`[AUR][7]pacmanGUIAURAURAUR\n\n\n[1]: http://www.mingw.org/\n[2]: https://manjaro.org/get-manjaro/\n[3]: https://www.archlinux.org/\n[4]: http://rufus.ie/\n[5]: https://wiki.manjaro.org/index.php?title=UEFI_-_Install_Guide\n[6]: http://www.rodsbooks.com/refind/index.html\n[7]: https://wiki.archlinux.org/index.php/AUR_helpers","source":"_posts/2018-10-17-work-on-linux-part-one.md","raw":"---\ntitle: Linux\ndate: 2018-10-17 17:47:03\ncategories: misc\ntags: linux\n---\n\nLinuxLinuxWindowssshLinuxAndroidWindowsLinux[mingw][1]LinuxLinux[Manjaro][2]Mate DesktopMateManjaro[Arch Linux][3]Arch LinuxArch LinuxgoogleLinux : )\n<!-- more -->\n\n\n#### Manjaro\n[Manjaro][2]UWindows[rufus][4]USBUrufusDDUManjaroManjaroWindows`efi`100MFAT32`/boot/efi`\n* `/` --- 50G\n* `/boot` --- 512M\n* `/var`pacman --- 30G\n* `/swap` --- 4G\n* `/home` --- \nGRUB bootloadergrub[][5]GRUB[rEFInd][6]USBUUTerminalrEFInd\n```shell\n$ sudo pacman -S refind-efi\n```\nrEFIndWindowsManjaro\n\n#### \n\n* \n    ```\n    $ sudo pacman-mirrors -i -c China -m rank\n    ```\n    \n* archlinux\n    `/etc/pacman.conf`\n    ```text\n    [archlinuxcn]\n    SigLevel = Optional TrustedOnly\n    Server = http://repo.archlinuxcn.org/$arch\n    ```\n    `mirrolist`\n    ```shell\n    $ sudo pacman-mirrors -g\n    ```\n* \n    :\n    ```shell\n    $ sudo pacman -Syyu\n    ```\n    archlinuxcn`archlinuxcn-keyring`\n    ```shell\n    $ sudo pacman -S archlinuxcn-keyring\n    ```\nAUR`yaourt`[AUR][7]pacmanGUIAURAURAUR\n\n\n[1]: http://www.mingw.org/\n[2]: https://manjaro.org/get-manjaro/\n[3]: https://www.archlinux.org/\n[4]: http://rufus.ie/\n[5]: https://wiki.manjaro.org/index.php?title=UEFI_-_Install_Guide\n[6]: http://www.rodsbooks.com/refind/index.html\n[7]: https://wiki.archlinux.org/index.php/AUR_helpers","slug":"work-on-linux-part-one","published":1,"updated":"2023-05-23T05:58:45.346Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cli00ivm40025z0in2c1hcktg","content":"<p> Linux Linux Windows  ssh  Linux  Android  Windows  Linux  <a href=\"http://www.mingw.org/\">mingw</a>  Linux  Linux <a href=\"https://manjaro.org/get-manjaro/\">Manjaro</a>  Mate Desktop MateManjaro  <a href=\"https://www.archlinux.org/\">Arch Linux</a>  Arch Linux  Arch Linux  google  Linux  : )</p>\n<span id=\"more\"></span>\n\n\n<h4 id=\"Manjaro\"><a href=\"#Manjaro\" class=\"headerlink\" title=\"Manjaro\"></a> Manjaro</h4><p> <a href=\"https://manjaro.org/get-manjaro/\">Manjaro </a> U Windows  <a href=\"http://rufus.ie/\">rufus</a>  USB  U rufus  DD  U  Manjaro  Manjaro  Windows  <code>efi</code>  100M  FAT32  <code>/boot/efi</code></p>\n<ul>\n<li><code>/</code>   50G</li>\n<li><code>/boot</code>   512M</li>\n<li><code>/var</code> pacman   30G</li>\n<li><code>/swap</code>   4G</li>\n<li><code>/home</code>   <br> GRUB bootloader  grub<a href=\"https://wiki.manjaro.org/index.php?title=UEFI_-_Install_Guide\"></a>GRUB  <a href=\"http://www.rodsbooks.com/refind/index.html\">rEFInd</a> USB  U  U  Terminal  rEFInd<figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">sudo pacman -S refind-efi</span></span><br></pre></td></tr></tbody></table></figure>\n rEFInd  Windows  Manjaro</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<ul>\n<li>  <figure class=\"highlight plaintext\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ sudo pacman-mirrors -i -c China -m rank</span><br></pre></td></tr></tbody></table></figure>\n  </li>\n<li> archlinux <br>   <code>/etc/pacman.conf</code>  <figure class=\"highlight text\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[archlinuxcn]</span><br><span class=\"line\">SigLevel = Optional TrustedOnly</span><br><span class=\"line\">Server = http://repo.archlinuxcn.org/$arch</span><br></pre></td></tr></tbody></table></figure>\n   <code>mirrolist</code>  <figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">sudo pacman-mirrors -g</span></span><br></pre></td></tr></tbody></table></figure></li>\n<li><br>  :  <figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">sudo pacman -Syyu</span></span><br></pre></td></tr></tbody></table></figure>\n   archlinuxcn  <code>archlinuxcn-keyring</code>  <figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">sudo pacman -S archlinuxcn-keyring</span></span><br></pre></td></tr></tbody></table></figure>\n AUR  <code>yaourt</code> <a href=\"https://wiki.archlinux.org/index.php/AUR_helpers\">AUR </a> pacman  GUI AUR AUR  AUR </li>\n</ul>\n","site":{"data":{}},"excerpt":"<p> Linux Linux Windows  ssh  Linux  Android  Windows  Linux  <a href=\"http://www.mingw.org/\">mingw</a>  Linux  Linux <a href=\"https://manjaro.org/get-manjaro/\">Manjaro</a>  Mate Desktop MateManjaro  <a href=\"https://www.archlinux.org/\">Arch Linux</a>  Arch Linux  Arch Linux  google  Linux  : )</p>","more":"<h4 id=\"Manjaro\"><a href=\"#Manjaro\" class=\"headerlink\" title=\"Manjaro\"></a> Manjaro</h4><p> <a href=\"https://manjaro.org/get-manjaro/\">Manjaro </a> U Windows  <a href=\"http://rufus.ie/\">rufus</a>  USB  U rufus  DD  U  Manjaro  Manjaro  Windows  <code>efi</code>  100M  FAT32  <code>/boot/efi</code></p>\n<ul>\n<li><code>/</code>   50G</li>\n<li><code>/boot</code>   512M</li>\n<li><code>/var</code> pacman   30G</li>\n<li><code>/swap</code>   4G</li>\n<li><code>/home</code>   <br> GRUB bootloader  grub<a href=\"https://wiki.manjaro.org/index.php?title=UEFI_-_Install_Guide\"></a>GRUB  <a href=\"http://www.rodsbooks.com/refind/index.html\">rEFInd</a> USB  U  U  Terminal  rEFInd<figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">sudo pacman -S refind-efi</span></span><br></pre></td></tr></tbody></table></figure>\n rEFInd  Windows  Manjaro</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<ul>\n<li>  <figure class=\"highlight plaintext\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ sudo pacman-mirrors -i -c China -m rank</span><br></pre></td></tr></tbody></table></figure>\n  </li>\n<li> archlinux <br>   <code>/etc/pacman.conf</code>  <figure class=\"highlight text\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[archlinuxcn]</span><br><span class=\"line\">SigLevel = Optional TrustedOnly</span><br><span class=\"line\">Server = http://repo.archlinuxcn.org/$arch</span><br></pre></td></tr></tbody></table></figure>\n   <code>mirrolist</code>  <figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">sudo pacman-mirrors -g</span></span><br></pre></td></tr></tbody></table></figure></li>\n<li><br>  :  <figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">sudo pacman -Syyu</span></span><br></pre></td></tr></tbody></table></figure>\n   archlinuxcn  <code>archlinuxcn-keyring</code>  <figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">sudo pacman -S archlinuxcn-keyring</span></span><br></pre></td></tr></tbody></table></figure>\n AUR  <code>yaourt</code> <a href=\"https://wiki.archlinux.org/index.php/AUR_helpers\">AUR </a> pacman  GUI AUR AUR  AUR </li>\n</ul>"},{"title":" disqus  colina","date":"2019-02-19T08:45:50.000Z","_content":"\nHexo`disqus````gitment` `disqus`disqus[colina][1]Markdown\n\n<!-- more -->\n\n#### Colina\ncolina`docker`\n```shell\n$ docker pull coolerfall/colina:latest\n```\n`docker compose`/\n```yml\nversion: 3\n\nservices:\n  colina:\n    restart: always\n    image: coolerfall/colina:latest\n    depends_on:\n      - db\n    environment:\n      - COLINA_URL=http://localhost:3000\n      - COLINA_DSN=postgres://colina:colinapass@db/colina?sslmode=disable\n      - COLINA_DATA_DIR=/data\n    ports:\n      - 3000:3000\n    volumes:\n      - /home/colina:/data\n  db:\n    restart: always\n    image: postgres:11-alpine\n    environment:\n      - POSTGRES_USER=colina\n      - POSTGRES_PASSWORD=colinapass\n      - POSTGRES_INITDB_ARGS=\"--encoding=UTF8\"\n    volumes:\n      - /home/colina/db:/var/lib/postgresql/data\n```\n`docker-compose`\n```shell\n$ docker-compose -f docker-compose.yml up -d \n```\n`http://localhost:3000`\n\n#### hexoColina[next][2]\n*  `site id` -->\n\n* `themes/next/layout/_third-party``colina.swig`\n```swig\n  {% if theme.colina.enable %}\n  <link rel=\"stylesheet\" href=\"{{ theme.colina.url }}/embed/colina.min.css\">\n\n  {% if theme.disqus.count %}\n    <script type=\"text/javascript\">\n      var colinaConfig = {\n        siteId: \"{{ theme.colina.site_id }}\",\n        apiUrl: \"{{ theme.colina.url }}\",\n        lang: \"{{ theme.colina.language }}\" || navigator.language || \n          navigator.systemLanguage || navigator.userLanguage\n      };\n      (function() {\n          var d = document, s = d.createElement(\"script\");\n          s.src = \"{{ theme.colina.url }}/embed/counter.min.js\";\n          (d.head || d.body).appendChild(s);\n        })();\n    </script>\n  {% endif %}\n\n  {% if page.comments %}\n    <script type=\"text/javascript\">\n      var colinaConfig = {\n        identifier: \"{{ page.path }}\",\n        siteId: \"{{ theme.colina.site_id }}\",\n        apiUrl: \"{{ theme.colina.url }}\",\n        title: \"{{ page.title| addslashes }}\",\n        lang: \"{{ theme.colina.language }}\" || navigator.language || \n          navigator.systemLanguage || navigator.userLanguage\n      };\n      function loadComments() {\n        (function() {\n          var d = document, s = d.createElement(\"script\");\n          s.src = \"{{ theme.colina.url }}/embed/colina.min.js\";\n          (d.head || d.body).appendChild(s);\n        })();\n      }\n\n      {% if theme.colina.lazyload %}\n        $(function () {\n          var offsetTop = $('#comments').offset().top - $(window).height();\n          if (offsetTop <= 0) {\n            // load directly when there's no a scrollbar\n            loadComments();\n          } else {\n            $(window).on('scroll.colina_scroll', function () {\n              // offsetTop may changes because of manually resizing browser window or lazy loading images.\n              var offsetTop = $('#comments').offset().top - $(window).height();\n              var scrollTop = $(window).scrollTop();\n\n              // pre-load comments a bit? (margin or anything else)\n              if (offsetTop - scrollTop < 60) {\n                $(window).off('.colina_scroll');\n                loadComments();\n              }\n            });\n          }\n        });\n      {% else %}\n        loadComments();\n      {% endif %}\n    </script>\n  {% endif %}\n\n{% endif %}\n```\n\n* `index.swig`\n```swig\n{% include 'colina.swig' %}\n```\n\n* `themes/next/layout/_partials/comments.swig`\n```swig\n{% elseif theme.colina.enable %}\n    <div class=\"comments\" id=\"comments\">\n      <div id=\"colina-comments\">\n        <noscript>\n          Please enable JavaScript to view comments powered by Colina.\n        </noscript>\n      </div>\n    </div>\n```\n\n* `themes/next/layout/_macro/post.swig`\n```swig\n  {% if post.comments %}\n  ...\n  ...\n\n    {% elseif theme.colina.enable and theme.colina.count %}\n      <span class=\"post-comments-count\">\n        <span class=\"post-meta-divider\">|</span>\n        <span class=\"post-meta-item-icon\">\n          <i class=\"fa fa-comment-o\"></i>\n        </span>\n        <a href=\"{{ url_for(post.path) }}#comments\" itemprop=\"discussionUrl\">\n          <span class=\"post-meta-item-text\">{{ __('post.comments_count') + __('symbol.colon') }}</span>\n          <span class=\"post-comments-count colina-comment-count\"\n                  data-colina-identifier=\"{{ post.path }}\" itemprop=\"commentCount\"></span>\n        </a>\n      </span>\n```\n\n* `themes/next/_config.yml`\n```yml\ncolina:\n  enable: true\n  site_id: your site id\n  url: http://localhost:3000\n  count: true\n  lazyload: false\n  language:\n```\n\n* hexo\n\n[1]: https://hub.docker.com/r/coolerfall/colina\n[2]: https://github.com/theme-next/hexo-theme-next\n","source":"_posts/2019-02-19-migrate-disqus-to-colina.md","raw":"---\ntitle: disquscolina\ndate: 2019-02-19 16:45:50\ncategory: misc\ntags: [colina, comment]\n---\n\nHexo`disqus````gitment` `disqus`disqus[colina][1]Markdown\n\n<!-- more -->\n\n#### Colina\ncolina`docker`\n```shell\n$ docker pull coolerfall/colina:latest\n```\n`docker compose`/\n```yml\nversion: 3\n\nservices:\n  colina:\n    restart: always\n    image: coolerfall/colina:latest\n    depends_on:\n      - db\n    environment:\n      - COLINA_URL=http://localhost:3000\n      - COLINA_DSN=postgres://colina:colinapass@db/colina?sslmode=disable\n      - COLINA_DATA_DIR=/data\n    ports:\n      - 3000:3000\n    volumes:\n      - /home/colina:/data\n  db:\n    restart: always\n    image: postgres:11-alpine\n    environment:\n      - POSTGRES_USER=colina\n      - POSTGRES_PASSWORD=colinapass\n      - POSTGRES_INITDB_ARGS=\"--encoding=UTF8\"\n    volumes:\n      - /home/colina/db:/var/lib/postgresql/data\n```\n`docker-compose`\n```shell\n$ docker-compose -f docker-compose.yml up -d \n```\n`http://localhost:3000`\n\n#### hexoColina[next][2]\n*  `site id` -->\n\n* `themes/next/layout/_third-party``colina.swig`\n```swig\n  {% if theme.colina.enable %}\n  <link rel=\"stylesheet\" href=\"{{ theme.colina.url }}/embed/colina.min.css\">\n\n  {% if theme.disqus.count %}\n    <script type=\"text/javascript\">\n      var colinaConfig = {\n        siteId: \"{{ theme.colina.site_id }}\",\n        apiUrl: \"{{ theme.colina.url }}\",\n        lang: \"{{ theme.colina.language }}\" || navigator.language || \n          navigator.systemLanguage || navigator.userLanguage\n      };\n      (function() {\n          var d = document, s = d.createElement(\"script\");\n          s.src = \"{{ theme.colina.url }}/embed/counter.min.js\";\n          (d.head || d.body).appendChild(s);\n        })();\n    </script>\n  {% endif %}\n\n  {% if page.comments %}\n    <script type=\"text/javascript\">\n      var colinaConfig = {\n        identifier: \"{{ page.path }}\",\n        siteId: \"{{ theme.colina.site_id }}\",\n        apiUrl: \"{{ theme.colina.url }}\",\n        title: \"{{ page.title| addslashes }}\",\n        lang: \"{{ theme.colina.language }}\" || navigator.language || \n          navigator.systemLanguage || navigator.userLanguage\n      };\n      function loadComments() {\n        (function() {\n          var d = document, s = d.createElement(\"script\");\n          s.src = \"{{ theme.colina.url }}/embed/colina.min.js\";\n          (d.head || d.body).appendChild(s);\n        })();\n      }\n\n      {% if theme.colina.lazyload %}\n        $(function () {\n          var offsetTop = $('#comments').offset().top - $(window).height();\n          if (offsetTop <= 0) {\n            // load directly when there's no a scrollbar\n            loadComments();\n          } else {\n            $(window).on('scroll.colina_scroll', function () {\n              // offsetTop may changes because of manually resizing browser window or lazy loading images.\n              var offsetTop = $('#comments').offset().top - $(window).height();\n              var scrollTop = $(window).scrollTop();\n\n              // pre-load comments a bit? (margin or anything else)\n              if (offsetTop - scrollTop < 60) {\n                $(window).off('.colina_scroll');\n                loadComments();\n              }\n            });\n          }\n        });\n      {% else %}\n        loadComments();\n      {% endif %}\n    </script>\n  {% endif %}\n\n{% endif %}\n```\n\n* `index.swig`\n```swig\n{% include 'colina.swig' %}\n```\n\n* `themes/next/layout/_partials/comments.swig`\n```swig\n{% elseif theme.colina.enable %}\n    <div class=\"comments\" id=\"comments\">\n      <div id=\"colina-comments\">\n        <noscript>\n          Please enable JavaScript to view comments powered by Colina.\n        </noscript>\n      </div>\n    </div>\n```\n\n* `themes/next/layout/_macro/post.swig`\n```swig\n  {% if post.comments %}\n  ...\n  ...\n\n    {% elseif theme.colina.enable and theme.colina.count %}\n      <span class=\"post-comments-count\">\n        <span class=\"post-meta-divider\">|</span>\n        <span class=\"post-meta-item-icon\">\n          <i class=\"fa fa-comment-o\"></i>\n        </span>\n        <a href=\"{{ url_for(post.path) }}#comments\" itemprop=\"discussionUrl\">\n          <span class=\"post-meta-item-text\">{{ __('post.comments_count') + __('symbol.colon') }}</span>\n          <span class=\"post-comments-count colina-comment-count\"\n                  data-colina-identifier=\"{{ post.path }}\" itemprop=\"commentCount\"></span>\n        </a>\n      </span>\n```\n\n* `themes/next/_config.yml`\n```yml\ncolina:\n  enable: true\n  site_id: your site id\n  url: http://localhost:3000\n  count: true\n  lazyload: false\n  language:\n```\n\n* hexo\n\n[1]: https://hub.docker.com/r/coolerfall/colina\n[2]: https://github.com/theme-next/hexo-theme-next\n","slug":"migrate-disqus-to-colina","published":1,"updated":"2023-05-23T03:07:55.015Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cli00ivm50028z0infk5xhiv7","content":"<p> Hexo  <code>disqus</code><code></code><code>gitment</code>   <code>disqus</code> disqus  <a href=\"https://hub.docker.com/r/coolerfall/colina\">colina</a> Markdown </p>\n<span id=\"more\"></span>\n\n<h4 id=\"Colina\"><a href=\"#Colina\" class=\"headerlink\" title=\"Colina\"></a> Colina</h4><p> colina  <code>docker</code> </p>\n<figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">docker pull coolerfall/colina:latest</span></span><br></pre></td></tr></tbody></table></figure>\n<p> <code>docker compose</code>  / </p>\n<figure class=\"highlight yml\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">version:</span> <span class=\"number\">3</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">services:</span></span><br><span class=\"line\">  <span class=\"attr\">colina:</span></span><br><span class=\"line\">    <span class=\"attr\">restart:</span> <span class=\"string\">always</span></span><br><span class=\"line\">    <span class=\"attr\">image:</span> <span class=\"string\">coolerfall/colina:latest</span></span><br><span class=\"line\">    <span class=\"attr\">depends_on:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">db</span></span><br><span class=\"line\">    <span class=\"attr\">environment:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">COLINA_URL=http://localhost:3000</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">COLINA_DSN=postgres://colina:colinapass@db/colina?sslmode=disable</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">COLINA_DATA_DIR=/data</span></span><br><span class=\"line\">    <span class=\"attr\">ports:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"number\">3000</span><span class=\"string\">:3000</span></span><br><span class=\"line\">    <span class=\"attr\">volumes:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">/home/colina:/data</span></span><br><span class=\"line\">  <span class=\"attr\">db:</span></span><br><span class=\"line\">    <span class=\"attr\">restart:</span> <span class=\"string\">always</span></span><br><span class=\"line\">    <span class=\"attr\">image:</span> <span class=\"string\">postgres:11-alpine</span></span><br><span class=\"line\">    <span class=\"attr\">environment:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">POSTGRES_USER=colina</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">POSTGRES_PASSWORD=colinapass</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">POSTGRES_INITDB_ARGS=\"--encoding=UTF8\"</span></span><br><span class=\"line\">    <span class=\"attr\">volumes:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">/home/colina/db:/var/lib/postgresql/data</span></span><br></pre></td></tr></tbody></table></figure>\n<p> <code>docker-compose</code> </p>\n<figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">docker-compose -f docker-compose.yml up -d</span> </span><br></pre></td></tr></tbody></table></figure>\n<p> <code>http://localhost:3000</code></p>\n<h4 id=\"hexoColinanext\"><a href=\"#hexoColinanext\" class=\"headerlink\" title=\"hexoColinanext\"></a> hexo  Colina <a href=\"https://github.com/theme-next/hexo-theme-next\">next</a> </h4><ul>\n<li><p> <code>site id</code> &gt;</p>\n</li>\n<li><p> <code>themes/next/layout/_third-party</code>  <code>colina.swig</code> </p>\n<figure class=\"highlight plaintext\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  {% if theme.colina.enable %}</span><br><span class=\"line\">  &lt;link rel=\"stylesheet\" href=\"{{ theme.colina.url }}/embed/colina.min.css\"&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">  {% if theme.disqus.count %}</span><br><span class=\"line\">    &lt;script type=\"text/javascript\"&gt;</span><br><span class=\"line\">      var colinaConfig = {</span><br><span class=\"line\">        siteId: \"{{ theme.colina.site_id }}\",</span><br><span class=\"line\">        apiUrl: \"{{ theme.colina.url }}\",</span><br><span class=\"line\">        lang: \"{{ theme.colina.language }}\" || navigator.language || </span><br><span class=\"line\">          navigator.systemLanguage || navigator.userLanguage</span><br><span class=\"line\">      };</span><br><span class=\"line\">      (function() {</span><br><span class=\"line\">          var d = document, s = d.createElement(\"script\");</span><br><span class=\"line\">          s.src = \"{{ theme.colina.url }}/embed/counter.min.js\";</span><br><span class=\"line\">          (d.head || d.body).appendChild(s);</span><br><span class=\"line\">        })();</span><br><span class=\"line\">    &lt;/script&gt;</span><br><span class=\"line\">  {% endif %}</span><br><span class=\"line\"></span><br><span class=\"line\">  {% if page.comments %}</span><br><span class=\"line\">    &lt;script type=\"text/javascript\"&gt;</span><br><span class=\"line\">      var colinaConfig = {</span><br><span class=\"line\">        identifier: \"{{ page.path }}\",</span><br><span class=\"line\">        siteId: \"{{ theme.colina.site_id }}\",</span><br><span class=\"line\">        apiUrl: \"{{ theme.colina.url }}\",</span><br><span class=\"line\">        title: \"{{ page.title| addslashes }}\",</span><br><span class=\"line\">        lang: \"{{ theme.colina.language }}\" || navigator.language || </span><br><span class=\"line\">          navigator.systemLanguage || navigator.userLanguage</span><br><span class=\"line\">      };</span><br><span class=\"line\">      function loadComments() {</span><br><span class=\"line\">        (function() {</span><br><span class=\"line\">          var d = document, s = d.createElement(\"script\");</span><br><span class=\"line\">          s.src = \"{{ theme.colina.url }}/embed/colina.min.js\";</span><br><span class=\"line\">          (d.head || d.body).appendChild(s);</span><br><span class=\"line\">        })();</span><br><span class=\"line\">      }</span><br><span class=\"line\"></span><br><span class=\"line\">      {% if theme.colina.lazyload %}</span><br><span class=\"line\">        $(function () {</span><br><span class=\"line\">          var offsetTop = $('#comments').offset().top - $(window).height();</span><br><span class=\"line\">          if (offsetTop &lt;= 0) {</span><br><span class=\"line\">            // load directly when there's no a scrollbar</span><br><span class=\"line\">            loadComments();</span><br><span class=\"line\">          } else {</span><br><span class=\"line\">            $(window).on('scroll.colina_scroll', function () {</span><br><span class=\"line\">              // offsetTop may changes because of manually resizing browser window or lazy loading images.</span><br><span class=\"line\">              var offsetTop = $('#comments').offset().top - $(window).height();</span><br><span class=\"line\">              var scrollTop = $(window).scrollTop();</span><br><span class=\"line\"></span><br><span class=\"line\">              // pre-load comments a bit? (margin or anything else)</span><br><span class=\"line\">              if (offsetTop - scrollTop &lt; 60) {</span><br><span class=\"line\">                $(window).off('.colina_scroll');</span><br><span class=\"line\">                loadComments();</span><br><span class=\"line\">              }</span><br><span class=\"line\">            });</span><br><span class=\"line\">          }</span><br><span class=\"line\">        });</span><br><span class=\"line\">      {% else %}</span><br><span class=\"line\">        loadComments();</span><br><span class=\"line\">      {% endif %}</span><br><span class=\"line\">    &lt;/script&gt;</span><br><span class=\"line\">  {% endif %}</span><br><span class=\"line\"></span><br><span class=\"line\">{% endif %}</span><br></pre></td></tr></tbody></table></figure>\n</li>\n<li><p> <code>index.swig</code> </p>\n<figure class=\"highlight plaintext\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">{% include 'colina.swig' %}</span><br></pre></td></tr></tbody></table></figure>\n</li>\n<li><p> <code>themes/next/layout/_partials/comments.swig</code> </p>\n<figure class=\"highlight plaintext\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">{% elseif theme.colina.enable %}</span><br><span class=\"line\">    &lt;div class=\"comments\" id=\"comments\"&gt;</span><br><span class=\"line\">      &lt;div id=\"colina-comments\"&gt;</span><br><span class=\"line\">        &lt;noscript&gt;</span><br><span class=\"line\">          Please enable JavaScript to view comments powered by Colina.</span><br><span class=\"line\">        &lt;/noscript&gt;</span><br><span class=\"line\">      &lt;/div&gt;</span><br><span class=\"line\">    &lt;/div&gt;</span><br></pre></td></tr></tbody></table></figure>\n</li>\n<li><p> <code>themes/next/layout/_macro/post.swig</code> </p>\n<figure class=\"highlight plaintext\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">{% if post.comments %}</span><br><span class=\"line\">...</span><br><span class=\"line\">...</span><br><span class=\"line\"></span><br><span class=\"line\">  {% elseif theme.colina.enable and theme.colina.count %}</span><br><span class=\"line\">    &lt;span class=\"post-comments-count\"&gt;</span><br><span class=\"line\">      &lt;span class=\"post-meta-divider\"&gt;|&lt;/span&gt;</span><br><span class=\"line\">      &lt;span class=\"post-meta-item-icon\"&gt;</span><br><span class=\"line\">        &lt;i class=\"fa fa-comment-o\"&gt;&lt;/i&gt;</span><br><span class=\"line\">      &lt;/span&gt;</span><br><span class=\"line\">      &lt;a href=\"{{ url_for(post.path) }}#comments\" itemprop=\"discussionUrl\"&gt;</span><br><span class=\"line\">        &lt;span class=\"post-meta-item-text\"&gt;{{ __('post.comments_count') + __('symbol.colon') }}&lt;/span&gt;</span><br><span class=\"line\">        &lt;span class=\"post-comments-count colina-comment-count\"</span><br><span class=\"line\">                data-colina-identifier=\"{{ post.path }}\" itemprop=\"commentCount\"&gt;&lt;/span&gt;</span><br><span class=\"line\">      &lt;/a&gt;</span><br><span class=\"line\">    &lt;/span&gt;</span><br></pre></td></tr></tbody></table></figure>\n</li>\n<li><p> <code>themes/next/_config.yml</code> </p>\n<figure class=\"highlight yml\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">colina:</span></span><br><span class=\"line\">  <span class=\"attr\">enable:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">site_id:</span> <span class=\"string\">your</span> <span class=\"string\">site</span> <span class=\"string\">id</span></span><br><span class=\"line\">  <span class=\"attr\">url:</span> <span class=\"string\">http://localhost:3000</span></span><br><span class=\"line\">  <span class=\"attr\">count:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">lazyload:</span> <span class=\"literal\">false</span></span><br><span class=\"line\">  <span class=\"attr\">language:</span></span><br></pre></td></tr></tbody></table></figure>\n</li>\n<li><p> hexo </p>\n</li>\n</ul>\n","site":{"data":{}},"excerpt":"<p> Hexo  <code>disqus</code><code></code><code>gitment</code>   <code>disqus</code> disqus  <a href=\"https://hub.docker.com/r/coolerfall/colina\">colina</a> Markdown </p>","more":"<h4 id=\"Colina\"><a href=\"#Colina\" class=\"headerlink\" title=\"Colina\"></a> Colina</h4><p> colina  <code>docker</code> </p>\n<figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">docker pull coolerfall/colina:latest</span></span><br></pre></td></tr></tbody></table></figure>\n<p> <code>docker compose</code>  / </p>\n<figure class=\"highlight yml\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">version:</span> <span class=\"number\">3</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">services:</span></span><br><span class=\"line\">  <span class=\"attr\">colina:</span></span><br><span class=\"line\">    <span class=\"attr\">restart:</span> <span class=\"string\">always</span></span><br><span class=\"line\">    <span class=\"attr\">image:</span> <span class=\"string\">coolerfall/colina:latest</span></span><br><span class=\"line\">    <span class=\"attr\">depends_on:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">db</span></span><br><span class=\"line\">    <span class=\"attr\">environment:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">COLINA_URL=http://localhost:3000</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">COLINA_DSN=postgres://colina:colinapass@db/colina?sslmode=disable</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">COLINA_DATA_DIR=/data</span></span><br><span class=\"line\">    <span class=\"attr\">ports:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"number\">3000</span><span class=\"string\">:3000</span></span><br><span class=\"line\">    <span class=\"attr\">volumes:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">/home/colina:/data</span></span><br><span class=\"line\">  <span class=\"attr\">db:</span></span><br><span class=\"line\">    <span class=\"attr\">restart:</span> <span class=\"string\">always</span></span><br><span class=\"line\">    <span class=\"attr\">image:</span> <span class=\"string\">postgres:11-alpine</span></span><br><span class=\"line\">    <span class=\"attr\">environment:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">POSTGRES_USER=colina</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">POSTGRES_PASSWORD=colinapass</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">POSTGRES_INITDB_ARGS=\"--encoding=UTF8\"</span></span><br><span class=\"line\">    <span class=\"attr\">volumes:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">/home/colina/db:/var/lib/postgresql/data</span></span><br></pre></td></tr></tbody></table></figure>\n<p> <code>docker-compose</code> </p>\n<figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">docker-compose -f docker-compose.yml up -d</span> </span><br></pre></td></tr></tbody></table></figure>\n<p> <code>http://localhost:3000</code></p>\n<h4 id=\"hexoColinanext\"><a href=\"#hexoColinanext\" class=\"headerlink\" title=\"hexoColinanext\"></a> hexo  Colina <a href=\"https://github.com/theme-next/hexo-theme-next\">next</a> </h4><ul>\n<li><p> <code>site id</code> &gt;</p>\n</li>\n<li><p> <code>themes/next/layout/_third-party</code>  <code>colina.swig</code> </p>\n<figure class=\"highlight plaintext\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  {% if theme.colina.enable %}</span><br><span class=\"line\">  &lt;link rel=\"stylesheet\" href=\"{{ theme.colina.url }}/embed/colina.min.css\"&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">  {% if theme.disqus.count %}</span><br><span class=\"line\">    &lt;script type=\"text/javascript\"&gt;</span><br><span class=\"line\">      var colinaConfig = {</span><br><span class=\"line\">        siteId: \"{{ theme.colina.site_id }}\",</span><br><span class=\"line\">        apiUrl: \"{{ theme.colina.url }}\",</span><br><span class=\"line\">        lang: \"{{ theme.colina.language }}\" || navigator.language || </span><br><span class=\"line\">          navigator.systemLanguage || navigator.userLanguage</span><br><span class=\"line\">      };</span><br><span class=\"line\">      (function() {</span><br><span class=\"line\">          var d = document, s = d.createElement(\"script\");</span><br><span class=\"line\">          s.src = \"{{ theme.colina.url }}/embed/counter.min.js\";</span><br><span class=\"line\">          (d.head || d.body).appendChild(s);</span><br><span class=\"line\">        })();</span><br><span class=\"line\">    &lt;/script&gt;</span><br><span class=\"line\">  {% endif %}</span><br><span class=\"line\"></span><br><span class=\"line\">  {% if page.comments %}</span><br><span class=\"line\">    &lt;script type=\"text/javascript\"&gt;</span><br><span class=\"line\">      var colinaConfig = {</span><br><span class=\"line\">        identifier: \"{{ page.path }}\",</span><br><span class=\"line\">        siteId: \"{{ theme.colina.site_id }}\",</span><br><span class=\"line\">        apiUrl: \"{{ theme.colina.url }}\",</span><br><span class=\"line\">        title: \"{{ page.title| addslashes }}\",</span><br><span class=\"line\">        lang: \"{{ theme.colina.language }}\" || navigator.language || </span><br><span class=\"line\">          navigator.systemLanguage || navigator.userLanguage</span><br><span class=\"line\">      };</span><br><span class=\"line\">      function loadComments() {</span><br><span class=\"line\">        (function() {</span><br><span class=\"line\">          var d = document, s = d.createElement(\"script\");</span><br><span class=\"line\">          s.src = \"{{ theme.colina.url }}/embed/colina.min.js\";</span><br><span class=\"line\">          (d.head || d.body).appendChild(s);</span><br><span class=\"line\">        })();</span><br><span class=\"line\">      }</span><br><span class=\"line\"></span><br><span class=\"line\">      {% if theme.colina.lazyload %}</span><br><span class=\"line\">        $(function () {</span><br><span class=\"line\">          var offsetTop = $('#comments').offset().top - $(window).height();</span><br><span class=\"line\">          if (offsetTop &lt;= 0) {</span><br><span class=\"line\">            // load directly when there's no a scrollbar</span><br><span class=\"line\">            loadComments();</span><br><span class=\"line\">          } else {</span><br><span class=\"line\">            $(window).on('scroll.colina_scroll', function () {</span><br><span class=\"line\">              // offsetTop may changes because of manually resizing browser window or lazy loading images.</span><br><span class=\"line\">              var offsetTop = $('#comments').offset().top - $(window).height();</span><br><span class=\"line\">              var scrollTop = $(window).scrollTop();</span><br><span class=\"line\"></span><br><span class=\"line\">              // pre-load comments a bit? (margin or anything else)</span><br><span class=\"line\">              if (offsetTop - scrollTop &lt; 60) {</span><br><span class=\"line\">                $(window).off('.colina_scroll');</span><br><span class=\"line\">                loadComments();</span><br><span class=\"line\">              }</span><br><span class=\"line\">            });</span><br><span class=\"line\">          }</span><br><span class=\"line\">        });</span><br><span class=\"line\">      {% else %}</span><br><span class=\"line\">        loadComments();</span><br><span class=\"line\">      {% endif %}</span><br><span class=\"line\">    &lt;/script&gt;</span><br><span class=\"line\">  {% endif %}</span><br><span class=\"line\"></span><br><span class=\"line\">{% endif %}</span><br></pre></td></tr></tbody></table></figure>\n</li>\n<li><p> <code>index.swig</code> </p>\n<figure class=\"highlight plaintext\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">{% include 'colina.swig' %}</span><br></pre></td></tr></tbody></table></figure>\n</li>\n<li><p> <code>themes/next/layout/_partials/comments.swig</code> </p>\n<figure class=\"highlight plaintext\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">{% elseif theme.colina.enable %}</span><br><span class=\"line\">    &lt;div class=\"comments\" id=\"comments\"&gt;</span><br><span class=\"line\">      &lt;div id=\"colina-comments\"&gt;</span><br><span class=\"line\">        &lt;noscript&gt;</span><br><span class=\"line\">          Please enable JavaScript to view comments powered by Colina.</span><br><span class=\"line\">        &lt;/noscript&gt;</span><br><span class=\"line\">      &lt;/div&gt;</span><br><span class=\"line\">    &lt;/div&gt;</span><br></pre></td></tr></tbody></table></figure>\n</li>\n<li><p> <code>themes/next/layout/_macro/post.swig</code> </p>\n<figure class=\"highlight plaintext\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">{% if post.comments %}</span><br><span class=\"line\">...</span><br><span class=\"line\">...</span><br><span class=\"line\"></span><br><span class=\"line\">  {% elseif theme.colina.enable and theme.colina.count %}</span><br><span class=\"line\">    &lt;span class=\"post-comments-count\"&gt;</span><br><span class=\"line\">      &lt;span class=\"post-meta-divider\"&gt;|&lt;/span&gt;</span><br><span class=\"line\">      &lt;span class=\"post-meta-item-icon\"&gt;</span><br><span class=\"line\">        &lt;i class=\"fa fa-comment-o\"&gt;&lt;/i&gt;</span><br><span class=\"line\">      &lt;/span&gt;</span><br><span class=\"line\">      &lt;a href=\"{{ url_for(post.path) }}#comments\" itemprop=\"discussionUrl\"&gt;</span><br><span class=\"line\">        &lt;span class=\"post-meta-item-text\"&gt;{{ __('post.comments_count') + __('symbol.colon') }}&lt;/span&gt;</span><br><span class=\"line\">        &lt;span class=\"post-comments-count colina-comment-count\"</span><br><span class=\"line\">                data-colina-identifier=\"{{ post.path }}\" itemprop=\"commentCount\"&gt;&lt;/span&gt;</span><br><span class=\"line\">      &lt;/a&gt;</span><br><span class=\"line\">    &lt;/span&gt;</span><br></pre></td></tr></tbody></table></figure>\n</li>\n<li><p> <code>themes/next/_config.yml</code> </p>\n<figure class=\"highlight yml\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">colina:</span></span><br><span class=\"line\">  <span class=\"attr\">enable:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">site_id:</span> <span class=\"string\">your</span> <span class=\"string\">site</span> <span class=\"string\">id</span></span><br><span class=\"line\">  <span class=\"attr\">url:</span> <span class=\"string\">http://localhost:3000</span></span><br><span class=\"line\">  <span class=\"attr\">count:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">lazyload:</span> <span class=\"literal\">false</span></span><br><span class=\"line\">  <span class=\"attr\">language:</span></span><br></pre></td></tr></tbody></table></figure>\n</li>\n<li><p> hexo </p>\n</li>\n</ul>"}],"PostAsset":[],"PostCategory":[{"post_id":"cli00ivl70001z0infsw60net","category_id":"cli00ivld0004z0inckti7ffl","_id":"cli00ivlk000fz0in339k3pos"},{"post_id":"cli00ivlb0003z0inda2043hb","category_id":"cli00ivlh000bz0in06za3mbt","_id":"cli00ivlp000nz0in7tka1e5x"},{"post_id":"cli00ivlf0007z0in51169fu2","category_id":"cli00ivlh000bz0in06za3mbt","_id":"cli00ivlr000tz0in5j8vgzil"},{"post_id":"cli00ivlg0009z0in7qzsdo66","category_id":"cli00ivlh000bz0in06za3mbt","_id":"cli00ivlt000yz0in6wzv4arx"},{"post_id":"cli00ivls000vz0in72g13hsn","category_id":"cli00ivlh000bz0in06za3mbt","_id":"cli00ivlu0013z0ing1cd6msl"},{"post_id":"cli00ivlh000az0incnm6aa82","category_id":"cli00ivlr000sz0in9fch5ha6","_id":"cli00ivlw0017z0in13ye1qhy"},{"post_id":"cli00ivls000xz0inapkrewr6","category_id":"cli00ivlr000sz0in9fch5ha6","_id":"cli00ivlw001az0in55502zqe"},{"post_id":"cli00ivlu0011z0indsulhgp2","category_id":"cli00ivlh000bz0in06za3mbt","_id":"cli00ivlx001ez0incduh7mtl"},{"post_id":"cli00ivli000dz0inbn3e0020","category_id":"cli00ivlr000sz0in9fch5ha6","_id":"cli00ivly001iz0indbs47vz2"},{"post_id":"cli00ivlu0012z0in12yed6bb","category_id":"cli00ivlr000sz0in9fch5ha6","_id":"cli00ivlz001lz0in5wds9d1p"},{"post_id":"cli00ivlv0016z0inc10084mp","category_id":"cli00ivlr000sz0in9fch5ha6","_id":"cli00ivm0001pz0inhbmja0z0"},{"post_id":"cli00ivlj000ez0in6851bjdt","category_id":"cli00ivlv0014z0in2y10h0bg","_id":"cli00ivm0001sz0inhrdt720c"},{"post_id":"cli00ivlw0019z0ind6g41nw2","category_id":"cli00ivlr000sz0in9fch5ha6","_id":"cli00ivm2001vz0inddnt9a07"},{"post_id":"cli00ivlx001dz0in5o0veoqq","category_id":"cli00ivlr000sz0in9fch5ha6","_id":"cli00ivm3001zz0in3wx7c4k0"},{"post_id":"cli00ivln000iz0in4arv5aum","category_id":"cli00ivlr000sz0in9fch5ha6","_id":"cli00ivm30022z0inb8f43uzu"},{"post_id":"cli00ivly001hz0in5f88biz9","category_id":"cli00ivlr000sz0in9fch5ha6","_id":"cli00ivm40026z0indvpd8tb3"},{"post_id":"cli00ivly001kz0in9ia6h8zm","category_id":"cli00ivlr000sz0in9fch5ha6","_id":"cli00ivm50029z0inepf31ttn"},{"post_id":"cli00ivlo000kz0inbso8facv","category_id":"cli00ivlr000sz0in9fch5ha6","_id":"cli00ivm5002bz0in29yu72ks"},{"post_id":"cli00ivm0001rz0in3a8d16nu","category_id":"cli00ivlr000sz0in9fch5ha6","_id":"cli00ivm6002ez0in1teoe1c2"},{"post_id":"cli00ivlp000pz0in7iub5b5i","category_id":"cli00ivlr000sz0in9fch5ha6","_id":"cli00ivm6002gz0in788jezth"},{"post_id":"cli00ivm1001uz0in6zd91o1n","category_id":"cli00ivld0004z0inckti7ffl","_id":"cli00ivm6002hz0indzce6eab"},{"post_id":"cli00ivm2001yz0inhxxz6pxp","category_id":"cli00ivld0004z0inckti7ffl","_id":"cli00ivm6002kz0inag5v7qc6"},{"post_id":"cli00ivlq000rz0in30ss9gns","category_id":"cli00ivlr000sz0in9fch5ha6","_id":"cli00ivm7002lz0in7m2yg39f"},{"post_id":"cli00ivm30021z0inhdn13gyc","category_id":"cli00ivld0004z0inckti7ffl","_id":"cli00ivm7002nz0inak4vd1ve"},{"post_id":"cli00ivm40025z0in2c1hcktg","category_id":"cli00ivld0004z0inckti7ffl","_id":"cli00ivm7002pz0inbuzn7mp4"},{"post_id":"cli00ivm50028z0infk5xhiv7","category_id":"cli00ivld0004z0inckti7ffl","_id":"cli00ivm7002rz0inh1tm3ckj"},{"post_id":"cli00ivlz001oz0in9mi43n5o","category_id":"cli00ivm40024z0in6jzec91m","_id":"cli00ivm8002tz0incqk9102k"}],"PostTag":[{"post_id":"cli00ivl70001z0infsw60net","tag_id":"cli00ivle0005z0induwj9lu4","_id":"cli00ivln000jz0inao4tcl2s"},{"post_id":"cli00ivl70001z0infsw60net","tag_id":"cli00ivli000cz0incmrq2czj","_id":"cli00ivlo000lz0inh6bhd2ya"},{"post_id":"cli00ivlb0003z0inda2043hb","tag_id":"cli00ivll000hz0in9hpjcayo","_id":"cli00ivlq000qz0indo38fc44"},{"post_id":"cli00ivlf0007z0in51169fu2","tag_id":"cli00ivll000hz0in9hpjcayo","_id":"cli00ivls000wz0indmz85yr8"},{"post_id":"cli00ivlg0009z0in7qzsdo66","tag_id":"cli00ivll000hz0in9hpjcayo","_id":"cli00ivlw0018z0inb6kudqb6"},{"post_id":"cli00ivlg0009z0in7qzsdo66","tag_id":"cli00ivlt0010z0indqjiflyx","_id":"cli00ivlx001bz0in33vn1vnm"},{"post_id":"cli00ivlh000az0incnm6aa82","tag_id":"cli00ivlv0015z0in9su11yva","_id":"cli00ivly001gz0ing85c2qsn"},{"post_id":"cli00ivli000dz0inbn3e0020","tag_id":"cli00ivlt0010z0indqjiflyx","_id":"cli00ivlz001nz0inhflj1c8e"},{"post_id":"cli00ivlj000ez0in6851bjdt","tag_id":"cli00ivlz001mz0in99yw1vhy","_id":"cli00ivm2001wz0infwix9tbk"},{"post_id":"cli00ivln000iz0in4arv5aum","tag_id":"cli00ivm1001tz0inaz2v930t","_id":"cli00ivm40023z0indiwde2rw"},{"post_id":"cli00ivlo000kz0inbso8facv","tag_id":"cli00ivll000hz0in9hpjcayo","_id":"cli00ivm5002az0inedaq16ku"},{"post_id":"cli00ivlo000kz0inbso8facv","tag_id":"cli00ivm30020z0infj7666m0","_id":"cli00ivm6002cz0in06x213uo"},{"post_id":"cli00ivlp000pz0in7iub5b5i","tag_id":"cli00ivlt0010z0indqjiflyx","_id":"cli00ivm6002fz0incfqlbhmt"},{"post_id":"cli00ivlq000rz0in30ss9gns","tag_id":"cli00ivm6002dz0in41qw7t7q","_id":"cli00ivm6002jz0ingkxy7rpv"},{"post_id":"cli00ivls000vz0in72g13hsn","tag_id":"cli00ivm6002iz0in0fghfg2z","_id":"cli00ivm7002oz0in02j0bp4n"},{"post_id":"cli00ivls000xz0inapkrewr6","tag_id":"cli00ivm7002mz0inc6um6apt","_id":"cli00ivm8002sz0ineui7gxsw"},{"post_id":"cli00ivlu0011z0indsulhgp2","tag_id":"cli00ivm7002qz0in6j941llq","_id":"cli00ivm8002vz0ina4ry5lo6"},{"post_id":"cli00ivlu0012z0in12yed6bb","tag_id":"cli00ivm8002uz0in3745h16t","_id":"cli00ivm9002xz0in637lfku2"},{"post_id":"cli00ivlv0016z0inc10084mp","tag_id":"cli00ivm7002mz0inc6um6apt","_id":"cli00ivm9002zz0in36018j60"},{"post_id":"cli00ivlw0019z0ind6g41nw2","tag_id":"cli00ivm9002yz0inhsyvbaw5","_id":"cli00ivma0031z0in7hgb5ow9"},{"post_id":"cli00ivlx001dz0in5o0veoqq","tag_id":"cli00ivm90030z0in9fzn662u","_id":"cli00ivma0033z0in2y810xlk"},{"post_id":"cli00ivly001hz0in5f88biz9","tag_id":"cli00ivlz001mz0in99yw1vhy","_id":"cli00ivmb0035z0incvup1u5l"},{"post_id":"cli00ivly001kz0in9ia6h8zm","tag_id":"cli00ivma0034z0ina76ndxf7","_id":"cli00ivmb0037z0inayfben60"},{"post_id":"cli00ivlz001oz0in9mi43n5o","tag_id":"cli00ivmb0036z0inbugac5ad","_id":"cli00ivmb0039z0inei1j0syr"},{"post_id":"cli00ivm0001rz0in3a8d16nu","tag_id":"cli00ivmb0038z0in9hxk723u","_id":"cli00ivmc003cz0incbew2a2k"},{"post_id":"cli00ivm0001rz0in3a8d16nu","tag_id":"cli00ivmb003az0in0krn7bwm","_id":"cli00ivmc003dz0in4r739nnh"},{"post_id":"cli00ivm1001uz0in6zd91o1n","tag_id":"cli00ivli000cz0incmrq2czj","_id":"cli00ivmd003fz0inexyf4qlf"},{"post_id":"cli00ivm1001uz0in6zd91o1n","tag_id":"cli00ivmc003bz0inbkt46nyg","_id":"cli00ivmd003gz0in7kuscn4q"},{"post_id":"cli00ivm2001yz0inhxxz6pxp","tag_id":"cli00ivmd003ez0inh3869qv3","_id":"cli00ivme003iz0in96caggum"},{"post_id":"cli00ivm30021z0inhdn13gyc","tag_id":"cli00ivmd003ez0inh3869qv3","_id":"cli00ivme003kz0inhh6r3ccg"},{"post_id":"cli00ivm40025z0in2c1hcktg","tag_id":"cli00ivmd003ez0inh3869qv3","_id":"cli00ivme003mz0in8swr28fv"},{"post_id":"cli00ivm50028z0infk5xhiv7","tag_id":"cli00ivme003lz0in0hgh9ir2","_id":"cli00ivmf003oz0incqu225oc"},{"post_id":"cli00ivm50028z0infk5xhiv7","tag_id":"cli00ivme003nz0in7ckx82pa","_id":"cli00ivmf003pz0in5a795fgn"}],"Tag":[{"name":"github pages","_id":"cli00ivle0005z0induwj9lu4"},{"name":"jekyll","_id":"cli00ivli000cz0incmrq2czj"},{"name":"android studio","_id":"cli00ivll000hz0in9hpjcayo"},{"name":"ndk","_id":"cli00ivlt0010z0indqjiflyx"},{"name":"home key","_id":"cli00ivlv0015z0in9su11yva"},{"name":"hash","_id":"cli00ivlz001mz0in99yw1vhy"},{"name":"taskAffinity","_id":"cli00ivm1001tz0inaz2v930t"},{"name":"maven","_id":"cli00ivm30020z0infj7666m0"},{"name":"launch mode","_id":"cli00ivm6002dz0in41qw7t7q"},{"name":"shell","_id":"cli00ivm6002iz0in0fghfg2z"},{"name":"jni","_id":"cli00ivm7002mz0inc6um6apt"},{"name":"git","_id":"cli00ivm7002qz0in6j941llq"},{"name":"widget","_id":"cli00ivm8002uz0in3745h16t"},{"name":"animation","_id":"cli00ivm9002yz0inhsyvbaw5"},{"name":"proguard","_id":"cli00ivm90030z0in9fzn662u"},{"name":"media","_id":"cli00ivma0034z0ina76ndxf7"},{"name":"c","_id":"cli00ivmb0036z0inbugac5ad"},{"name":"url","_id":"cli00ivmb0038z0in9hxk723u"},{"name":"sanitizer","_id":"cli00ivmb003az0in0krn7bwm"},{"name":"hexo","_id":"cli00ivmc003bz0inbkt46nyg"},{"name":"linux","_id":"cli00ivmd003ez0inh3869qv3"},{"name":"colina","_id":"cli00ivme003lz0in0hgh9ir2"},{"name":"comment","_id":"cli00ivme003nz0in7ckx82pa"}]}}